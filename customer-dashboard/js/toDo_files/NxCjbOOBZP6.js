/*!CK:1431815630!*//*1400798594,178179427*/

if (self.CavalryLogger) { CavalryLogger.start_js(["UUTeU"]); }

__d("AdsAccountCapabilities",[],function(a,b,c,d,e,f){e.exports={DIRECT_SALES:"DIRECT_SALES",PREMIUM:"PREMIUM",VIEW_TAGS:"VIEW_TAGS",CUSTOM_CLUSTER_SHARING:"CUSTOM_CLUSTER_SHARING",LOOKALIKE_AUDIENCE:"LOOKALIKE_AUDIENCE",CUSTOM_AUDIENCES_OPT_OUT_LINK:"CUSTOM_AUDIENCES_OPT_OUT_LINK",CUSTOM_AUDIENCES_REV_SHARE:"CUSTOM_AUDIENCES_REV_SHARE",SYNDICATED_AUDIENCE:"SYNDICATED_AUDIENCE",CUSTOM_AUDIENCES_TOKEN_UPLOAD:"CUSTOM_AUDIENCES_TOKEN_UPLOAD",LOOKALIKE_ADVANCED_CONFIG:"LOOKALIKE_ADVANCED_CONFIG",CUSTOM_AUDIENCES_FOLDERS:"CUSTOM_AUDIENCES_FOLDERS",PLATFORM_ADVERTISER_TOKEN_UPLOAD:"PLATFORM_ADVERTISER_TOKEN_UPLOAD",OFFSITE_CONVERSION_HIGH_BID:"OFFSITE_CONVERSION_HIGH_BID",MOBILE_ADVERTISER_ID_UPLOAD:"MOBILE_ADVERTISER_ID_UPLOAD",CAN_SEND_FEEDBACK:"CAN_SEND_FEEDBACK",CAN_CREATE_LOOKALIKES_WITH_CUSTOM_RATIO:"CAN_CREATE_LOOKALIKES_WITH_CUSTOM_RATIO",MOBILE_APP_REENGAGEMENT_ADS:"MOBILE_APP_REENGAGEMENT_ADS",HAS_ACCEPTED_MOBILE_APP_ENGAGEMENT_TOS:"HAS_ACCEPTED_MOBILE_APP_ENGAGEMENT_TOS",NEKO_DESKTOP_CANVAS_APP_ADS:"NEKO_DESKTOP_CANVAS_APP_ADS",MOBILE_APP_VIDEO_ADS:"MOBILE_APP_VIDEO_ADS",CAN_USE_IMPROVED_GEO:"CAN_USE_IMPROVED_GEO",CAN_USE_REACH_AND_FREQUENCY:"CAN_USE_REACH_AND_FREQUENCY",HOLDOUT_VIEW_TAGS:"HOLDOUT_VIEW_TAGS",NEW_CAMPAIGN_STRUCTURE:"NEW_CAMPAIGN_STRUCTURE",CAN_USE_UNIFIED_INTERESTS:"CAN_USE_UNIFIED_INTERESTS",CAN_USE_CONVERSION_LOOKALIKES:"CAN_USE_CONVERSION_LOOKALIKES",CAN_USE_INVENTORY_MANAGER:"CAN_USE_INVENTORY_MANAGER",CAN_UPDATE_CURRENCY:"CAN_UPDATE_CURRENCY",HAS_AVAILABLE_PAYMENT_METHODS:"HAS_AVAILABLE_PAYMENT_METHODS",CAN_USE_ADVANCED_DEMO:"CAN_USE_ADVANCED_DEMO",CAN_USE_MOBILE_EXTERNAL_PAGE_TYPE:"CAN_USE_MOBILE_EXTERNAL_PAGE_TYPE",CAN_USE_OLD_AD_TYPES:"CAN_USE_OLD_AD_TYPES",PRORATED_BUDGET:"PRORATED_BUDGET",FAN_PLACEMENT_NON_DEFAULT:"FAN_PLACEMENT_NON_DEFAULT",CAN_USE_REACH_BLOCK:"CAN_USE_REACH_BLOCK"};});
__d("AdsAPIObjectives",[],function(a,b,c,d,e,f){e.exports={NONE:"NONE",OFFER_CLAIMS:"OFFER_CLAIMS",PAGE_LIKES:"PAGE_LIKES",CANVAS_APP_INSTALLS:"CANVAS_APP_INSTALLS",EVENT_RESPONSES:"EVENT_RESPONSES",CANVAS_APP_ENGAGEMENT:"CANVAS_APP_ENGAGEMENT",POST_ENGAGEMENT:"POST_ENGAGEMENT",WEBSITE_CONVERSIONS:"WEBSITE_CONVERSIONS",MOBILE_APP_INSTALLS:"MOBILE_APP_INSTALLS",WEBSITE_CLICKS:"WEBSITE_CLICKS",MOBILE_APP_ENGAGEMENT:"MOBILE_APP_ENGAGEMENT",VIDEO_VIEWS:"VIDEO_VIEWS",MEDIA_DOWNLOADS:"MEDIA_DOWNLOADS",LOCAL_AWARENESS:"LOCAL_AWARENESS",INSTAGRAM_BRAND_AWARENESS:"INSTAGRAM_BRAND_AWARENESS",IMPRESSIONS:"IMPRESSIONS",MILLE:"MILLE",MULTIPLE:"MULTIPLE",DEPRECATED_CLICKS:"DEPRECATED_CLICKS",INCOMPATIBLE_OFFER_CLAIMS:"INCOMPATIBLE_OFFER_CLAIMS",INCOMPATIBLE_PAGE_LIKES:"INCOMPATIBLE_PAGE_LIKES",INCOMPATIBLE_CANVAS_APP_INSTALLS:"INCOMPATIBLE_CANVAS_APP_INSTALLS",INCOMPATIBLE_EVENT_RESPONSES:"INCOMPATIBLE_EVENT_RESPONSES",INCOMPATIBLE_CANVAS_APP_ENGAGEMENT:"INCOMPATIBLE_CANVAS_APP_ENGAGEMENT",INCOMPATIBLE_POST_ENGAGEMENT:"INCOMPATIBLE_POST_ENGAGEMENT",INCOMPATIBLE_WEBSITE_CONVERSIONS:"INCOMPATIBLE_WEBSITE_CONVERSIONS",INCOMPATIBLE_MOBILE_APP_INSTALLS:"INCOMPATIBLE_MOBILE_APP_INSTALLS",INCOMPATIBLE_WEBSITE_CLICKS:"INCOMPATIBLE_WEBSITE_CLICKS",INCOMPATIBLE_PAGE_ENGAGEMENT:"INCOMPATIBLE_PAGE_ENGAGEMENT"};});
__d("AdsCFApiSpecFields",[],function(a,b,c,d,e,f){e.exports={ACCOUNT_FIELDS:["id","account_id","age","business_country_code","capabilities","currency","daily_spend_limit","funding_source","funding_source_details","moo_default_conversion_bid","min_daily_budget","name","account_status","timezone_id","timezone_offset_hours_utc","tos_accepted","users","user_role","spend_cap","amount_spent","offsite_pixels_tos_accepted"],USER_PAGE_FIELDS:["id","name","global_brand_page_name","category","link","picture","likes","is_published","is_verified","userpermissions.fields(user,business,business_persona)"]};});
__d("AdsOtherConsts",[],function(a,b,c,d,e,f){e.exports={REACH_TOO_LOW_NUMBER:1000};});
__d("ApiCreativeTypes",[],function(a,b,c,d,e,f){e.exports={STANDARD:1,INLINE_FAN:2,INLINE_RSVP:3,PLATFORM_CONTEXT:4,BASS_PLATFORM_STORY:8,BASS_PAGE_CONNECTIONS:9,BASS_PAGE_CHECKINS:10,PREMIUM_STANDARD:12,PREMIUM_PLATFORM:15,BASS_APP_CONNECTIONS:16,BASS_ENGAGEMENT:17,BASS_LINK_SHARE:19,BASS_QUESTIONS_VOTE:20,QUERY_BASED:25,PAGE_POSTS_V2:27,RESEARCH_POLL:28,TYPEAHEAD:31,CONTEXTUAL_APP_AD:32,PREMIUM_FEED_VIDEO_AD:34,INSTAGRAM_AD:35,EXOTIC_OR_INVALID:999};});
__d("BoostedPostCustomTargetingTypes",[],function(a,b,c,d,e,f){e.exports={AGE_MIN:"age_min",AGE_MAX:"age_max",GENDERS:"genders",GEO_LOCATIONS:"geo_locations",GEO_TILES:"geo_tiles",INTERESTS:"interests",KEYWORDS:"keywords",LOCALES:"locales",LOCATIONS:"locations",CUSTOM_AUDIENCE:"custom_audiences",RADIUS:"radius"};});
__d("BoostedPostEventType",[],function(a,b,c,d,e,f){e.exports={INITIALIZE:"initialize",FIRST_INITIALIZE:"first_initialize",EXTEND:"extend",DELETE:"delete",ACTIVATE:"activate",PAUSE:"pause",ADD_BUDGET:"add_budget",ADGROUP_CREATE_FAIL:"adgroup_create_fail",ASYNC_DELETE_FAIL:"async_delete_fail",REVIEWED:"reviewed",DIALOG_OPEN:"dialog_open",ACTION_MENU_OPEN:"action_menu_open",ACTION_MENU_CLOSE:"action_menu_close",ADD_PAYMENT_HEADER_EDIT_CLICKED:"add_payment_header_edit_clicked",ADD_PAYMENT_HEADER_EDIT_COMPLETED:"add_payment_header_edit_completed",ADD_PAYMENT_HEADER_EDIT_NOT_COMPLETED:"add_payment_header_edit_not_completed",BAD_ADD_BUDGET:"bad_add_budget",BOOST_BUTTON_RENDERED:"boost_button_rendered",BUDGET_CHANGED:"budget_changed",BUDGET_SELECTOR_EDIT_BUTTON:"budget_selector_edit_button",BUDGET_TEXT_CHANGED:"budget_text_changed",BUDGET_TEXT_TOO_LOW:"budget_text_too_low",CAMPAIGN_FINISHED:"campaign_finished",CLICKED_AFTER_BUDGET_NOTIFICATION:"clicked_after_budget_notification",CODED_EXCEPTION:"coded_exception",COMPOSER_CREATE_CANCEL:"composer_create_cancel",COMPOSER_CREATE_SAVE:"composer_create_save",COMPOSER_FLYOUT_OPEN:"composer_flyout_open",CREATE_MORE_OPTIONS:"create_more_options",CREATE_SAVE_CLICK:"create_save_click",DURATION_CHANGED:"duration_changed",EDIT_BUDGET_BUTTON:"edit_budget_button",EDIT_BUDGET_SAVE:"edit_budget_save",ERROR_BOX_RENDER:"error_box_render",FUNDING_SOURCE_CHECKED:"funding_source_checked",PAYMENT_FLOW_COMPLETE:"payment_flow_complete",RETARGET_BUTTON_RENDER:"retarget_button_render",RETARGET_ATTEMPT:"retarget_attempt",TIMELINE_CREATE_FLYOUT_OPEN:"timeline_create_flyout_open",TIMELINE_CREATE_SAVE:"timeline_create_save",TIMELINE_EDIT_FLYOUT_OPEN:"timeline_edit_flyout_open",TIMELINE_RESUME_BOOSTING:"timeline_resume_boosting",TIMELINE_STOP_BOOSTING:"timeline_stop_boosting",SNOWLIFT_FLYOUT_OPEN:"snowlift_flyout_open",PHOTO_PERMALINK_FLYOUT_OPEN:"photo_permalink_flyout_open",MONITOR_SCHEDULE:"monitor_schedule",MONITOR_HEARTBEAT:"monitor_heartbeat",NCPP_SELECTED:"ncpp_selected",GROUPER_SELECTED:"grouper_selected",SURVEY_STAR_RATING:"survey_star_rating",SURVEY_TEXT_FEEDBACK:"survey_text_feedback",SCHEDULE_ADGROUP_CREATE:"schedule_adgroup_create",TARGETING_CHANGED:"targeting_changed",ADGROUP_CREATE:"adgroup_create",TARGETING_WARNING_SHOWN:"targeting_warning_shown",OBJECTIVE_CHANGED:"objective_changed",DELETE_PROMOTION:"delete_promotion",UNKNOWN:"unknown",CAMPAIGN_UPDATE_FAILED:"campaign_update_failed",CREATIVE_INVALID:"creative_invalid",CREATE_BOOST:"create_boost",AM_LAST_USED_AUDIENCE_SHOWN:"am_last_used_audience_shown",AM_FIRST_AUDIENCE_SHOWN:"am_first_audience_shown",AM_DEFAULT_AUDIENCE_SHOWN:"am_default_audience_shown",AM_DEFAULT_AUDIENCE_EDITED:"am_default_audience_edited",AM_AUDIENCE_CREATED:"am_audience_created",AM_AUDIENCE_EDITED:"am_audience_edited",AM_AUDIENCE_DELETED:"am_audience_deleted",AM_AUDIENCE_CHANGED:"am_audience_changed"};});
__d("OcpmAdConfig",[],function(a,b,c,d,e,f){e.exports={actionsMultiplier:.5,clicksMultiplier:.5,mobileInstallMultiplier:1,offsiteMultiplier:3};});
__d("AdsActionTypes",["keyMirror"],function(a,b,c,d,e,f,g){var h=g({PAGE_TRANSITION:true});e.exports=h;});
__d("AdsDispatchActionTypeUtils",[],function(a,b,c,d,e,f){"use strict";var g='_supportedActions';function h(i,j){var k={},l={};for(var m in j){k[m]=i+m;l[i+m]=m;}k[g]=l;return k;}e.exports={createActionTypeMap:h};});
__d("AdsCFActionTypes",["AdsDispatchActionTypeUtils"],function(a,b,c,d,e,f,g){var h='ADS_CF_',i={IMAGE_CROP_CHANGE:null,IMAGE_CROP_ITEM_CLICK:null,IMAGE_CROP_DIALOG_SHOW:null,ACCOUNT_INIT:null,CONVERSION_PIXELS_CHANGE:null,OFFSITE_PIXELS_TOS_ACCEPTED:null,CHANGE_ACCOUNT_CURRENCY:null,CHANGE_ACCOUNT_TIMEZONE_ID:null,CHANGE_ACCOUNT_COUNTRY:null,COUPON_ACTIVATED:null,CHANGE_FUNDING_SOURCE:null,CHANGE_ACTORS:null,ADD_ACTOR:null,CHANGE_AD_NAME:null,CAROUSEL_ITEM_NAVIGATION:null,OBJECTIVE_CHANGE:null,KPI_OBJECTIVE_CHANGE:null,KPI_OBJECTIVE_CONFIRM:null,KPI_OBJECTIVE_SEE_MORE:null,CREATIVE_INIT:null,CREATIVE_CHANGE:null,CREATIVE_PLACEMENTS_CHANGE:null,CREATIVE_STATUS_CHANGE:null,IMAGE_VALIDATED:null,PREVIEW_TAB_SWITCH:null,PREVIEW_LOADING_CHANGE:null,MEDIA_UPDATE:null,IMAGE_VERSION_ADD:null,IMAGE_DIMENSIONS_READY:null,STOCK_SEARCH:null,STOCK_SEARCH_RESULTS_READY:null,VIDEO_UPLOAD_START:null,VIDEO_UPLOAD_SUCCESS:null,VIDEO_UPLOAD_ERROR:null,VIDEO_UPLOAD_PROGRESS:null,VIDEO_ENCODING_SUCCESS:null,IMAGE_UPLOAD_CLICK:null,IMAGE_UPLOAD_SUCCESS:null,IMAGE_DOWNLOAD_ERROR:null,IMAGE_SELECT_CLICK:null,IMAGE_SELECT_SUCCESS:null,IMAGE_DESELECT_SUCCESS:null,IMAGE_SELECT_CONFIRMED:null,IMAGE_SELECT_CANCEL:null,IMAGE_LIBRARY_TAB_CLICK:null,STOCK_IMAGE_SEARCH:null,STOCK_IMAGE_SEARCH_TEXT_CHANGE:null,STOCK_IMAGE_GUIDELINES_SHOW:null,CAMPAIGNS_LOADED:null,CAMPAIGN_SELECT:null,CANCEL_EDITED_CAMPAIGN:null,CHANGE_CAMPAIGN:null,CHANGE_CAMPAIGN_BUDGET:null,CHANGE_CAMPAIGN_BUDGET_MODE:null,CHANGE_CAMPAIGN_NAME:null,CHANGE_CAMPAIGN_SCHEDULE_MODE:null,CHANGE_CAMPAIGN_SCHEDULE:null,CHANGE_CAMPAIGN_STATUS:null,DISMISS_CAMPAIGN_SAVE_SUCCESS:null,EDIT_CAMPAIGN_BUTTON_CLICK:null,SAVE_EDITED_CAMPAIGN_CLICK:null,SAVE_EDITED_CAMPAIGN_ERROR:null,SAVE_EDITED_CAMPAIGN_SUCCESS:null,SAVE_EDITED_CAMPAIGN_TIMEOUT:null,SELECT_EXISTING_CAMPAIGN:null,SELECT_NEW_CAMPAIGN:null,CHANGE_BID_SECTION_VISIBILITY:null,CAMPAIGN_GROUP_SELECT:null,CAMPAIGN_GROUP_SELECT_AND_UPDATE:null,CAMPAIGN_GROUP_LOAD:null,CAMPAIGN_GROUPS_LOADED:null,INIT_DATA_FETCH_ERROR:null,INIT_DATA_LOADED:null,INIT_DATA_RECEIVED:null,INIT_STARTED:null,PLACE_ORDER_INITIATED:null,REVIEW_AD_INITIATED:null,REVIEW_DIALOG_SHOW:null,REVIEW_DIALOG_CANCEL:null,SAVE_AD_INITIATED:null,CREATE_MODE_CONFIG_CHANGE:null,SHOW_MODE_CHANGED:null,URI_CHANGE:null,HELP_LINK_CLICK:null,DESTINATION_CHANGE:null,DESTINATION_FETCH_ERROR:null,DESTINATION_SELECT:null,DESTINATION_UPDATE:null,KPI_DESTINATION_SELECT:null,NEW_PAGE_DESTINATION_SELECT:null,PAGE_POSTS_LOADED:null,PAGE_POSTS_LOAD_COMPLETE:null,PAGE_POSTS_PUBLISHED:null,POST_LINK_DATA_LOADED:null,RESET_DESTINATION:null,CLICK_CONTACT_ADMIN:null,PAGE_SELECTOR_CLICK:null,PAGE_CREATE_CLICK:null,BID_ESTIMATE_CHANGE:null,AUDIENCE_ESTIMATE_CHANGE:null,TARGETING_SENTENCE_CHANGE:null,TARGETING_CHANGE:null,TARGETABLE_AUDIENCES_CHANGE:null,TARGETING_RESET_DEFAULTS:null,BID_CHANGE:null,BID_OPTION_CHANGE:null,BID_PRICE_CHANGE:null,CONVERSION_PIXEL_CHANGE:null,CPA_BID_AVAILABLE:null,DSO_FIELD_CHANGE:null,RESTORE_PRICING_DEFAULTS:null,CHANGE_PIXEL_EMAIL_PERSONAL_MESSAGE:null,ADD_PIXEL_EMAIL_RECIPIENT:null,REMOVE_PIXEL_EMAIL_RECIPIENT:null,CHANGE_PIXEL_SNIPPET_VIEW_MODE:null,CONFIRM_SNIPPET_VIEW:null,CONVERSION_PIXEL_CREATED:null,CODE_MAP_CHANGE:null,CODE_MAP_RESET:null,LOG:null,FOCUS_REQUEST:null,PAYMENTS_FLOW_CANCELLED:null,PAYMENTS_FLOW_ERROR:null,PAYMENTS_FLOW_SUCCESS:null,ADS_MANAGER_REDIRECT:null,CONVERSION_PIXEL_LINK_CLICK:null,CREATE_AD_SUCCESS:null,CREATE_AD_FAIL:null,CREATE_AD_FAIL_WITH_CAMPAIGN_SUCCESS:null,CREATE_AD_TIMEOUT:null,CREATE_SIMILAR_AD:null,EXTEND_CAMPAIGN:null,EXTEND_CAMPAIGN_FAIL:null,EXTEND_CAMPAIGN_SUCCESS:null,INCREASE_BUDGET:null,INCREASE_BUDGET_FAIL:null,INCREASE_BUDGET_SUCCESS:null,REQUEST_RELATED_DATA_FAIL:null,REQUEST_RELATED_DATA_SUCCESS:null,TRACK_MOBILE_APP_INSTALL_COMPOSE:null,TRACK_MOBILE_APP_INSTALL_SEND:null,TRACK_MOBILE_APP_INSTALL_SEND_FAIL:null,TRACK_MOBILE_APP_INSTALL_SEND_SUCCESS:null,TRACK_MOBILE_APP_INSTALL_INFO:null,SAVE_AD_SUCCESS:null,NAVIGATION_SECTION_ADD:null,NAVIGATION_SECTION_REMOVE:null,NAVIGATION_SECTION_ENTERED:null,NAVIGATION_SECTION_EXITED:null,NAVIGATION_SECTION_GO:null,NAVIGATION_SECTION_SCROLL_DONE:null},j=g.createActionTypeMap(h,i);e.exports=j;});
__d("AdsCFConstants",["fbt","keyMirror"],function(a,b,c,d,e,f,g,h){var i={ACTIONS:'actions',CLICKS:'clicks',IMPRESSIONS:'impressions'},j=h({PENDING:null,SUCCESS:null,FAILURE:null}),k={DAILY:'daily',LIFETIME:'lifetime'},l=h({EXTEND_CAMPAIGN:null,INCREASE_BUDGET:null,UNPAUSE:null}),m=h({ACTIVE:null,PAUSED:null}),n=h({ACTIVE:null,PAUSED:null}),o=h({CONTINUOUSLY:null,SCHEDULED:null}),p=h({START_DATE_BEFORE_NOW:null,END_DATE_BEFORE_START_DATE:null,END_DATE_BEFORE_NOW:null,INSUFFICIENT_DAILY_BUDGET:null}),q='canonical-id',r="error entity",s={CREATE_NEW:'create-new',CREATE_SIMILAR:'create-similar',EDIT_EXISTING:'edit-existing'},t={PRIMARY:'primary-creative-id',SECONDARY:'secondary-creative-id'},u=h({AUTO_FILL_OTHER:null,PREFILLED_FROM_URL:null,SINGLE_OBJECT_PREFILL:null,USER_SELECTED:null}),v={};v[s.CREATE_NEW]="Advertise on Facebook";v[s.CREATE_SIMILAR]="Create a Similar Ad";v[s.EDIT_EXISTING]="Edit Your Ad";var w=h({DEFAULT:null,AYMT_DIALOG:null,AYMT_REFERRAL:null}),x={INCREASE_ACCOUNT_SPEND_CAP:1,EXTEND_CAMPAIGN:1,INCREASE_BUDGET:1,CONVERSION_PIXEL:2,TRACK_MOBILE_APP_INSTALL:2},y={ACTIVE:1,DISABLED:2,UNSETTLED:3,PENDING_REVIEW:7,PENDING_CLOSURE:100,CLOSED:101},z=h({EXTEND_CAMPAIGN:null,INCREASE_BUDGET:null,CONVERSION_PIXEL:null,TRACK_MOBILE_APP_INSTALL:null,INCREASE_ACCOUNT_SPEND_CAP:null}),aa=h({DEFAULT:null,FAILURE:null,IN_PROGRESS:null,SUCCESS:null}),ba=h({BEGIN:null,COMPOSE:null,SENDING:null,SUCCESS:null,FAILURE:null}),ca=h({OBJECTIVE_SELECTOR:null,SUGGESTION:null,PIXEL_UPSELL:null}),da={ENABLED:'enabled',DISABLED:'disabled',NOT_SUPPORTED:'not_supported'},ea=h({RHC:null,NEWS_FEED:null,MOBILE_NEWS_FEED:null,FAN:null}),fa=h({FAILURE:null,IN_PROGRESS:null,SUCCESS:null}),ga={NONE:'none',ONLY_PLACEMENT:'only-placement',ONLY_PLACEMENT_EXCEPT_FAN:'only-placement-except-fan'},ha={};ha[ga.ONLY_PLACEMENT]="You need at least one placement to show your ad on Facebook. This is the only placement you've selected, so it can't be removed.";ha[ga.ONLY_PLACEMENT_EXCEPT_FAN]="The mobile News Feed placement can't be removed if you want to show your ad in the Audience Network.";e.exports={AccountStatus:y,BidOptions:i,CampaignBudgetModes:k,CampaignDialogActionTypes:l,CampaignGroupRunStatuses:m,CampaignRunStatuses:n,CampaignScheduleModes:o,CampaignValidationErrors:p,CanonicalID:q,CreateMode:s,CreativeID:t,DataStates:fa,DestinationSelectionSource:u,DocumentTitles:v,Environments:w,ErrorEntityID:r,MobileAppInstallUpsellStates:ba,NEW_CAMPAIGN_GROUP_ID:'NEW_CAMPAIGN_GROUP_ID',NEW_CAMPAIGN_ID:'NEW_CAMPAIGN_ID',ObjectiveChangeSource:ca,PlacementCannotDisableDescription:ha,PlacementCannotDisableReason:ga,PlacementID:ea,PlacementStates:da,RemoteCallStatus:j,UpsellRankings:x,UpsellTypes:z,UpsellViewStates:aa};});
__d("AdsPayloadSource",[],function(a,b,c,d,e,f){var g={CLEANUP_ACTION:'cleanup-action',INITIAL_SERVER:'initial-server',SERVER_RESPONSE:'server-response',UNKNOWN_SOURCE:'unknown-source',VIEW_ACTION:'view-action',URL_PARAM_LOAD:'url-param-load',PAGE_TRANSITION:'page-transition'};e.exports=g;});
__d("Informer",["Arbiter","copyProperties","emptyFunction"],function(a,b,c,d,e,f,g,h,i){'use strict';function j(){this._arbiter=new g();this._isBatching=false;this.subscribe=this._arbiter.subscribe.bind(this._arbiter),this._storesToInform={};}j.prototype.inform=function(k,l){if(this._isBatching){this._storesToInform[k]=this._storesToInform[k]||[];var m=this._storesToInform[k].indexOf(l);if(m!==-1)this._storesToInform[k].splice(m,1);this._storesToInform[k].push(l);}else this._arbiter.inform(k,l);};j.prototype.beginBatch=function(){this._isBatching=true;};j.prototype.endBatch=function(){this._isBatching=false;var k=this._storesToInform;this._storesToInform={};Object.keys(k).forEach(function(l){var m=k[l];m.forEach(function(n){this._arbiter.inform(l,n);}.bind(this));}.bind(this));};h(j.prototype,{subscribe:i});e.exports=j;});
__d("AdsInformer",["Informer"],function(a,b,c,d,e,f,g){'use strict';e.exports=new g();});
__d("adsGKCheck",["AdsCreationConfig","invariant"],function(a,b,c,d,e,f,g){function h(j){return !!g.gk[j];}function i(j,k){g.gk[j]=k;}h.overrideGK=i;e.exports=h;});
__d("AdsDispatcher",["AdsActionTypes","AdsPayloadSource","AdsInformer","BanzaiLogger","Dispatcher","ReactUpdates","Run","URI","adsGKCheck","copyProperties","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){'use strict';var r=[];function s(u){return function(v){var w=Date.now();l.batchedUpdates(function(){i.beginBatch();this.dispatch({payloadsource:u,action:v});i.endBatch();}.bind(this));if(o('ads_cf_log_dispatch_perf')){var x=Date.now()-w;j.log('AdsCFLoggerConfig',{event_name:'dispatch',time_since_load:Date.now()-a._cstart,event_detail:v.actionType,duration:x});}var y=r;r=[];y.forEach(function(z){z();});r.length=0;};}var t=p(new k(),{handleUpdateFromInitialServer:s(h.INITIAL_SERVER),handleUpdateFromServerResponse:s(h.SERVER_RESPONSE),handleUpdateFromURLParams:s(h.URL_PARAM_LOAD),handleUpdateFromUnknownSource:s(h.UNKNOWN_SOURCE),handleUpdateFromViewAction:s(h.VIEW_ACTION),handleUpdateFromCleanUpAction:s(h.CLEANUP_ACTION),handlePageTransition:function(){this.dispatch({payloadsource:h.PAGE_TRANSITION,action:{actionType:g.PAGE_TRANSITION}});},addPostDispatchCallback:function(u){r.push(u);}});m.onAfterUnload(t.handlePageTransition.bind(t));e.exports=t;});
__d("AdsCFApplicationStore",["AdsActionTypes","AdsCFActionTypes","AdsCFConstants","AdsDispatcher","Arbiter","copyProperties","URI"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n,o,p,q,r,s,t,u=m();function v(){var ca=u.getQueryData();if(ca.adgroup_id&&ca.edit){n=ca.adgroup_id;}else n=null;}function w(){var ca=u.getQueryData();if(ca.adgroup_id){if(ca.edit){p=i.CreateMode.EDIT_EXISTING;}else p=i.CreateMode.CREATE_SIMILAR;}else p=i.CreateMode.CREATE_NEW;}function x(){var ca=u.getQueryData();t=ca.show_only;}function y(){var ca=u.getQueryData();r=!!ca.dialog;}function z(){var ca=u.getQueryData();if(ca.oid){s=ca.oid;}else s=null;}function aa(){o=false;q=i.DataStates.IN_PROGRESS;v();w();z();x();y();}aa();var ba=l(new k(),{getCurrentMode:function(){return p;},getAdgroupID:function(){return n;},getDataState:function(){return q;},getShowMode:function(){return t;},getAllowRedirect:function(){return o;},getPendingObjectID:function(){return s;},getURI:function(){return m(u.toString());},isCreatingNew:function(){return p===i.CreateMode.CREATE_NEW;},isCreatingSimilar:function(){return p===i.CreateMode.CREATE_SIMILAR;},isDialog:function(){return r;},isEditingExisting:function(){return p===i.CreateMode.EDIT_EXISTING;},dispatchToken:j.register(function(ca){var da=ca.action;switch(da.actionType){case h.CREATE_MODE_CONFIG_CHANGE:o=!!da.allowRedirect;break;case h.URI_CHANGE:u=da.uri;aa();ba.inform('change');break;case h.CREATE_SIMILAR_AD:p=i.CreateMode.CREATE_SIMILAR;n=null;s=null;ba.inform('change');break;case h.REQUEST_RELATED_DATA_SUCCESS:o=true;ba.inform('change');break;case h.SHOW_MODE_CHANGED:t=da.showMode;ba.inform('change');break;case h.INIT_DATA_LOADED:q=i.DataStates.SUCCESS;ba.inform('change');break;case h.INIT_DATA_FETCH_ERROR:q=i.DataStates.FAILURE;ba.inform('change');break;case g.PAGE_TRANSITION:aa();break;}})});e.exports=ba;});
__d("URIInitDataUtil",["AdsCFApplicationStore","ApiCreativeTypes","URI","AdsAPIObjectives"],function(a,b,c,d,e,f,g,h,i,j){function k(x){return i().getQueryData()[x];}function l(){return k('fbid');}function m(){return k('default_campaign_id');}function n(){return k('campaign_group');}function o(){if(k('storyid'))return j.POST_ENGAGEMENT;return k('objective');}function p(){return k('creativetype');}function q(){if(k('storyid'))return {creativeType:h.PAGE_POSTS_V2,objectId:l(),storyId:k('storyid'),enabled:true};if(p())return {creativeType:parseInt(k('creativetype'),10),objectId:l(),enabled:true};return;}function r(){return k('showlog');}function s(){return k('environment');}function t(){return k('daily_budget');}function u(){var x=k('targeting_spec');if(x)return JSON.parse(x);}function v(){return k('conversion_pixel_id');}function w(){if(!g.isCreatingNew())return false;return !!(q()||p()||l()||o()||u());}e.exports={getDailyBudget:t,getDefaultCampaignID:m,getDefaultCampaignGroupID:n,getDefaultCreative:q,getDefaultDestinationID:l,getDefaultObjective:o,getDefaultTargeting:u,getDefaultConversionPixel:v,getEnvironment:s,getShowLog:r,isPrefilledFromURI:w};});
__d("AdsCFLoggerInternal",["AsyncRequest","URIInitDataUtil","copyProperties","mergeInto"],function(a,b,c,d,e,f,g,h,i,j){function k(m,n,o){h.getShowLog();var p=i({category:m,event:n,time_since_env_flush:Date.now()-a._cstart},o||{});new g('/ads/manage/adscreator/logger/').setData(p).send();}var l={defaultData:{},setDefaultData:function(m){this.defaultData=m;return this;},getDefaultData:function(){return this.defaultData;},updateDefaultData:function(m){j(this.defaultData,m);return this;},CATEGORIES:{CREATE:'create',RETRIEVE:'retrieve',UPDATE:'update',DELETE:'delete',VALIDATION_ERROR:'validation_error',PAYMENT:'ads_payment',NO_DB_OP:'no_db_op'},log:function(m,n,o){o=i(o,this.getDefaultData());var p=i({message:m},{message:o}||{});try{p=JSON.parse(JSON.stringify(p));}catch(q){p={};}k(m||'js_info',n||'general_info',p);}};e.exports=l;});
__d("AdManagerFunding",["AdsCFLoggerInternal","GiftCredits","URI","copyProperties","goURI","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=function(o,p,q,r){g.log(g.CATEGORIES.PAYMENT,o,{account_id:p,ncf:i(window.location.href).getQueryData().ncf,source:q,url_user:r?r:'No url user'});},n={POWER_EDITOR_APP_ID:'119211728144504',_business_id:null,addCredentialCallbackFromFunding:function(o,p){if(p.credential_state){var q=i('/ads/manage/funding.php').addQueryData({credential_state:p.credential_state,act:o});if(n.getBusinessID())q.addQueryData({business_id:n.getBusinessID()});k(q);}},addCredentialCallbackFromFundingInPE:function(o){if(o){var p=i('/ads/manage/powereditor/funding').addQueryData({host:n.POWER_EDITOR_APP_ID}).addQueryData({account:o});if(n.getBusinessID())p.addQueryData({business_id:n.getBusinessID()});k(p);}},addCredentialCallbackFromUnsettled:function(o,p){if(p.credential_state){var q=i('/ads/manage/unsettled.php').addQueryData({primary:1}).addQueryData({act:o}).addQueryData({redirect:p.redirect});if(n.getBusinessID())q.addQueryData({business_id:n.getBusinessID()});k(q);}},addCredentialCallbackFromPageNAX:function(o){if(o.credential_state){var p=i().addQueryData({success:true});if(n.getBusinessID())p.addQueryData({business_id:n.getBusinessID()});k(p);}},addCredential:function(o,p,q,r,s,t,u,v,w,x,y,z){if(!v)v=0;m('payment_initiated',q,o,w);if(!s)switch(o){case 'funding_page':if(u==n.POWER_EDITOR_APP_ID){s=function(){n.addCredentialCallbackFromFundingInPE(q);};}else s=function(ba){n.addCredentialCallbackFromFunding(q,ba);};break;case 'unsettled':case 'grace_period':s=function(ba){n.addCredentialCallbackFromUnsettled(q,ba);};break;case 'create_flow':l(false);break;case 'page_nax':s=n.addCredentialCallbackFromPageNAX;break;default:return;}var aa=function(ba){m(ba.credential_state?'payment_completed':'payment_cancelled',q,o,w);s(ba);};h.getPrompt(p,null,{},null,aa,'admanager',null,null,'ads',j({account_id:q,coupon_code:r,product_name:t,pending_ad_id:v,show_existing_coupon:y},z),{placement:o},null,null,null,null,null,null,null,null,null,null,w,x);},setBusinessID:function(o){n._business_id=o;},getBusinessID:function(){return n._business_id;},verifyCredential:function(o,p,q,r){var s={shortcut:o,credential_id:p,account_id:r};h.getPrompt(q,null,{},null,n.addCredentialCallbackFromFunding,'admanager',null,null,'ads',s,{placement:'funding_page'});},chargeCredential:function(o,p,q,r,s){var t={funding_id:r,payment_method:s,payment_method_type:s,shortcut_charge_flow:true};n.addCredential(o,p,q,null,null,null,null,null,null,null,null,t);}};e.exports=n;});
__d("AdsCommonTargetingProperties",[],function(a,b,c,d,e,f){var g={ageMax:null,ageMin:null,ageMinLimit:null,behaviors:null,cities:null,collegeMajors:null,collegeNetworks:null,countries:null,connections:null,conjunctiveUserAdclusters:null,customAudiences:null,educationMajors:null,educationSchools:null,educationStatuses:null,ethnicAffinity:null,excludedConnections:null,excludedCustomAudiences:null,excludedUserAdclusters:null,familyStatuses:null,friendsOfConnections:null,generation:null,homeOwnership:null,homeType:null,homeValue:null,householdComposition:null,income:null,industries:null,interestedInSex:null,interests:null,keywords:null,lifeEvents:null,locTargeting:null,locales:null,maxGradYear:null,minAndroidVersion:null,minGradYear:null,minIosVersion:null,mobileDevices:null,mobileOperatingSystem:null,moms:null,netWorth:null,officeType:null,pageTypes:null,politics:null,radiusIfValid:null,relationshipStatuses:null,regions:null,sex:null,syndicatedCustomAudiencesLibrary:null,targetAllGraduationYears:null,userAdclusters:null,userOs:null,wifiOnly:null,workEmployers:null,workNetworks:null,workPositions:null,zips:null,geoLocations:null,excludedGeoLocations:null};e.exports=g;});
__d("AdsAbstractCurrencyInput.react",["AdsCurrencyFormatter","Keys","React"],function(a,b,c,d,e,f,g,h,i){var j=i.PropTypes,k=i.createClass({displayName:'AdsAbstractCurrencyInput',propTypes:{currency:j.string.isRequired,value:j.number,withISO:j.bool,nonnegative:j.bool,invalidInputIsNull:j.bool,onDataUpdate:j.func.isRequired,eventType:j.oneOf(['change','blur']),textInputClass:j.func.isRequired},getDefaultProps:function(){return {eventType:'blur'};},getInitialState:function(){return {dirtyValue:null};},render:function(){var l=this.state.dirtyValue;if(l===null){l=this.props.value;if(l!=null){var m=this.props.withISO?g.formatCurrencyWithISO:g.formatCurrency;l=m(this.props.currency,l);}}var n=this.props.textInputClass;return this.transferPropsTo(n({value:l,onChange:this._onChange,onBlur:this.updateValue,onKeyUp:this._onKeyUp}));},_onChange:function(event){this.setState({dirtyValue:event.target.value});if(this.props.eventType==='change')this.props.onDataUpdate(this._parseCurrency(event.target.value));},updateValue:function(event){if(this.props.eventType==='blur')this.props.onDataUpdate(this._parseCurrency(event.target.value));this.setState({dirtyValue:null});},_parseCurrency:function(l){var m=g.parseOptionalCurrency(this.props.currency,l);if(!this.props.invalidInputIsNull)m=m||0;if(m&&this.props.nonnegative)m=Math.abs(m);return m;},_onKeyUp:function(event){if(event.keyCode===h.RETURN)this.updateValue(event);}});e.exports=k;});
__d("XUITextInput.react",["AbstractTextInput.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:'XUITextInput',render:function(){var k=(("_55r1")+(this.props.height=='tall'?' '+"_55r2":''));return this.transferPropsTo(g({ref:"textInput",className:k}));},focusInput:function(){this.refs.textInput.focusInput();}});e.exports=j;});
__d("AdsCurrencyInput.react",["AdsAbstractCurrencyInput.react","React","XUITextInput.react"],function(a,b,c,d,e,f,g,h,i){var j=h.PropTypes,k=h.createClass({displayName:'AdsCurrencyInput',propTypes:{currency:j.string.isRequired,value:j.number,withISO:j.bool,nonnegative:j.bool,invalidInputIsNull:j.bool,onDataUpdate:j.func.isRequired,eventType:j.oneOf(['change','blur'])},render:function(){return this.transferPropsTo(g({textInputClass:i}));}});e.exports=k;});
__d("AdsRichSelector.react",["ContextualLayer.react","DOM","Image.react","InlineBlock.react","React","ReactChildren","ReactLayeredComponentMixin","ScrollableArea","Style","SubscriptionsHandler","XUIPopoverButton.react","cloneWithProps","cx","invariant","joinClasses","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){"use strict";var w=k.PropTypes,x=k.createClass({displayName:'AdsRichSelector',mixins:[m],statics:{propTypes:{alignment:w.oneOf(['left','center','right']),defaultLabel:w.string,disabled:w.bool,maxheight:w.number,maxMenuWidth:w.number,maxwidth:w.number,noLabel:w.bool,onChange:w.func,requireSelection:w.bool,size:w.string,useMenuDividers:w.bool}},_scrollableArea:null,getDefaultProps:function(){return {defaultLabel:'',requireSelection:true};},getInitialState:function(){return {showLayer:false,value:this.props.defaultValue};},componentDidMount:function(){this.subscriptions=new p();this.subscriptions.addSubscriptions(this.refs.menu.layer.subscribe('blur',this._onBlur));this._setMaxHeight();},componentWillReceiveProps:function(aa){this.setState({value:aa.defaultValue});},componentWillUnmount:function(){this.subscriptions.release();},componentDidUpdate:function(aa){if(aa.maxheight!==this.props.maxheight)this._setMaxHeight();},render:function(){var aa=this._processChildrenAndGetSelectedItem()[1],ba=this.props.defaultLabel,ca=null;if(aa){ba=this.props.noLabel?'':aa.props.label;ca=aa.props.icon;}return (j({alignv:"middle",className:u(((this.state.showLayer?"openToggler":'')),this.props.className),name:null},q({className:(("_5mhp")+(this.state.showLayer?' '+"selected":'')+(this.state.showLayer&&this.props.alignment!='right'?' '+"_nk":'')+(this.state.showLayer&&this.props.alignment=='right'?' '+"_nl":'')),disabled:this.props.disabled||false,size:this.props.size||'medium',theme:"dark",maxwidth:this.props.maxwidth||0,label:ba,ref:"selectorButton",onClick:this._toggleSelector,'aria-label':this.props.tooltip||null,'data-hover':"tooltip",'data-tooltip-alignh':this.props.alignh||'left','data-tooltip-alignv':this.props.alignv||'above',image:ca})));},renderLayers:function(){return {menu:g({contextRef:"selectorButton",position:"below",alignment:this.props.alignment||'left',ref:"menu",shown:this.state.showLayer},k.DOM.div({className:"_54nq _575t _57di _558b"},k.DOM.div({className:"_54ng",ref:"menuContainer"},k.DOM.ul({className:(("_54nf")+(this.props.useMenuDividers?' '+"_4fau":'')),role:"menu",style:{maxWidth:this.props.maxMenuWidth},ref:"menuItems"},this._processChildrenAndGetSelectedItem()[0]))))};},_processChildrenAndGetSelectedItem:function(){t(this.props.children.length>0);var aa=[];l.forEach(this.props.children,function(fa){aa.push(fa);});var ba=this.state.value!=null?this.state.value:aa[0].props.value,ca=null;for(var da=0;da<aa.length;da++){if(aa[da].type===z.type)continue;t(aa[da].type===y.type);var ea={};if(ba===aa[da].props.value){ca=aa[da];ea.selected=true;}else ea.selected=false;ea.onSelect=this._onSelect;aa[da]=r(aa[da],ea);}return [aa,ca];},_setMaxHeight:function(){var aa=this.refs.menuItems.getDOMNode(),ba=this.refs.menuContainer.getDOMNode();if(this.props.maxheight){var ca=n.renderDOM();this._scrollableArea=ca.root;h.setContent(ca.content,aa);o.set(ca.wrap,'max-height',this.props.maxheight+'px');h.setContent(ba,this._scrollableArea);}else if(this._scrollableArea)h.setContent(ba,aa);},_toggleSelector:function(){if(!this.props.disabled)this.setState({showLayer:!this.state.showLayer});},_onBlur:function(){v(function(){return this.setState({showLayer:false});}.bind(this));},_onSelect:function(aa){this.setState({image:aa.icon,showLayer:false,value:aa.value});this.props.onChange&&this.props.onChange(aa);}}),y=k.createClass({displayName:'AdsRichSelectorOption',statics:{propTypes:{clickable:w.bool,label:w.string,onSelect:w.func,selected:w.bool,value:w.oneOfType([w.string,w.number])}},getDefaultProps:function(){return {clickable:true};},getInitialState:function(){return {highlighted:false};},render:function(){var aa=this._renderMenuItemContainer(),ba=this.props.clickable,ca=null,da=null,ea=null;if(ba){t(this.props.hasOwnProperty('label')&&this.props.hasOwnProperty('value'));ca=this._onSelect;da=this._onMouseEnter;ea=this._onMouseLeave;aa=k.DOM.a({className:"_54nc _4faw",ref:"menuItemAnchor",role:"menuitem",tabIndex:"0"},k.DOM.div({className:"_4fax"}),aa);}var fa=this.state.highlighted;return (k.DOM.li({className:(("_54ni")+(ba&&fa?' '+"_54ne":'')+(ba&&this.props.selected?' '+"_4fav":'')),onClick:ca,onMouseEnter:da,onMouseLeave:ea},aa));},_renderMenuItemContainer:function(){var aa=this.props.children,ba=this.props.icon;if(ba){t(ba.type===i.type);aa=k.DOM.div({className:"_52ps"},k.DOM.div({className:"_52pt prs"},ba),aa);}return (k.DOM.div({className:"_4fay"},aa));},_onSelect:function(){this.props.onSelect&&this.props.onSelect({icon:this.props.icon,label:this.props.label,value:this.props.value});},_onMouseEnter:function(){this.setState({highlighted:true});},_onMouseLeave:function(){this.setState({highlighted:false});}}),z=k.createClass({displayName:'AdsRichSelectorSeparator',statics:{propTypes:{label:w.string,noBorder:w.bool}},render:function(){t(this.props.label||!this.props.noBorder);return (k.DOM.li({className:(("_54ak")+(' '+"_52pu")+(!!this.props.noBorder?' '+"_52pv":''))},this._renderSeparatorLabel()));},_renderSeparatorLabel:function(){if(!this.props.label)return null;return (k.DOM.h4({className:"_52ri"},this.props.label));}});x.Option=y;x.Separator=z;e.exports=x;});
__d("AdsTargetingSectionsLabels",["fbt"],function(a,b,c,d,e,f,g){e.exports={interestedIn:"Interested In",relationshipStatuses:"Relationship Status",educationStatuses:"Education Level",collegeMajors:"Major",collegeNetworks:"School",educationMajors:"Fields of Study",educationSchools:"Schools",collegeYears:"Undergrad Years",workEmployers:"Employers",workNetworks:"Workplaces",workPositions:"Job Titles",officeType:"Office Type",familyStatuses:"All Parents",parents:"Parents",politics:"Politics (US)",industries:"Industries",lifeEvents:"Life Events",markets:"Market Segments",education:"Education",work:"Work",relationship:"Relationship",financial:"Financial",income:"Income",netWorth:"Net Worth",home:"Home",homeType:"Home Type",homeOwnership:"Home Ownership",homeValue:"Home Value",ethnicAffinity:"Ethnic Affinity",generation:"Generation",householdComposition:"Household Composition",moms:"Moms",userAdclusters:"More Categories",interests:"Interests",behaviors:"Behaviors"};});
__d("ContextualDialog.react",["ReactAbstractContextualDialog","ReactLayer"],function(a,b,c,d,e,f,g,h){var i=h.createClass(g.createSpec({displayName:'ReactContextualDialog'}));e.exports=i;});
__d("AdsHelpLink.react",["LayerFadeOnHide","React","Image.react","ContextualDialog.react","ReactLayeredComponentMixin","UserAgent","cx","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=h.PropTypes,q={imgNormal:n('images/components/HelpLink/info.png'),imgHover:n('images/components/HelpLink/info-hover.png')},r=h.createClass({displayName:'AdsHelpLink',mixins:[k],proptypes:{imgNormal:p.image,imgHover:p.image},getInitialState:function(){return {showHelp:false};},componentWillUnmount:function(){clearTimeout(this._lingerTimeout);},_updateShown:function(s){this.setState({showHelp:s});if(!s&&l.webkit()){this.setState({showHelp:!s});this.setState({showHelp:s});}},_onMouseEnter:function(){clearTimeout(this._lingerTimeout);this._updateShown(true);},_onMouseLeave:function(){clearTimeout(this._lingerTimeout);if(this.props.linger){this._lingerTimeout=setTimeout(this._updateShown.bind(this,false),this.props.linger);}else this._updateShown(false);},renderLayers:function(){return {tipContextualLayer:j({contextRef:"tipIcon",shown:this.state.showHelp,position:this.props.position||'right',width:this.props.width,behaviors:{LayerFadeOnHide:g}},h.DOM.div({className:"_54_z"},this.props.children))};},render:function(){var s=this.state.showHelp?(this.props.imgHover||q.imgHover):(this.props.imgNormal||q.imgNormal);return (i({ref:"tipIcon",src:s,className:o(this.props.className,"_541d"),onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}));}});e.exports=r;});
/**
 * @providesModule underscore.ads
 * @preserve-header
 *
 * Underscore.js 1.5.2
 * ===================

 * > http://underscorejs.org
 * > Underscore may be freely distributed under the MIT license.
 * > (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative
 *   Reporters & Editors

 * Baseline setup
 * --------------
 */__d("underscore.ads",[],function(a,b,c,d,e,f){(function(){var g=this,h=g._,i={},j=Array.prototype,k=Object.prototype,l=Function.prototype,m=j.push,n=j.slice,o=j.concat,p=k.toString,q=k.hasOwnProperty,r=j.forEach,s=j.map,t=j.reduce,u=j.reduceRight,v=j.filter,w=j.every,x=j.some,y=j.indexOf,z=j.lastIndexOf,aa=Array.isArray,ba=Object.keys,ca=l.bind,da=function(ta){if(ta instanceof da)return ta;if(!(this instanceof da))return new da(ta);this._wrapped=ta;};if(typeof f!=='undefined'){if(typeof e!=='undefined'&&e.exports)f=e.exports=da;f._=da;}else g._=da;da.VERSION='1.5.2';var ea=da.each=da.forEach=function(ta,ua,va){if(ta==null)return;if(r&&ta.forEach===r){ta.forEach(ua,va);}else if(ta.length===+ta.length){for(var wa=0,xa=ta.length;wa<xa;wa++)if(ua.call(va,ta[wa],wa,ta)===i)return;}else{var ya=da.keys(ta);for(var wa=0,xa=ya.length;wa<xa;wa++)if(ua.call(va,ta[ya[wa]],ya[wa],ta)===i)return;}};da.map=da.collect=function(ta,ua,va){var wa=[];if(ta==null)return wa;if(s&&ta.map===s)return ta.map(ua,va);ea(ta,function(xa,ya,za){wa.push(ua.call(va,xa,ya,za));});return wa;};var fa='Reduce of empty array with no initial value';da.reduce=da.foldl=da.inject=function(ta,ua,va,wa){var xa=arguments.length>2;if(ta==null)ta=[];if(t&&ta.reduce===t){if(wa)ua=da.bind(ua,wa);return xa?ta.reduce(ua,va):ta.reduce(ua);}ea(ta,function(ya,za,ab){if(!xa){va=ya;xa=true;}else va=ua.call(wa,va,ya,za,ab);});if(!xa)throw new TypeError(fa);return va;};da.reduceRight=da.foldr=function(ta,ua,va,wa){var xa=arguments.length>2;if(ta==null)ta=[];if(u&&ta.reduceRight===u){if(wa)ua=da.bind(ua,wa);return xa?ta.reduceRight(ua,va):ta.reduceRight(ua);}var ya=ta.length;if(ya!==+ya){var za=da.keys(ta);ya=za.length;}ea(ta,function(ab,bb,cb){bb=za?za[--ya]:--ya;if(!xa){va=ta[bb];xa=true;}else va=ua.call(wa,va,ta[bb],bb,cb);});if(!xa)throw new TypeError(fa);return va;};da.find=da.detect=function(ta,ua,va){var wa;ga(ta,function(xa,ya,za){if(ua.call(va,xa,ya,za)){wa=xa;return true;}});return wa;};da.filter=da.select=function(ta,ua,va){var wa=[];if(ta==null)return wa;if(v&&ta.filter===v)return ta.filter(ua,va);ea(ta,function(xa,ya,za){if(ua.call(va,xa,ya,za))wa.push(xa);});return wa;};da.reject=function(ta,ua,va){return da.filter(ta,function(wa,xa,ya){return !ua.call(va,wa,xa,ya);},va);};da.every=da.all=function(ta,ua,va){ua||(ua=da.identity);var wa=true;if(ta==null)return wa;if(w&&ta.every===w)return ta.every(ua,va);ea(ta,function(xa,ya,za){if(!(wa=wa&&ua.call(va,xa,ya,za)))return i;});return !!wa;};var ga=da.some=da.any=function(ta,ua,va){ua||(ua=da.identity);var wa=false;if(ta==null)return wa;if(x&&ta.some===x)return ta.some(ua,va);ea(ta,function(xa,ya,za){if(wa||(wa=ua.call(va,xa,ya,za)))return i;});return !!wa;};da.contains=da.include=function(ta,ua){if(ta==null)return false;if(y&&ta.indexOf===y)return ta.indexOf(ua)!=-1;return ga(ta,function(va){return va===ua;});};da.invoke=function(ta,ua){var va=n.call(arguments,2),wa=da.isFunction(ua);return da.map(ta,function(xa){return (wa?ua:xa[ua]).apply(xa,va);});};da.pluck=function(ta,ua){return da.map(ta,function(va){return va[ua];});};da.where=function(ta,ua,va){if(da.isEmpty(ua))return va?void 0:[];return da[va?'find':'filter'](ta,function(wa){for(var xa in ua)if(ua[xa]!==wa[xa])return false;return true;});};da.findWhere=function(ta,ua){return da.where(ta,ua,true);};da.max=function(ta,ua,va){if(!ua&&da.isArray(ta)&&ta[0]===+ta[0]&&ta.length<65535)return Math.max.apply(Math,ta);if(!ua&&da.isEmpty(ta))return -Infinity;var wa={computed:-Infinity,value:-Infinity};ea(ta,function(xa,ya,za){var ab=ua?ua.call(va,xa,ya,za):xa;ab>wa.computed&&(wa={value:xa,computed:ab});});return wa.value;};da.min=function(ta,ua,va){if(!ua&&da.isArray(ta)&&ta[0]===+ta[0]&&ta.length<65535)return Math.min.apply(Math,ta);if(!ua&&da.isEmpty(ta))return Infinity;var wa={computed:Infinity,value:Infinity};ea(ta,function(xa,ya,za){var ab=ua?ua.call(va,xa,ya,za):xa;ab<wa.computed&&(wa={value:xa,computed:ab});});return wa.value;};da.shuffle=function(ta){var ua,va=0,wa=[];ea(ta,function(xa){ua=da.random(va++);wa[va-1]=wa[ua];wa[ua]=xa;});return wa;};da.sample=function(ta,ua,va){if(arguments.length<2||va)return ta[da.random(ta.length-1)];return da.shuffle(ta).slice(0,Math.max(0,ua));};var ha=function(ta){return da.isFunction(ta)?ta:function(ua){return ua[ta];};};da.sortBy=function(ta,ua,va){var wa=ha(ua);return da.pluck(da.map(ta,function(xa,ya,za){return {value:xa,index:ya,criteria:wa.call(va,xa,ya,za)};}).sort(function(xa,ya){var za=xa.criteria,ab=ya.criteria;if(za!==ab){if(za>ab||za===void 0)return 1;if(za<ab||ab===void 0)return -1;}return xa.index-ya.index;}),'value');};var ia=function(ta){return function(ua,va,wa){var xa={},ya=va==null?da.identity:ha(va);ea(ua,function(za,ab){var bb=ya.call(wa,za,ab,ua);ta(xa,bb,za);});return xa;};};da.groupBy=ia(function(ta,ua,va){(da.has(ta,ua)?ta[ua]:(ta[ua]=[])).push(va);});da.indexBy=ia(function(ta,ua,va){ta[ua]=va;});da.countBy=ia(function(ta,ua){da.has(ta,ua)?ta[ua]++:ta[ua]=1;});da.sortedIndex=function(ta,ua,va,wa){va=va==null?da.identity:ha(va);var xa=va.call(wa,ua),ya=0,za=ta.length;while(ya<za){var ab=(ya+za)>>>1;va.call(wa,ta[ab])<xa?ya=ab+1:za=ab;}return ya;};da.toArray=function(ta){if(!ta)return [];if(da.isArray(ta))return n.call(ta);if(ta.length===+ta.length)return da.map(ta,da.identity);return da.values(ta);};da.size=function(ta){if(ta==null)return 0;return (ta.length===+ta.length)?ta.length:da.keys(ta).length;};da.first=da.head=da.take=function(ta,ua,va){if(ta==null)return void 0;return (ua==null)||va?ta[0]:n.call(ta,0,ua);};da.initial=function(ta,ua,va){return n.call(ta,0,ta.length-((ua==null)||va?1:ua));};da.last=function(ta,ua,va){if(ta==null)return void 0;if((ua==null)||va){return ta[ta.length-1];}else return n.call(ta,Math.max(ta.length-ua,0));};da.rest=da.tail=da.drop=function(ta,ua,va){return n.call(ta,(ua==null)||va?1:ua);};da.compact=function(ta){return da.filter(ta,da.identity);};var ja=function(ta,ua,va){if(ua&&da.every(ta,da.isArray))return o.apply(va,ta);ea(ta,function(wa){if(da.isArray(wa)||da.isArguments(wa)){ua?m.apply(va,wa):ja(wa,ua,va);}else va.push(wa);});return va;};da.flatten=function(ta,ua){return ja(ta,ua,[]);};da.without=function(ta){return da.difference(ta,n.call(arguments,1));};da.uniq=da.unique=function(ta,ua,va,wa){if(da.isFunction(ua)){wa=va;va=ua;ua=false;}var xa=va?da.map(ta,va,wa):ta,ya=[],za=[];ea(xa,function(ab,bb){if(ua?(!bb||za[za.length-1]!==ab):!da.contains(za,ab)){za.push(ab);ya.push(ta[bb]);}});return ya;};da.union=function(){return da.uniq(da.flatten(arguments,true));};da.intersection=function(ta){var ua=n.call(arguments,1);return da.filter(da.uniq(ta),function(va){return da.every(ua,function(wa){return da.indexOf(wa,va)>=0;});});};da.difference=function(ta){var ua=o.apply(j,n.call(arguments,1));return da.filter(ta,function(va){return !da.contains(ua,va);});};da.zip=function(){var ta=da.max(da.pluck(arguments,"length").concat(0)),ua=new Array(ta);for(var va=0;va<ta;va++)ua[va]=da.pluck(arguments,''+va);return ua;};da.object=function(ta,ua){if(ta==null)return {};var va={};for(var wa=0,xa=ta.length;wa<xa;wa++)if(ua){va[ta[wa]]=ua[wa];}else va[ta[wa][0]]=ta[wa][1];return va;};da.indexOf=function(ta,ua,va){if(ta==null)return -1;var wa=0,xa=ta.length;if(va)if(typeof va=='number'){wa=(va<0?Math.max(0,xa+va):va);}else{wa=da.sortedIndex(ta,ua);return ta[wa]===ua?wa:-1;}if(y&&ta.indexOf===y)return ta.indexOf(ua,va);for(;wa<xa;wa++)if(ta[wa]===ua)return wa;return -1;};da.lastIndexOf=function(ta,ua,va){if(ta==null)return -1;var wa=va!=null;if(z&&ta.lastIndexOf===z)return wa?ta.lastIndexOf(ua,va):ta.lastIndexOf(ua);var xa=(wa?va:ta.length);while(xa--)if(ta[xa]===ua)return xa;return -1;};da.range=function(ta,ua,va){if(arguments.length<=1){ua=ta||0;ta=0;}va=arguments[2]||1;var wa=Math.max(Math.ceil((ua-ta)/va),0),xa=0,ya=new Array(wa);while(xa<wa){ya[xa++]=ta;ta+=va;}return ya;};var ka=function(){};da.bind=function(ta,ua){var va,wa;if(ca&&ta.bind===ca)return ca.apply(ta,n.call(arguments,1));if(!da.isFunction(ta))throw new TypeError();va=n.call(arguments,2);return wa=function(){if(!(this instanceof wa))return ta.apply(ua,va.concat(n.call(arguments)));ka.prototype=ta.prototype;var xa=new ka();ka.prototype=null;var ya=ta.apply(xa,va.concat(n.call(arguments)));if(Object(ya)===ya)return ya;return xa;};};da.partial=function(ta){var ua=n.call(arguments,1);return function(){return ta.apply(this,ua.concat(n.call(arguments)));};};da.bindAll=function(ta){var ua=n.call(arguments,1);if(ua.length===0)throw new Error("bindAll must be passed function names");ea(ua,function(va){ta[va]=da.bind(ta[va],ta);});return ta;};da.memoize=function(ta,ua){var va={};ua||(ua=da.identity);return function(){var wa=ua.apply(this,arguments);return da.has(va,wa)?va[wa]:(va[wa]=ta.apply(this,arguments));};};da.delay=function(ta,ua){var va=n.call(arguments,2);return setTimeout(function(){return ta.apply(null,va);},ua);};da.defer=function(ta){return da.delay.apply(da,[ta,1].concat(n.call(arguments,1)));};da.throttle=function(ta,ua,va){var wa,xa,ya,za=null,ab=0;va||(va={});var bb=function(){ab=va.leading===false?0:new Date();za=null;ya=ta.apply(wa,xa);};return function(){var cb=new Date();if(!ab&&va.leading===false)ab=cb;var db=ua-(cb-ab);wa=this;xa=arguments;if(db<=0){clearTimeout(za);za=null;ab=cb;ya=ta.apply(wa,xa);}else if(!za&&va.trailing!==false)za=setTimeout(bb,db);return ya;};};da.debounce=function(ta,ua,va){var wa,xa,ya,za,ab;return function(){ya=this;xa=arguments;za=new Date();var bb=function(){var db=(new Date())-za;if(db<ua){wa=setTimeout(bb,ua-db);}else{wa=null;if(!va)ab=ta.apply(ya,xa);}},cb=va&&!wa;if(!wa)wa=setTimeout(bb,ua);if(cb)ab=ta.apply(ya,xa);return ab;};};da.once=function(ta){var ua=false,va;return function(){if(ua)return va;ua=true;va=ta.apply(this,arguments);ta=null;return va;};};da.wrap=function(ta,ua){return function(){var va=[ta];m.apply(va,arguments);return ua.apply(this,va);};};da.compose=function(){var ta=arguments;return function(){var ua=arguments;for(var va=ta.length-1;va>=0;va--)ua=[ta[va].apply(this,ua)];return ua[0];};};da.after=function(ta,ua){return function(){if(--ta<1)return ua.apply(this,arguments);};};da.keys=ba||function(ta){if(ta!==Object(ta))throw new TypeError('Invalid object');var ua=[];for(var va in ta)if(da.has(ta,va))ua.push(va);return ua;};da.values=function(ta){var ua=da.keys(ta),va=ua.length,wa=new Array(va);for(var xa=0;xa<va;xa++)wa[xa]=ta[ua[xa]];return wa;};da.pairs=function(ta){var ua=da.keys(ta),va=ua.length,wa=new Array(va);for(var xa=0;xa<va;xa++)wa[xa]=[ua[xa],ta[ua[xa]]];return wa;};da.invert=function(ta){var ua={},va=da.keys(ta);for(var wa=0,xa=va.length;wa<xa;wa++)ua[ta[va[wa]]]=va[wa];return ua;};da.functions=da.methods=function(ta){var ua=[];for(var va in ta)if(da.isFunction(ta[va]))ua.push(va);return ua.sort();};da.extend=function(ta){ea(n.call(arguments,1),function(ua){if(ua)for(var va in ua)ta[va]=ua[va];});return ta;};da.pick=function(ta){var ua={},va=o.apply(j,n.call(arguments,1));ea(va,function(wa){if(wa in ta)ua[wa]=ta[wa];});return ua;};da.omit=function(ta){var ua={},va=o.apply(j,n.call(arguments,1));for(var wa in ta)if(!da.contains(va,wa))ua[wa]=ta[wa];return ua;};da.defaults=function(ta){ea(n.call(arguments,1),function(ua){if(ua)for(var va in ua)if(ta[va]===void 0)ta[va]=ua[va];});return ta;};da.clone=function(ta){if(!da.isObject(ta))return ta;return da.isArray(ta)?ta.slice():da.extend({},ta);};da.tap=function(ta,ua){ua(ta);return ta;};var la=function(ta,ua,va,wa){if(ta===ua)return ta!==0||1/ta==1/ua;if(ta==null||ua==null)return ta===ua;if(ta instanceof da)ta=ta._wrapped;if(ua instanceof da)ua=ua._wrapped;var xa=p.call(ta);if(xa!=p.call(ua))return false;switch(xa){case '[object String]':return ta==String(ua);case '[object Number]':return ta!=+ta?ua!=+ua:(ta==0?1/ta==1/ua:ta==+ua);case '[object Date]':case '[object Boolean]':return +ta==+ua;case '[object RegExp]':return ta.source==ua.source&&ta.global==ua.global&&ta.multiline==ua.multiline&&ta.ignoreCase==ua.ignoreCase;}if(typeof ta!='object'||typeof ua!='object')return false;var ya=va.length;while(ya--)if(va[ya]==ta)return wa[ya]==ua;var za=ta.constructor,ab=ua.constructor;if(za!==ab&&!(da.isFunction(za)&&(za instanceof za)&&da.isFunction(ab)&&(ab instanceof ab)))return false;va.push(ta);wa.push(ua);var bb=0,cb=true;if(xa=='[object Array]'){bb=ta.length;cb=bb==ua.length;if(cb)while(bb--)if(!(cb=la(ta[bb],ua[bb],va,wa)))break;}else{for(var db in ta)if(da.has(ta,db)){bb++;if(!(cb=da.has(ua,db)&&la(ta[db],ua[db],va,wa)))break;}if(cb){for(db in ua)if(da.has(ua,db)&&!(bb--))break;cb=!bb;}}va.pop();wa.pop();return cb;};da.isEqual=function(ta,ua){return la(ta,ua,[],[]);};da.isEmpty=function(ta){if(ta==null)return true;if(da.isArray(ta)||da.isString(ta))return ta.length===0;for(var ua in ta)if(da.has(ta,ua))return false;return true;};da.isElement=function(ta){return !!(ta&&ta.nodeType===1);};da.isArray=aa||function(ta){return p.call(ta)=='[object Array]';};da.isObject=function(ta){return ta===Object(ta);};ea(['Arguments','Function','String','Number','Date','RegExp'],function(ta){da['is'+ta]=function(ua){return p.call(ua)=='[object '+ta+']';};});if(!da.isArguments(arguments))da.isArguments=function(ta){return !!(ta&&da.has(ta,'callee'));};if(typeof(/./)!=='function')da.isFunction=function(ta){return typeof ta==='function';};da.isFinite=function(ta){return isFinite(ta)&&!isNaN(parseFloat(ta));};da.isNaN=function(ta){return da.isNumber(ta)&&ta!=+ta;};da.isBoolean=function(ta){return ta===true||ta===false||p.call(ta)=='[object Boolean]';};da.isNull=function(ta){return ta===null;};da.isUndefined=function(ta){return ta===void 0;};da.has=function(ta,ua){return q.call(ta,ua);};da.noConflict=function(){g._=h;return this;};da.identity=function(ta){return ta;};da.times=function(ta,ua,va){var wa=Array(Math.max(0,ta));for(var xa=0;xa<ta;xa++)wa[xa]=ua.call(va,xa);return wa;};da.random=function(ta,ua){if(ua==null){ua=ta;ta=0;}return ta+Math.floor(Math.random()*(ua-ta+1));};var ma={escape:{'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#x27;'}};ma.unescape=da.invert(ma.escape);var na={escape:new RegExp('['+da.keys(ma.escape).join('')+']','g'),unescape:new RegExp('('+da.keys(ma.unescape).join('|')+')','g')};da.each(['escape','unescape'],function(ta){da[ta]=function(ua){if(ua==null)return '';return (''+ua).replace(na[ta],function(va){return ma[ta][va];});};});da.result=function(ta,ua){if(ta==null)return void 0;var va=ta[ua];return da.isFunction(va)?va.call(ta):va;};da.mixin=function(ta){ea(da.functions(ta),function(ua){var va=da[ua]=ta[ua];da.prototype[ua]=function(){var wa=[this._wrapped];m.apply(wa,arguments);return sa.call(this,va.apply(da,wa));};});};var oa=0;da.uniqueId=function(ta){var ua=++oa+'';return ta?ta+ua:ua;};da.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var pa=/(.)^/,qa={"'":"'",'\\':'\\','\r':'r','\n':'n','\t':'t','\u2028':'u2028','\u2029':'u2029'},ra=/\\|'|\r|\n|\t|\u2028|\u2029/g;da.template=function(ta,ua,va){var wa;va=da.defaults({},va,da.templateSettings);var xa=new RegExp([(va.escape||pa).source,(va.interpolate||pa).source,(va.evaluate||pa).source].join('|')+'|$','g'),ya=0,za="__p+='";ta.replace(xa,function(cb,db,eb,fb,gb){za+=ta.slice(ya,gb).replace(ra,function(hb){return '\\'+qa[hb];});if(db)za+="'+\n((__t=("+db+"))==null?'':_.escape(__t))+\n'";if(eb)za+="'+\n((__t=("+eb+"))==null?'':__t)+\n'";if(fb)za+="';\n"+fb+"\n__p+='";ya=gb+cb.length;return cb;});za+="';\n";if(!va.variable)za='with(obj||{}){\n'+za+'}\n';za="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+za+"return __p;\n";try{wa=new Function(va.variable||'obj','_',za);}catch(ab){ab.source=za;throw ab;}if(ua)return wa(ua,da);var bb=function(cb){return wa.call(this,cb,da);};bb.source='function('+(va.variable||'obj')+'){\n'+za+'}';return bb;};da.chain=function(ta){return da(ta).chain();};var sa=function(ta){return this._chain?da(ta).chain():ta;};da.mixin(da);ea(['pop','push','reverse','shift','sort','splice','unshift'],function(ta){var ua=j[ta];da.prototype[ta]=function(){var va=this._wrapped;ua.apply(va,arguments);if((ta=='shift'||ta=='splice')&&va.length===0)delete va[0];return sa.call(this,va);};});ea(['concat','join','slice'],function(ta){var ua=j[ta];da.prototype[ta]=function(){return sa.call(this,ua.apply(this._wrapped,arguments));};});da.extend(da.prototype,{chain:function(){this._chain=true;return this;},value:function(){return this._wrapped;}});}).call(this);});
__d("AdsUtils",["Assert","underscore.ads"],function(a,b,c,d,e,f,g,h){function i(aa){return aa===Object(aa);}function j(aa,ba){if(Array.isArray(aa)||typeof aa==='string')return aa.indexOf(ba)!==-1;return ba in aa;}function k(aa){if(Array.isArray(aa)||typeof aa==='string')return aa.length;var ba=0;for(var ca in aa)if(Object.prototype.hasOwnProperty.call(aa,ca))ba++;return ba;}function l(aa,ba){var ca=[],da=0;while(aa.length>da){ca.push(aa.slice(da,da+ba));da+=ba;}return ca;}function m(aa,ba){if(aa.length!=ba.length){return false;}else{for(var ca=0;ca<aa.length;ca++){var da=false;for(var ea=0;ea<ba.length;ea++){var fa=true;for(var ga in aa[ca])if(aa[ca][ga]!=ba[ea][ga]){fa=false;break;}if(fa)da=true;}if(!da)return false;}return true;}}function n(aa,ba,ca){var da={};for(var ea=0;ea<aa.length;++ea)da[aa[ea][ba]]=(ca===undefined?aa[ea]:aa[ea][ca]);return da;}function o(aa,ba){var ca={};for(var da=0;da<aa.length;++da){if(ca[aa[da][ba]]===undefined)ca[aa[da][ba]]=[];ca[aa[da][ba]].push(aa[da]);}return ca;}function p(aa){var ba={};for(var ca in aa)ba[aa[ca]]=ca;return ba;}function q(aa,ba){var ca={};for(var da in aa)if(aa.hasOwnProperty(da))ca[da]=aa[da]?aa[da][ba]:undefined;return ca;}function r(aa){var ba=aa;if(aa instanceof Array){ba=aa.map(r);}else if(aa instanceof Object){ba={};for(var ca in aa)if(aa.hasOwnProperty(ca))ba[ca]=r(aa[ca]);}return ba;}function s(aa){return aa.replace(/[A-Z]/g,function(ba){return '_'+ba.toLowerCase();});}function t(aa){return aa.replace(/_[a-z]/g,function(ba){return ba.charAt(1).toUpperCase();});}function u(aa,ba){g.define('scalar',function(ea){return typeof ea==='number'||typeof ea==='boolean';});g.isScalar(ba);var ca={};for(var da=0;da<aa.length;++da)ca[aa[da]]=ba;return ca;}function v(aa,ba,ca){var da={},ea=h.union(Object.keys(aa),Object.keys(ba));for(var fa=0;fa<ea.length;fa++){var ga=ea[fa],ha=ca(aa.hasOwnProperty(ga),ba.hasOwnProperty(ga));if(ha<0){da[ga]=aa[ga];}else if(ha>0)da[ga]=ba[ga];}return da;}function w(aa,ba){return v(aa,ba,function(ca,da){return ca&&da?-1:0;});}function x(aa,ba){return v(aa,ba,function(ca,da){return ca?-1:1;});}var y=function(aa,ba,ca,da){da=da||(function(ga,ha){return ga==ha;});if(aa.length===0)return ca;var ea=ba(aa[0]),fa=!aa.some(function(ga){return !da(ba(ga),ea);});if(fa){return ea;}else return ca;};function z(aa,ba){if(Array.isArray(aa)&&Array.isArray(ba)){if(aa.length!==ba.length)return false;for(var ca=0;ca<aa.length;++ca)if(!z(aa[ca],ba[ca]))return false;return true;}else if(i(aa)&&i(ba)){for(var da in aa){if(!aa.hasOwnProperty(da))continue;if(!ba.hasOwnProperty(da))return false;if(!z(aa[da],ba[da]))return false;}return true;}return aa==ba;}e.exports={isObject:i,contains:j,count:k,chunkArray:l,arraysOfMapEquals:m,indexedMap:n,invertedMap:o,flip:p,pluckPreserveKey:q,clone:r,underscoreKey:s,camelCaseKey:t,mapIntersectKey:w,mapUnionKey:x,mapFill:u,getSharedValue:y,isEqualWeak:z};});
__d("AdsFetchedTargetingData",["AdsUtils"],function(a,b,c,d,e,f,g){var h;function i(){"use strict";this.$TargetingTypeMap0={};this.$TargetingTypeMap1='id';}i.prototype.normalizeID=function(k){"use strict";return ""+k;};i.prototype.addTargetingObject=function(k,l){"use strict";l=l||this.$TargetingTypeMap1;var m=this.normalizeID(k[l]);this.$TargetingTypeMap0[m]=k;};i.prototype.addTargetingObjects=function(k,l){"use strict";k.forEach(function(m){return this.addTargetingObject(m,l);}.bind(this));};i.prototype.fetchByID=function(k){"use strict";return this.$TargetingTypeMap0[this.normalizeID(k)];};function j(){"use strict";this.$AdsFetchedTargetingData0={};}j.prototype.$AdsFetchedTargetingData1=function(k){"use strict";return g.underscoreKey(k);};j.prototype.$AdsFetchedTargetingData2=function(k){"use strict";k=this.$AdsFetchedTargetingData1(k);if(this.$AdsFetchedTargetingData0[k]===undefined)this.$AdsFetchedTargetingData0[k]=new i();return this.$AdsFetchedTargetingData0[k];};j.prototype.addTargetingObject=function(k,l,m){"use strict";var n=this.$AdsFetchedTargetingData2(k);n.addTargetingObject(l,m);};j.prototype.addTargetingObjects=function(k,l,m){"use strict";var n=this.$AdsFetchedTargetingData2(k);n.addTargetingObjects(l,m);};j.prototype.getAllFromTargetingType=function(k){"use strict";return this.$AdsFetchedTargetingData2(k);};j.prototype.getAllFromTargetingTypes=function(k){"use strict";var l={};k.forEach(function(m){l[this.$AdsFetchedTargetingData1(m)]=this.getAllFromTargetingType(m);}.bind(this));return l;};j.getInstance=function(){if(!h)h=new j();return h;};e.exports=j;});
__d("LocationConstants",["CurrentLocale"],function(a,b,c,d,e,f,g){var h,i={getSupportedRadii:function(){if(this.getLocalizedUnit()==='mile'){return [0,10,25,50];}else return [0,20,50,70];},getLocalizedUnit:function(){if(h){return h;}else if(g.get()=='en_US'){return 'mile';}else return 'kilometer';},getDefaultRadius:function(){if(this.getLocalizedUnit()==='mile'){return 25;}else return 20;},setLocalizedUnit:function(j){h=j;}};e.exports={COUNTRY:'country',COUNTRIES:'countries',REGION:'region',REGIONS:'regions',CITY:'city',CITIES:'cities',ZIP:'zip',ZIPS:'zips',RadiusInfo:i};});
__d("AdCreativeType",["adsGKCheck","AdsUtils","bolt/util","tx"],function(a,b,c,d,e,f,g,h,i,j){var k={FACEBOOK_ADS:'facebook_ads',SPONSORED_STORIES:'sponsored_stories'},l={1:'Standard',2:'Fan',3:'RSVP',4:'Platform Context',5:'Social Poll',6:'Comment',7:'Sample',8:'App Share Story',9:'Legacy Page Like Story',10:'Check-In Story',12:'Premium Standard',13:'Premium Fan',14:'Premium Event',15:'Premium Platform',16:'App Used Story',17:'Legacy Page Post Like Story',18:'Buy with Friends Story',19:'Domain Story',20:'Questions Vote Story',21:'Questions',24:'Page Endorsement',25:'Action Spec',27:'Page Post Ad',32:'Mobile App Install Ad',33:'Static Image',34:'Multi-Video Ad',35:'Instagram Ad',999:'Invalid',1001:'Offer Claimed Story',1002:'Game Played Story',1003:'Specific Page Post Like Story',1004:'Specific Page Post Comment Story',1005:'Specific Page Post Share Story',1006:'Event RSVP Story',1007:'Page Checkin Story',1008:'Wall Post Story',1009:'Page Like Story',1010:'Share From App Story',1011:'Page Post Like Story',1012:'Page Subscribe Story',1013:'Domain Share Story',1014:'Question Vote Story',1999:'Other'},m={STANDARD:1,INLINE_FAN:2,INLINE_RSVP:3,PLATFORM_CONTEXT:4,SOCIAL_POLL:5,COMMENT:6,SAMPLE:7,BASS_PLATFORM_STORY:8,BASS_PAGE_CONNECTIONS:9,BASS_PAGE_CHECKINS:10,PREMIUM_STANDARD:12,PREMIUM_FAN:13,PREMIUM_EVENT:14,PREMIUM_PLATFORM:15,BASS_APP_CONNECTIONS:16,BASS_ENGAGEMENT:17,BASS_LINK_SHARE:19,BASS_QUESTIONS_VOTE:20,QUESTIONS:21,PAGE_ENDORSEMENT:24,QUERY_BASED:25,PAGE_POSTS_V2:27,CONTEXTUAL_APP_AD:32,STATIC_IMAGE:33,MULTI_VIDEO:34,INSTAGRAM_AD:35,FEED_URL:101,NEKO_LPP:102,EXOTIC_OR_INVALID:999,OFFER_CLAIMED_STORY:1001,GAME_PLAYED_STORY:1002,SPECIFIC_POST_LIKE_STORY:1003,SPECIFIC_POST_COMMENT_STORY:1004,SPECIFIC_POST_SHARE_STORY:1005,EVENT_RSVP_STORY:1006,PAGE_CHECKIN_STORY:1007,WALL_POST_STORY:1008,PAGE_LIKE_STORY:1009,APP_USER_ACTION_STORY:1010,PAGE_POST_LIKE_STORY:1011,PAGE_SUBSCRIBE_STORY:1012,DOMAIN_SHARE_STORY:1013,QUESTION_VOTE_STORY:1014,OTHER:1999};f.__TEST__={};f.__TEST__.AD_CREATIVE_TYPE_TS=l;var n={8:1010,9:1009,10:1007,17:1011,19:1013,20:1014},o=[m.PAGE_POSTS_V2,m.SPECIFIC_POST_LIKE_STORY,m.SPECIFIC_POST_COMMENT_STORY,m.SPECIFIC_POST_SHARE_STORY],p=[8,9,10,16,17,19,20,25,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1999];function q(ia){return l[ia]||l[1];}var r=/[^a-z]/g;function s(ia){ia=ia.toLowerCase().replace(r,'');var ja=1;for(var ka in l){var la=l[ka];la=la.toLowerCase().replace(r,'');if(la==ia){ja=ka;break;}}return ja;}function t(ia){return p.indexOf(1*ia)!=-1;}function u(ia){return t(ia)?k.SPONSORED_STORIES:k.FACEBOOK_ADS;}function v(ia){return n[ia];}function w(ia){return !!n[ia];}function x(ia){return ia>m.EXOTIC_OR_INVALID;}function y(ia){var ja=u(ia);return ja===k.SPONSORED_STORIES;}f.is_bass_type=t;f.getCategoryByCreativeType=u;f.id2string=q;f.string2id=s;f.AD_CREATIVE_TYPE=m;f.AD_CREATIVE_CATEGORY=k;f.AD_CREATIVE_BASS_TYPE_ARR=p;f.CREATIVES_WITH_STORY_ID=o;f.getActionSpecTypeAdForLegacyBass=v;f.isLegacyBassType=w;f.isQueryBasedSponsoredStory=x;f.isSponsoredStory=y;var z=f.keyToType={STORY_APP_SHARE:{id:8,name:"Stories about their friends sharing {app_name}",validFields:['objectId','urlTags']},STORY_APP_USED:{id:16,name:"Stories about their friends using {app_name}",validFields:['objectId','urlTags']},STORY_PAGE_LIKE:{id:9,name:"Stories about their friends liking {page_name}"},STORY_PAGE_POST:{id:11,name:"When people post on my Page"},STORY_CHECKIN:{id:10,name:"Stories about their friends checking in {place_name}"},STORY_DOMAIN_SHARE:{id:19,name:"Stories about their friends sharing {domain_name}",validFields:['objectId','urlTags']},STORY_QUERY_BASED:{id:25,name:"Query Based Story",requiredFields:['actionSpec'],validFields:['objectId','actionSpec','urlTags']},AD_EXTERNAL_URL:{id:1,name:"A new ad about {url}",validFields:['title','body','linkUrl','imageUrl','imageHash','relatedFanPage','showRelatedFanPage','trackingPixel'],invalidFieldsForAPI:['showRelatedFanPage','trackingPixel'],requiredFields:['title','body','linkUrl',['imageUrl','imageHash']]},FEED_URL:{id:101,validFields:['actor','title','body','linkUrl','linkDescription','imageUrl','imageHash','storyId','trackingPixel'],invalidFieldsForAPI:['actor','linkDescription','trackingPixel'],requiredFields:['actor','title','body','linkUrl',['imageUrl','imageHash']]},AD_FAN_LIKE:{id:2,name:"A new ad about {page_name}",validFields:['objectId','title','body','linkUrl','imageUrl','imageHash'],requiredFields:['objectId','body']},AD_EVENT_RSVP:{id:3,name:"A new ad about {event_name}",validFields:['objectId','title','body','imageUrl','imageHash'],requiredFields:['objectId','body',['imageUrl','imageHash']]},AD_APPLICATION:{id:4,name:"A new ad about {app_name}",validFields:['objectId','title','body','imageUrl','imageHash','linkUrl','urlTags'],requiredFields:['objectId','body',['imageUrl','imageHash']]},AD_PAGE_POST:{id:27,name:"Just my post",validFields:['objectId','autoUpdate','storyId','urlTags'],requiredFields:['objectId','storyId']},MOBILE_APP_INSTALL:{id:32,name:"Create a mobile ad about {app_name}",validFields:['objectId','title','body','iconImageHash','iconImageUrl','imageHash','imageUrl','mobileStore','mobileStoreContentId','videoId'],requiredFields:['objectId',['imageUrl','imageHash']]},MOBILE_APP_ENGAGEMENT:{id:32,name:"Create a mobile ad about {app_name}",validFields:['objectId','title','body','iconImageHash','iconImageUrl','imageHash','imageUrl','mobileStore','mobileApplinkSpec','applinkUrl','mobileProductName','callToActionType'],invalidFieldsForAPI:['applinkUrl'],requiredFields:['objectId',['imageUrl','imageHash']]},CANVAS_APP_INSTALL_ENGAGEMENT:{id:32,name:"Create a desktop ad about {app_name}",validFields:['objectId','title','body','iconImageHash','iconImageUrl','imageHash','imageUrl','mobileStore','urlTags','linkUrl'],requiredFields:['objectId',['imageUrl','imageHash']]}};if(g('ads_cf_neko_lpp'))z.NEKO_LPP={id:102,validFields:['actor','body','callToActionType','imageHash','imageUrl','linkUrl','mobileProductName','storyId','videoId'],invalidFieldsForAPI:['actor'],requiredFields:['callToActionType','linkUrl',['imageUrl','videoId']]};var aa=i.values(z);f.idToType=h.indexedMap(aa,'id');var ba=h.pluckPreserveKey(z,'id'),ca={};for(var da=0;da<aa.length;++da){var ea=aa[da].validFields;if(ea){var fa=aa[da].invalidFieldsForAPI||[];for(var ga=0;ga<ea.length;++ga)if(fa.indexOf(ea[ga])===-1)ca[ea[ga]]=true;}}var ha=Object.keys(ca);ha.push('id','type','imageCrops');ha.sort();f.ALL_CREATIVE_API_FIELDS=ha;f.isValidApiProperty=function(ia){return !!ca[ia];};f.fieldIsValid=function(ia,ja){var ka=f.idToType[ja];if(!ka)return false;if(!ka.validFields)return ['objectId','storyId'].indexOf(ia)>=0;return ka.validFields.indexOf(ia)>=0;};f.requiredFieldsForType=function(ia){var ja=f.idToType[ia];return ja?(ja.requiredFields||[]):[];};f.group={SS:[ba.STORY_PAGE_LIKE,ba.STORY_PAGE_POST,ba.STORY_QUERY_BASED,ba.STORY_CHECKIN,ba.STORY_DOMAIN_SHARE,ba.STORY_APP_SHARE,ba.STORY_APP_USED]};});
__d("AdImageSpecs",["AdCreativeType","AdsCreationConfig","AdsCFConstants"],function(a,b,c,d,e,f,g,h,i){var j=g.AD_CREATIVE_TYPE,k=i.PlacementID;e.exports={PAGE_LIKE_FEED:{placement:k.NEWS_FEED,width:600,height:225,minLargeWidth:400,minLargeHeight:150,minWarningWidth:100,minWarningHeight:72,aspectRatio:8/3,aspectRatioSmall:1.39,cropKey:'400x150',supportedTypes:[j.INLINE_FAN],gkFails:'ads_interfaces_rhc_redesign'},PAGE_LIKE_FEED_V2:{placement:k.NEWS_FEED,width:600,height:225,minLargeWidth:400,minLargeHeight:150,minWarningWidth:254,minWarningHeight:94,aspectRatio:8/3,aspectRatioSmall:1.39,cropKey:'400x150',supportedTypes:[j.INLINE_FAN],gkSucceeds:'ads_interfaces_rhc_redesign'},PAGE_LIKE_RHC:{placement:k.RHC,width:254,height:94,minWarningWidth:254,minWarningHeight:94,aspectRatio:8/3,aspectRatioSmall:1.39,cropKey:'400x150',supportedTypes:[j.INLINE_FAN],gkSucceeds:'ads_interfaces_rhc_redesign'},EVENT_RHC:{placement:k.RHC,width:254,height:94,minWarningWidth:254,minWarningHeight:94,aspectRatio:8/3,cropKey:'400x150',supportedTypes:[j.INLINE_RSVP],gkSucceeds:'ads_interfaces_rhc_redesign'},PAGE_POST_FEED:{placement:k.NEWS_FEED,width:600,height:315,minLargeWidth:400,minLargeHeight:209,minWarningWidth:90,minWarningHeight:90,aspectRatio:1.91,aspectRatioSmall:1,cropKey:'191x100',supportedTypes:[j.STANDARD,j.FEED_URL,j.NEKO_LPP],gkFails:'ads_interfaces_rhc_redesign'},PAGE_POST_FEED_V2:{placement:k.NEWS_FEED,width:600,height:315,minLargeWidth:400,minLargeHeight:209,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,aspectRatioSmall:1,cropKey:'191x100',supportedTypes:[j.STANDARD,j.FEED_URL,j.NEKO_LPP],gkSucceeds:'ads_interfaces_rhc_redesign'},PAGE_POST_MOBILE_FEED:{placement:k.MOBILE_NEWS_FEED,width:600,height:315,minLargeWidth:400,minLargeHeight:209,minWarningWidth:90,minWarningHeight:90,aspectRatio:1.91,aspectRatioSmall:1,cropKey:'191x100',supportedTypes:[j.STANDARD,j.FEED_URL,j.NEKO_LPP],gkFails:'ads_interfaces_rhc_redesign'},PAGE_POST_MOBILE_FEED_V2:{placement:k.MOBILE_NEWS_FEED,width:600,height:315,minLargeWidth:400,minLargeHeight:209,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,aspectRatioSmall:1,cropKey:'191x100',supportedTypes:[j.STANDARD,j.FEED_URL,j.NEKO_LPP],gkSucceeds:'ads_interfaces_rhc_redesign'},PAGE_POST_RHC:{placement:k.RHC,width:254,height:133,minWarningWidth:254,minWarningHeight:133,aspectRatio:1.91,cropKey:'191x100',supportedTypes:[j.STANDARD,j.FEED_URL,j.NEKO_LPP],gkSucceeds:'ads_interfaces_rhc_redesign'},APP_INSTALL_MOBILE_FEED:{placement:k.MOBILE_NEWS_FEED,width:h.contextualAppAdImageWidth,height:h.contextualAppAdImageHeight,dimensionTolerance:h.contextualAppAdImageDimensionTolerance,minWarningWidth:h.contextualAppAdImageWidth,minWarningHeight:h.contextualAppAdImageHeight,aspectRatio:h.contextualAppAdImageWidth/h.contextualAppAdImageHeight,previewRatio:.25,supportedTypes:[j.CONTEXTUAL_APP_AD]},APP_INSTALL_FEED:{placement:k.NEWS_FEED,width:h.contextualAppAdImageWidth,height:h.contextualAppAdImageHeight,dimensionTolerance:h.contextualAppAdImageDimensionTolerance,minWarningWidth:h.contextualAppAdImageWidth,minWarningHeight:h.contextualAppAdImageHeight,aspectRatio:h.contextualAppAdImageWidth/h.contextualAppAdImageHeight,previewRatio:.25,supportedTypes:[j.CONTEXTUAL_APP_AD]},APP_INSTALL_RHC:{placement:k.RHC,width:h.contextualAppAdImageWidth,height:h.contextualAppAdImageHeight,dimensionTolerance:h.contextualAppAdImageDimensionTolerance,minWarningWidth:h.contextualAppAdImageWidth,minWarningHeight:h.contextualAppAdImageHeight,aspectRatio:h.contextualAppAdImageWidth/h.contextualAppAdImageHeight,previewRatio:.25,supportedTypes:[j.CONTEXTUAL_APP_AD]},RHC:{placement:k.RHC,width:100,height:72,minWarningWidth:100,minWarningHeight:72,aspectRatio:1.39,cropKey:'100x72',supportedTypes:[j.STANDARD,j.INLINE_FAN,j.INLINE_RSVP,j.PLATFORM_CONTEXT,j.QUERY_BASED,j.FEED_URL,j.NEKO_LPP],gkFails:'ads_interfaces_rhc_redesign'},APP_INSTALL_ICON:{placement:'icon',width:h.contextualAppAdIconMinSize,height:h.contextualAppAdIconMinSize,minWarningWidth:h.contextualAppAdIconMinSize,minWarningHeight:h.contextualAppAdIconMinSize,previewRatio:60/h.contextualAppAdIconMinSize,supportedTypes:[j.CONTEXTUAL_APP_AD]},PAGE_PROFILE:{width:180,height:180,minWarningWidth:180,minWarningHeight:180,previewRatio:.5}};});
__d("AdsAPISpec",["AdsCFApiSpecFields","fbt"],function(a,b,c,d,e,f,g,h){var i={BCT_FIELDS:{NAME:'name',PARENT_CATEGORY:'parent_category'},BID_INFO_FIELDS:{ACTIONS:55,REACH:44,CLICKS:1,IMPRESSIONS:38},EDUCATION_STATUSES:{ALL:0,HIGH_SCHOOL:1,IN_COLLEGE:2,COLLEGE_GRAD:3},RELATIONSHIP_STATUSES:{ALL:0,SINGLE:1,IN_A_RELATIONSHIP:2,MARRIED:3,ENGAGED:4,UNSPECIFIED:6},LINK_TYPES:{EXTERNAL:1,INTERNAL:2},GENDERS:{ALL:0,MEN:1,WOMEN:2},CREATIVE_FIELDS_MAP:{actor:"To show your ad in News Feed, you need to connect it to a Page. If you don't want your ad to show in News Feed, turn off the News Feed ad format in the creative section.",name:"Please give a name to your ad.",objectId:"Please choose a destination.",linkUrl:"Missing link URL.",type:"What do you want people to see?",title:"Please give your ad a headline.",body:"Please write something about your ad in the text field.",iconImageHash:null,iconImageUrl:null,imageHash:"Please choose an image for your ad.",imageUrl:"Please choose an image for your ad.",urlTags:null,storyId:"Please choose a Page post for your ad.",relatedFanPage:null,autoUpdate:"Please choose a Page post for your ad.",actionSpec:"Missing action spec",linkType:null,viewTags:null,urlOverride:null,coverPhotoId:null,mobileStore:null,mobileStoreContentId:null,applinkSpec:null,mobileProductName:null,callToActionType:null},CREATIVE_FIELDS_OVERRIDE_MAP:{imageList:"Please choose an image for your ad."},CAMPAIGN_FIELDS:['id','accountId','name','startTime','endTime','lifetimeBudget','dailyBudget','campaignStatus'],CAMPAIGN_GROUP_FIELDS:['name','campaign_group_status','objective'],ACCOUNT_FOR_BRAND_FIELDS:['id','accountId','account_status','name','business','currency','timezoneName','endAdvertiser','fundingSource','dailySpendLimit','businessCountryCode'],BRAND_FIELDS:['id','name','verticalId','timezoneId','picture.type(square)','primary_page.fields(name, picture, link)','created_time','created_by.fields(name, link)','updated_time','updated_by.fields(name, link)','extended_updated_time'],BRAND_PAGE_FIELDS:['id','name','category','link','picture','access_status','business','likes','access_type','permitted_roles'],BRAND_LABEL_FIELDS:['id','name','business','creator','created_time'],USER_PAGE_FIELDS:g.USER_PAGE_FIELDS,BRAND_ROLE_FIELDS:['id','name','type','actions'],BRAND_USER_FIELDS:['id','name','link','picture'],BRAND_ACCOUNT_FIELDS:['id','accountId','currency','timezoneId','business','access_status','name','permitted_roles'],BRAND_APP_FIELDS:['id','name','link','icon_url','logo_url','monthly_active_users','daily_active_users_rank','monthly_active_users_rank','access_status','access_type','permitted_roles','picture'],USER_APP_FIELDS:['id','name','link','icon_url','logo_url','monthly_active_users','daily_active_users_rank','monthly_active_users_rank','picture'],CC_FUNDING_SOURCE_FIELDS:['id','first_name','last_name','credit_card_suffix','address','expiration_month','expiration_year','credit_card_type'],EC_FUNDING_SOURCE_FIELDS:['id','currency','balance','max_balance'],PAGE_POST_FIELDS:['message','picture','full_picture','link','name','description','type','call_to_action','is_published'],REPORT_SPEC_FIELDS:['id','accountId','actionsGroupBy','dataColumns','exportColumns','datePreset','filters','timeIncrement','name','sortBy','sortDir','isPresetReport','userReport'],PRICING_FIELDS:['bidType','campaignId','bidInfo','maxBid','impressionControlMap','noShowPercentage','noShowOffset','priority'],TARGETING_FIELDS:['genders','ageMax','ageMin','regions','countries','cities','zips','radius','keywords','interests','connections','excludedConnections','friendsOfConnections','relationshipStatuses','interestedIn','collegeNetworks','collegeMajors','collegeYears','educationStatuses','locales','workNetworks','userAdclusters','conjunctiveUserAdclusters','behaviors','userOs','userDevice','wirelessCarrier','workPositions','familyStatuses','industries','lifeEvents','politics','educationMajors','educationSchools','workEmployers','income','netWorth','homeType','homeOwnership','homeValue','ethnicAffinity','generation','householdComposition','moms','officeType','customAudiences','excludedCustomAudiences','excludedUserAdclusters','pageTypes','geoLocations','excludedGeoLocations'],GEO_LOCATIONS_FIELDS:['cities','regions','countries','zips'],GEO_LOCATIONS_FIELD:{CITIES:'cities',REGIONS:'regions',COUNTRIES:'countries',ZIPS:'zips'},ADVANCED_TARGETING_FIELDS:['interestedIn','relationshipStatuses','educationStatuses','locales','workNetworks'],ACCOUNT_FIELDS:g.ACCOUNT_FIELDS,ADGROUP_FIELDS_FOR_CF:['objective','id','account_id','bid_info','bid_type','campaign_id','conversion_specs','creative_ids','impression_control_map','locations','name','targeting','tracking_specs','is_autobid'],OBJECTIVE_FIELDS:['objective'],SAVED_TARGET_SPEC_FIELDS:['audienceId','audienceName','parentAudienceId','accountId','timeUpdatedTimestamp','targetSpec','approximateCount','status','targetingSentenceLines'],USER_ADDRESS_PROPERTIES:['street','street2','city','state','country_code','zip'],ACTIVITY_LOG_FIELDS:['event_type','translated_event_type','actor_id','actor_name','application_id','application_name','action_type','object_id','object_name','object_type','event_time','extra_data'],getAdGroupFieldsForCF:function(){var j=i.ADGROUP_FIELDS_FOR_CF.slice(0);j.push('campaign_group_id');return j;}};e.exports=i;});
__d("AdsCFCreativeProperties",["AdCreativeType","adsGKCheck","AdsUtils","getObjectValues"],function(a,b,c,d,e,f,g,h,i,j){var k={STORY_APP_SHARE:{id:g.keyToType.STORY_APP_SHARE.id,validFields:['objectId','urlTags']},STORY_APP_USED:{id:g.keyToType.STORY_APP_USED.id,validFields:['objectId','urlTags']},STORY_PAGE_LIKE:{id:g.keyToType.STORY_PAGE_LIKE.id},STORY_PAGE_POST:{id:g.keyToType.STORY_PAGE_POST.id},STORY_CHECKIN:{id:g.keyToType.STORY_CHECKIN.id},STORY_DOMAIN_SHARE:{id:g.keyToType.STORY_DOMAIN_SHARE.id,validFields:['objectId','urlTags']},STORY_QUERY_BASED:{id:g.keyToType.STORY_QUERY_BASED.id,validFields:['objectId','urlTags']},AD_EXTERNAL_URL:{id:g.keyToType.AD_EXTERNAL_URL.id,validFields:['title','body','linkUrl','imageList','relatedFanPage','showRelatedFanPage','videoId','videoThumbnail'],requiredFields:['title','body','linkUrl','MULTI_IMAGE']},FEED_URL:{id:g.keyToType.FEED_URL.id,validFields:['actor','title','body','linkUrl','linkDescription','callToActionType','imageList','storyId','videoId','videoThumbnail'],requiredFields:['actor','title','body','linkUrl','MULTI_IMAGE']},AD_FAN_LIKE:{id:g.keyToType.AD_FAN_LIKE.id,validFields:['objectId','title','body','linkUrl','imageList'],requiredFields:['objectId','body','MULTI_IMAGE']},AD_EVENT_RSVP:{id:g.keyToType.AD_EVENT_RSVP.id,validFields:['objectId','title','body','imageList'],requiredFields:['objectId','body','MULTI_IMAGE']},AD_APPLICATION:{id:g.keyToType.AD_APPLICATION.id,validFields:['objectId','title','body','imageList','linkUrl','urlTags'],requiredFields:['objectId','body','MULTI_IMAGE']},AD_PAGE_POST:{id:g.keyToType.AD_PAGE_POST.id,validFields:['objectId','storyId','urlTags']},MOBILE_APP_INSTALL:{id:g.keyToType.MOBILE_APP_INSTALL.id,validFields:['objectId','title','body','iconImage','imageList','mobileStore','videoId','applinkUrl','mobileProductName','callToActionType','urlTags','linkUrl'],requiredFields:['objectId','MULTI_IMAGE']}};if(h('ads_cf_neko_lpp'))k.NEKO_LPP={id:g.keyToType.NEKO_LPP.id,validFields:['actor','applinkUrl','body','callToActionType','imageList','imageUrl','linkUrl','platform','storyId','title','videoId'],requiredFields:['actor','linkUrl',['imageUrl','videoId'],'MULTI_IMAGE']};var l=i.indexedMap(j(k),'id'),m={idToType:l,keyToType:k,requiredFieldsForType:function(n){var o=l[n],p=o?o.requiredFields:undefined;if(p)return p;o=g.idToType[n];return o?o.requiredFields||[]:[];}};e.exports=m;});
__d("ObjectFlip",[],function(a,b,c,d,e,f){var g=function(h){var i={};for(var j in h)if(h.hasOwnProperty(j))i[h[j]]=j;return i;};e.exports=g;});
__d("AdsCountries",["AdsCountriesConfig","ObjectFlip"],function(a,b,c,d,e,f,g,h){f.countries=g.countries;f.hasCities=function(j){j=j.toUpperCase();return g.countriesWithCities.indexOf(j)!=-1;};f.hasRegions=function(j){j=j.toUpperCase();return g.countriesWithRegions.indexOf(j)!=-1;};f.getCurrencyByCountry=function(j){j=j.toUpperCase();return g.countriesToCurrencies[j];};var i=h(g.countries);f.sortedCountries=Object.keys(i||{}).sort().map(function(j){return {code:i[j],name:j};});});
__d("AdsDestinationTypes",[],function(a,b,c,d,e,f){'use strict';var g={EXTERNAL_WEBPAGE:'external_webpage',PAGE:1,APP:2,EVENT:3,GROUP:4,REVIEW:5,PLACE:6,DOMAIN:7,STATUS:8,PLAN:9,PAGE_AND_PLACE:50,SEARCH:100,ENTER_URL:101,SEARCH_BY_ID:102};e.exports=g;});
__d("ads-objectives",["AdsAPIObjectives","AdsDestinationTypes","keyMirror"],function(a,b,c,d,e,f,g,h,i){var j=i({POST_ENGAGEMENT:null,PAGE_LIKES:null,WEBSITE_CLICKS:null,WEBSITE_CONVERSIONS:null,APP_INSTALLS:null,CANVAS_APP_INSTALLS:null,MOBILE_APP_INSTALLS:null,APP_ENGAGEMENT:null,CANVAS_APP_ENGAGEMENT:null,MOBILE_APP_ENGAGEMENT:null,EVENT_RESPONSES:null,OFFER_CLAIMS:null,APP_STORE_MEDIA_VISITS:null,LOCAL_AWARENESS:null,VIDEO_VIEWS:null,INSTAGRAM_BRAND_AWARENESS:null,NONE:null,MIXED:null}),k=[g.OFFER_CLAIMS,g.POST_ENGAGEMENT],l={};l[h.APP]=[j.APP_INSTALLS,j.APP_ENGAGEMENT];l[h.EVENT]=[j.EVENT_RESPONSES];l[h.EXTERNAL_WEBPAGE]=[j.WEBSITE_CLICKS,j.WEBSITE_CONVERSIONS];l[h.PAGE]=l[h.PLACE]=[j.PAGE_LIKES,j.POST_ENGAGEMENT,j.LOCAL_AWARENESS,j.OFFER_CLAIMS];var m={};m[j.PAGE_LIKES]=g.PAGE_LIKES;m[j.POST_ENGAGEMENT]=g.POST_ENGAGEMENT;m[j.WEBSITE_CLICKS]=g.WEBSITE_CLICKS;m[j.WEBSITE_CONVERSIONS]=g.WEBSITE_CONVERSIONS;m[j.OFFER_CLAIMS]=g.OFFER_CLAIMS;m[j.EVENT_RESPONSES]=g.EVENT_RESPONSES;m[j.LOCAL_AWARENESS]=g.LOCAL_AWARENESS;m[j.APP_ENGAGEMENT]=g.CANVAS_APP_ENGAGEMENT;m[j.APP_INSTALLS]=g.MOBILE_APP_INSTALLS;m[j.APP_STORE_MEDIA_VISITS]=g.WEBSITE_CLICKS;var n={};n[g.CANVAS_APP_ENGAGEMENT]=j.APP_ENGAGEMENT;n[g.CANVAS_APP_INSTALLS]=j.APP_INSTALLS;n[g.EVENT_RESPONSES]=j.EVENT_RESPONSES;n[g.LOCAL_AWARENESS]=j.LOCAL_AWARENESS;n[g.MOBILE_APP_ENGAGEMENT]=j.APP_ENGAGEMENT;n[g.MOBILE_APP_INSTALLS]=j.APP_INSTALLS;n[g.OFFER_CLAIMS]=j.OFFER_CLAIMS;n[g.WEBSITE_CONVERSIONS]=j.WEBSITE_CONVERSIONS;n[g.POST_ENGAGEMENT]=j.POST_ENGAGEMENT;n[g.PAGE_LIKES]=j.PAGE_LIKES;n[g.WEBSITE_CLICKS]=j.WEBSITE_CLICKS;var o=function(q){return [g.CANVAS_APP_INSTALLS,g.EVENT_RESPONSES,g.PAGE_LIKES].indexOf(q)>-1;},p=function(q){return [g.WEBSITE_CLICKS,g.WEBSITE_CONVERSIONS].indexOf(q)>-1;};e.exports={APItoKPIObjectives:n,isCreateConnectionObjective:o,isURLCachingEligibileObjective:p,KPIObjectives:j,KPIObjectivesByDestinationType:l,KPItoAPIObjectives:m,OBJECTIVES:g,APIObjectivesWithRequiredStoryID:k};});
__d("AdsObjectivesConfig",["adsGKCheck","cx","fbt","ix","ads-objectives"],function(a,b,c,d,e,f,g,h,i,j){var k=b('ads-objectives').KPIObjectives,l={};l[k.WEBSITE_CLICKS]={name:"Clicks to Website",shortName:"Website Clicks",className:"_5usq",continueTooltip:"Enter a website address to continue",desc:"Get people to visit your website.",descNAX:"Send people to important places on your website.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/website_clicks.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/website_clicks.png'),illustration:j('/images/ads/createflow/nax/click_to_website.png'),selectorTooltip:"Create ads to encourage people to visit your website.",typeaheadSubtitle:"Enter URL for a website"};l[k.WEBSITE_CONVERSIONS]={name:"Website Conversions",className:"_5usr",continueTooltip:"Enter a website address and conversion pixel to continue",desc:"Promote actions you want people to take on your website.",descNAX:"Measure specific actions people take on your site. You'll need to use a conversion-tracking pixel to measure your results.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/website_conversions.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/website_conversions.png'),illustration:j('/images/ads/createflow/nax/click_to_conversion.png'),selectorTooltip:"Create ads to promote specific actions for people to take on your website. You'll need to use a conversion-tracking pixel to measure your results.",typeaheadSubtitle:"Enter URL for a website"};l[k.WEBSITE_CONVERSIONS].shortName=l[k.WEBSITE_CONVERSIONS].name;l[k.POST_ENGAGEMENT]={name:"Page Post Engagement",shortName:"Post Engagement",className:"_5uss",continueTooltip:"Select a Page and post to continue",desc:"Boost your Page post.",descNAX:"Boost posts to reach more people. Engagement includes likes for your post, comments, shares, video plays and photo views.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/post_engagement.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/post_engagement.png'),illustration:j('/images/ads/createflow/nax/page_post_engagement.png'),selectorTooltip:"Create ads that boost your posts and increase likes, comments, shares, video plays and photo views.",typeaheadSubtitle:"Enter URL for a Page or Page post",typeaheadTooltip:"Choose the Page for the post you want to boost. Start typing to find the Page or use the post's URL."};l[k.PAGE_LIKES]={name:"Page Likes",className:"_5ust",continueTooltip:"Select a Page to continue",desc:"Get Page likes to grow your audience and build your brand.",descNAX:"Connect with more people who matter to your business.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/page_likes.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/page_likes.png'),illustration:j('/images/ads/createflow/nax/page_likes.png'),selectorTooltip:"Create ads to build your audience on Facebook.",typeaheadSubtitle:"Enter URL for a Page",typeaheadTooltip:"Choose the Facebook Page you want to promote. Start typing to find the Page you want to advertise or use its URL. If the Page isn't listed, contact the Page admin."};l[k.PAGE_LIKES].shortName=l[k.PAGE_LIKES].name;l[k.APP_INSTALLS]={name:"App Installs",className:"_5usu",continueTooltip:"Select an app to continue",desc:"Get people to install your app.",descNAX:"Get people to install your Facebook or mobile app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_installs.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_installs.png'),illustration:j('/images/ads/createflow/nax/app_installs.png'),selectorTooltip:"Create ads to encourage people to install your app.",typeaheadSubtitle:"Enter URL for a mobile or desktop app",typeaheadTooltip:"Choose the app you want to advertise. Start typing to find the app or use its App Store or Play Store URL. You can advertise any app that you've registered on Facebook's developer site."};l[k.APP_INSTALLS].shortName=l[k.APP_INSTALLS].name;l[k.CANVAS_APP_INSTALLS]={name:"Desktop App Installs",className:"_5usu",continueTooltip:"Select an app to continue",desc:"Get people to install your desktop app.",descNAX:"Get people to install your Facebook app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_installs.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_installs.png'),selectorTooltip:"Create ads to encourage people to install your desktop app.",typeaheadSubtitle:"Enter URL for a desktop app"};l[k.CANVAS_APP_INSTALLS].shortName=l[k.CANVAS_APP_INSTALLS].name;l[k.MOBILE_APP_INSTALLS]={name:"Mobile App Installs",className:"_5usu",continueTooltip:"Select an app to continue",desc:"Get people to install your mobile app.",descNAX:"Get people to install your mobile app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_installs.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_installs.png'),selectorTooltip:"Create ads to encourage people to install your mobile app.",typeaheadSubtitle:"Enter URL for a mobile app"};l[k.MOBILE_APP_INSTALLS].shortName=l[k.MOBILE_APP_INSTALLS].name;l[k.APP_ENGAGEMENT]={name:"App Engagement",className:"_5usv",continueTooltip:"Select an app to continue",desc:"Get more activity on your Facebook or mobile app.",descNAX:"Get people to use your Facebook or mobile app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_engagement.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_engagement.png'),illustration:j('/images/ads/createflow/nax/app_engagement.png'),selectorTooltip:"Create ads that get more activity on your app.",typeaheadSubtitle:"Enter URL for an app",typeaheadTooltip:"Choose the app you want to advertise. Start typing to find the app or use its App Store or Play Store URL. You can advertise any app that you've registered on Facebook's developer site."};l[k.APP_ENGAGEMENT].shortName=l[k.APP_ENGAGEMENT].name;l[k.CANVAS_APP_ENGAGEMENT]={name:"Desktop App Engagement",className:"_5usv",continueTooltip:"Select an app to continue",desc:"Get more activity on your desktop app.",descNAX:"Get people to use your Facebook app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_engagement.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_engagement.png'),selectorTooltip:"Create ads that get more activity on your desktop app.",typeaheadSubtitle:"Enter URL for a desktop app"};l[k.CANVAS_APP_ENGAGEMENT].shortName=l[k.CANVAS_APP_ENGAGEMENT].name;l[k.MOBILE_APP_ENGAGEMENT]={name:"Mobile App Engagement",className:"_5usv",continueTooltip:"Select an app to continue",desc:"Get more activity on your mobile app.",descNAX:"Get people to use your mobile app.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/app_engagement.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/app_engagement.png'),selectorTooltip:"Create ads that get more activity on your mobile app.",typeaheadSubtitle:"Enter URL for a mobile app"};l[k.MOBILE_APP_ENGAGEMENT].shortName=l[k.MOBILE_APP_ENGAGEMENT].name;if(g('neko_media_ads_cf'))l[k.APP_STORE_MEDIA_VISITS]={name:"Clicks to Media Store",shortName:"Media Store Clicks",className:"_5usw",continueTooltip:"Enter the iTunes store URL to promote",desc:"Send people to the iTunes store to buy your album, song, movie, or TV show.",descNAX:"Send people to the iTunes store to buy your album, song, movie, or TV show.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/media_visits.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/media_visits.png'),illustration:j('/images/ads/createflow/nax/click_to_media_buy.png'),selectorTooltip:"Create ads to get people to buy your album, or song, movie or TV show.",typeaheadSubtitle:"Enter an iTunes store URL"};l[k.OFFER_CLAIMS]={name:"Offer Claims",className:"_5usx",continueTooltip:"Select a Page and offer to continue",desc:"Create offers for people to redeem in your store.",descNAX:"Make Facebook offers so people can redeem discounts online.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/offer_claims.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/offer_claims.png'),illustration:j('/images/ads/createflow/nax/offer_claims.png'),selectorTooltip:"Create ads to promote offers you created. You'll need to use an offer you've created on Facebook or create a new one right here.",typeaheadSubtitle:"Enter URL for a Page or offer on Facebook",typeaheadTooltip:"Choose the Page for the offer you want to promote. Start typing to find the Page or use its URL."};l[k.OFFER_CLAIMS].shortName=l[k.OFFER_CLAIMS].name;l[k.EVENT_RESPONSES]={name:"Event Responses",className:"_5usy",continueTooltip:"Select an event to continue",desc:"Increase attendance at your event.",descNAX:"Promote your Facebook event to get more responses.",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/event_responses.png'),smallIcon:j('/images/ads/createflow/objectives/icons_small/event_responses.png'),illustration:j('/images/ads/createflow/nax/event_responses.png'),selectorTooltip:"Create ads to promote your event.",typeaheadSubtitle:"Enter URL for a Facebook event",typeaheadTooltip:"Choose the Facebook event you want to promote. Start typing to find the event or enter its URL. If your event occurs today or has already passed, it can't be advertised."};l[k.EVENT_RESPONSES].shortName=l[k.EVENT_RESPONSES].name;if(g('ads_cf_instore_localreach'))l[k.LOCAL_AWARENESS]={name:"Local Awareness",shortName:"Local Awareness",className:"_4l7j",continueTooltip:"Select or create a page to continue",desc:"Get your message across to people near your store.",descNAX:"Get your message across to people near your store.",hiddenByDefault:false,icon:'/images/map_pushpin_blue.png',smallIcon:'/images/map_pushpin_house.png',illustration:'/images/ads/createflow/nax/mock_local_reach.png',selectorTooltip:"Create ads to reach people who are near your store.",typeaheadSubtitle:"Select a Page from the list, or enter its URL.",typeaheadTooltip:"Choose a Facebook Page that represents your business. Start typing to find the Page you want to advertise, or use its URL. If your business does not yet have a Page, you can start creating one right here."};l[k.VIDEO_VIEWS]={name:"Video Views",className:"_2jfr",continueTooltip:null,desc:"Get Video Views",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/event_responses.png'),selectorTooltip:"Create Ads to promote your videos",typeaheadSubtitle:null};l[k.INSTAGRAM_BRAND_AWARENESS]={name:"Instagram Brand Awareness",className:"_2jfr",continueTooltip:null,desc:"Increase Brand Awareness",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/event_responses.png'),selectorTooltip:"Create Ads to promote your Brand on Instagram",typeaheadSubtitle:null};l[k.NONE]={name:"No Objective",className:"_5vba",continueTooltip:null,desc:"No objective",hiddenByDefault:false,icon:j('/images/ads/createflow/objectives/icons_large/event_responses.png'),selectorTooltip:"No objective will be selected",typeaheadSubtitle:null};l[k.MIXED]={name:"Mixed Objectives"};function m(v){var w=l[v];if(!w)return {};return w;}function n(v){return m(v).name||v;}function o(v){return m(v).shortName||n(v);}function p(v){return !!m(v).hiddenByDefault;}function q(v){return m(v).continueTooltip||null;}function r(v){return m(v).selectorTooltip||null;}function s(v){return m(v).typeaheadSubtitle||null;}function t(v){return !!v&&!!l[v];}var u={KPIObjectivesData:l,getName:n,getShortName:o,isHiddenByDefault:p,getContinueTooltip:q,getSelectorTooltip:r,getTypeaheadSubtitle:s,isValid:t};e.exports=u;});
__d("AdsTimezone",["AdsTimezoneConfig"],function(a,b,c,d,e,f,g){f.countryCodeToTimezoneIDsMap=g.countryCodeToTimezoneIDsMap;f.names=g.names;f.timezoneIDToCountryCodeMap=new Array(f.names.length);f.timezoneDataByID=g.tzDataByID;for(var h in g.countryCodeToTimezoneIDsMap)if(g.countryCodeToTimezoneIDsMap.hasOwnProperty(h)){var i=g.countryCodeToTimezoneIDsMap[h];for(var j=0;j<i.length;++j)f.timezoneIDToCountryCodeMap[i[j]]=h;}var k=[];Object.keys(g.tzIDsByDisplayName).sort().reverse().forEach(function(l){if(!l)return;var m=g.tzIDsByDisplayName[l],n=g.names[m];k.push({id:m,displayName:l,name:n});});f.sortedTimezones=k;});
__d("PagePostTypes",[],function(a,b,c,d,e,f){"use strict";var g={LINK:'link',OFFER:'offer',PHOTO:'photo',QUESTION:'question',STATUS:'status',VIDEO:'video'};e.exports=g;});
__d("ads-pageTypesMap",["getObjectValues","merge"],function(a,b,c,d,e,f,g,h){var i={FEED:'feed',MOBILE:'mobile',HOME:'home',LOGOUT:'logout',DESKTOP:'desktop',DESKTOP_FEED:'desktopfeed',MOBILE_EXTERNAL:'mobile-external',EXTERNAL:'external',MOBILE_EXTERNAL_ONLY:'mobile-external-only',MOBILE_FEED_AND_EXTERNAL:'mobilefeed-and-external',DESKTOP_EXTERNAL_ONLY:'desktop-external-only',RIGHT_COLUMN:'rightcolumn',RIGHT_COLUMN_AND_MOBILE:'rightcolumn-and-mobile',INSTAGRAM_STREAM:'instagramstream'},j=h({ALL:'all',NEWS_FEED_ONLY:'nf-only',MOBILE_FEED:'mobilefeed',MOBILE_EXTERNAL_FEED:'mobileexternalfeed',MOBILE_EXTERNAL_APPS:'mobileexternalapps',RHS:'rhs',ALL_PREMIUM:'all_premium'},i),k=g(i),l={};l[j.ALL]=[];l[[j.NEWS_FEED_ONLY,j.DESKTOP_FEED].join(',')]=[j.DESKTOP_FEED];l[[j.NEWS_FEED_ONLY,j.MOBILE_FEED].join(',')]=[j.MOBILE];l[[j.MOBILE_EXTERNAL,j.MOBILE_EXTERNAL_FEED].join(',')]=[j.MOBILE_EXTERNAL];l[[j.MOBILE_EXTERNAL].join(',')]=[j.MOBILE_EXTERNAL_ONLY];l[[j.NEWS_FEED_ONLY,j.DESKTOP_FEED,j.MOBILE_FEED].join()]=[j.FEED];var m={};(function(){for(var r in l){var s=l[r];m[s.join()]=r.split(',');}m[j.ALL]=[j.ALL];})();var n=[j.FEED,j.DESKTOP,j.DESKTOP_FEED,j.MOBILE,j.MOBILE_EXTERNAL,j.MOBILE_FEED_AND_EXTERNAL,j.MOBILE_EXTERNAL_APPS,j.EXTERNAL,j.DESKTOP_EXTERNAL_ONLY,j.MOBILE_EXTERNAL_ONLY,j.RIGHT_COLUMN,j.RIGHT_COLUMN_AND_MOBILE],o=n.concat([j.HOME,j.LOGOUT,j.INSTAGRAM_STREAM]),p=[j.HOME,j.FEED,j.DESKTOP,j.DESKTOP_FEED,j.RIGHT_COLUMN,j.MOBILE],q=[j.FEED,j.MOBILE,j.EXTERNAL,j.MOBILE_EXTERNAL,j.MOBILE_FEED_AND_EXTERNAL,j.MOBILE_EXTERNAL_APPS,j.MOBILE_EXTERNAL_ONLY,j.RIGHT_COLUMN_AND_MOBILE];e.exports={PAGETYPES:j,PAGETYPES_BACKEND:i,PAGETYPES_BACKEND_VALUES:k,VALUE2INFO_MAP:l,INFO2VALUE_MAP:m,PAGETYPES_SELF_SERVE:n,PAGETYPES_PREMIUM:o,PAGETYPES_PREMIUM_IN_SELF_SERVE:p,PAGETYPES_MOBILE:q};});
__d("ads-mobile-platforms",["bolt/util","fbt","ads-pageTypesMap","AdCreativeType"],function(a,b,c,d,e,f,g,h,i){var j=b('AdCreativeType').AD_CREATIVE_TYPE,k={IPHONE:'iPhone',IPOD:'iPod',IPAD:'iPad',ANDROID_SMARTPHONE:'Android_Smartphone',ANDROID_TABLET:'Android_Tablet',DESKTOP_CANVAS:'Desktop_Canvas'},l=[{name:"Smartphones",id:k.ANDROID_SMARTPHONE},{name:"Tablets",id:k.ANDROID_TABLET}],m=[{name:"iPhone",id:k.IPHONE},{name:"iPod",id:k.IPOD},{name:"iPad",id:k.IPAD}];function n(u){return g.contains(g.pluck(m,'id'),u);}function o(u){return g.contains(g.pluck(l,'id'),u);}var p={IOS:'iOS',ANDROID:'Android',FEATURE_DEPRECATED:'feature_phones',FEATURE:'Feature_Phone',FB_CANVAS:'fb_canvas',WINDOWS:'Windows'},q={ALL:'All',SPECIFIC:'Specific'},r={WIFI:'Wifi','3G':'3G'};function s(u){return u.length===0||g.intersect(i.PAGETYPES_MOBILE,u).length>0;}function t(u){if(g.contains([j.STANDARD,j.INLINE_RSVP,j.PLATFORM_CONTEXT],u.type()))return false;return s(u.page_types());}f.userOSRegex=/(.*)_ver_(.*)_and_above/;f.deviceTypes=k;f.IOS_DEVICES=m;f.ANDROID_DEVICES=l;f.isIosDevice=n;f.isAndroidDevice=o;f.operatingSystems=p;f.carriers=r;f.deviceAll=q;f.hasValidPageTypesForPlatformTargeting=s;f.canUsePlatformTargeting=t;});
__d("ads-app-platforms",["arrayContains","fbt","invariant","ads-mobile-platforms"],function(a,b,c,d,e,f,g,h,i,j){var k=j.deviceTypes,l=j.operatingSystems,m={WEB:1,CANVAS:2,MOBILE_WEB:3,IPHONE:4,IPAD:5,ANDROID:6,IOS:7,DESKTOP_CANVAS:8,WINDOWS:9},n={INVALID:0,CANVAS:1,MOBILE_CANVAS:2,MOBILE_NATIVE:3},o={0:"The app does not support any mobile platforms",1:"Canvas",2:"Mobile Canvas",3:"Mobile Native"},p={ITUNES:'itunes',ITUNES_IPAD:'itunes_ipad',GOOGLE_PLAY:'google_play',WINDOWS_STORE:'windows_store',FB_CANVAS:'fb_canvas'},q={FB_APPLICATION_ONLY:'application',FB_MOBILE_STORE_ONLY:'mobile_store',FB_MOBILE_STORE_WITH_BACKING_APP:'mobile_store_with_matching_application'},r={};r[m.IOS]="iTunes";r[m.ANDROID]="Google Play";r[m.DESKTOP_CANVAS]="Facebook Store";var s={};s[n.INVALID]="The app does not support any native mobile platforms";s[m.IPHONE]="iPhone";s[m.IPAD]="iPad";s[m.ANDROID]="Android";s[m.IOS]="iOS";s[m.CANVAS]="Canvas";s[m.WINDOWS]="Windows";var t={};t[n.INVALID]='';t[m.IPHONE]=p.ITUNES;t[m.IPAD]=p.ITUNES_IPAD;t[m.ANDROID]=p.GOOGLE_PLAY;t[m.IOS]=p.ITUNES;t[m.CANVAS]=p.FB_CANVAS;t[m.WINDOWS]=p.WINDOWS_STORE;var u={};u[p.ITUNES]=m.IPHONE;u[p.ITUNES_IPAD]=m.IPAD;u[p.GOOGLE_PLAY]=m.ANDROID;u[p.FB_CANVAS]=m.CANVAS;u[p.WINDOWS_STORE]=m.WINDOWS;function v(na,oa){return na.filter(function(pa){return g(oa,pa);});}function w(na){na=na||{};var oa=[];Object.keys(m).forEach(function(pa){var qa=m[pa];if(na[pa.toLowerCase()])oa.push(qa);});return oa;}function x(na,oa){return !!v(na,oa).length;}function y(na){if(!na)return [];return na.supported_platforms()||[];}function z(na){var oa=[],pa=y(na);if(x(pa,[m.IPHONE,m.IPAD]))oa.push(l.IOS);if(x(pa,[m.ANDROID]))oa.push(l.ANDROID);return oa;}function aa(na){if(!na||!na.length)return false;return na.some(function(oa){return (oa===m.CANVAS||oa===m.DESKTOP_CANVAS);});}function ba(na){return g([m.IPHONE,m.IPAD,m.ANDROID,m.IOS,m.WINDOWS],na);}function ca(na){if(!na||!na.length)return false;return na.some(ba);}function da(na,oa){var pa=u[oa];return ea(na,pa);}function ea(na,oa){return {mobileStore:t[oa],appPlatformValue:oa,storeId:na[oa],contentType:'application'};}function fa(na){var oa=[];na=na||{};function pa(ra){oa.push(ga(ra));}var qa=m.IPAD in na;if(m.IPHONE in na)pa(qa?m.IPHONE:m.IOS);if(qa)pa(m.IPAD);if(m.ANDROID in na)pa(m.ANDROID);if(m.WINDOWS in na)pa(m.WINDOWS);if(oa.length===0)pa(n.INVALID);return oa;}function ga(na){return {value:t[na],text:s[na]};}function ha(na){return [{value:na,text:s[u[na]]}];}function ia(na,oa){switch(na){case p.ITUNES:if(m.IPAD in oa)return [k.IPHONE,k.IPOD];return [k.IPHONE,k.IPOD,k.IPAD];case p.ITUNES_IPAD:return [k.IPAD];case p.GOOGLE_PLAY:return [];case p.WINDOWS_STORE:return [];case p.FB_CANVAS:return [];default:i(false);}}function ja(na,oa){return {os:ka(na),devices:ia(na,oa)};}function ka(na){if(!na)return;switch(na){case p.ITUNES:case p.ITUNES_IPAD:return l.IOS;case p.GOOGLE_PLAY:return l.ANDROID;case p.WINDOWS_STORE:return l.WINDOWS;case p.FB_CANVAS:return l.FB_CANVAS;default:i(false);}}function la(na){return na===p.ITUNES||na===p.ITUNES_IPAD;}function ma(na){if(!na)return;switch(na){case m.IOS:return l.IOS;case m.ANDROID:return l.ANDROID;default:i(false);}}f.APP_PLATFORM=m;f.APP_PLATFORM_TO_STORE_NAME=r;f.APP_PLATFORM_TYPE=n;f.APP_PLATFORM_TYPE_NAME=o;f.constructNativeMobileAppOption=ga;f.getMobileOSForPlatform=ma;f.getMobileStoreOptionsForMobileStore=ha;f.getNativeMobileApps=fa;f.getOSForMobileStore=ka;f.isIOSMobileStore=la;f.getPlatformsFromGraph=w;f.getStoreObjectInfoFromAppPlatform=ea;f.getStoreObjectInfoFromMobileStore=da;f.getSupportedOS=z;f.getTargetingOptionsByMobileStore=ja;f.isPlatformSupported=x;f.MOBILE_STORE=p;f.MOBILE_STORE_DESTINATION_TYPE=q;f.NATIVE_APP_TO_MOBILE_STORE_MAP=t;f.supportsDesktop=aa;f.supportsNativeMobile=ca;});
__d("ads-lib-connect",["ApiClient","Arbiter","URI","copyProperties","flattenObject"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j(new h(),{events:{NEW_NETWORK_DATA_AVAILABLE:'newNetworkDataAvailable'},api:function(p){var q={};Array.prototype.slice.call(arguments,1).forEach(function(x){q[typeof x]=x;});var r=q.string,s=q.object,t=q['function'],u=Date.now(),v=function(x){var y=Date.now();m({path:p,method:r,params:s,response:x,start:u,end:y,baseURL:window.location.href});t&&t(x);},w=[p,r,s,v].filter(function(x){return !!x;});g.graph.apply(g,w);},url:function(p,q,r){if(p&&p.substring(0,1)!='/')p='/'+p;q=q||{};q.access_token=r;q=k(q);return i().setPath(p).setSubdomain('graph').setQueryData(q).toString();}});function m(p){l.inform(l.events.NEW_NETWORK_DATA_AVAILABLE,p,h.BEHAVIOR_EVENT);}function n(p){return !p||p.error||p.error_msg;}function o(p){if(!p)return {};return {msg:p.error_msg||(p.error&&p.error.message)||p.error,code:p.error_code||(p.error&&p.error.code),type:p.error_type||(p.error&&p.error.type),subcode:p.error_subcode||(p.error&&p.error.error_subcode)};}f.FB=l;f.getErrorMessage=o;f.isError=n;});
__d("adsAsyncUtils",[],function(a,b,c,d,e,f){var g=30;function h(j,k,l){"use strict";this.$ParallelForEach0=j;this.$ParallelForEach1=1;this.$ParallelForEach2=k;this.$ParallelForEach3=l;this.$ParallelForEach4=0;this.$ParallelForEach5=0;this.$ParallelForEach6=0;this.$ParallelForEach7=60000;this.$ParallelForEach8=null;}h.prototype.setTimeoutLimit=function(j){"use strict";this.$ParallelForEach7=j;return this;};h.prototype.setTimeoutHandler=function(j){"use strict";this.$ParallelForEach8=j;return this;};h.prototype.setContext=function(j){"use strict";this.$ParallelForEach9=j;return this;};h.prototype.setExceptionHandler=function(j){"use strict";this.$ParallelForEacha=j;return this;};h.prototype.setConcurrency=function(j){"use strict";this.$ParallelForEach1=j;return this;};h.prototype.run=function(){"use strict";var j=this;if(j.$ParallelForEach4<j.$ParallelForEach1)j.hasNext(function(k){if(k){j.$ParallelForEachb(0);j.run();}else if(j.$ParallelForEach4===0)j.$ParallelForEach3.call(j.$ParallelForEach9||null);});};h.prototype.hasNext=function(j){"use strict";j(this.$ParallelForEach4<this.$ParallelForEach0.length);};h.prototype.numRunning=function(){"use strict";return this.$ParallelForEach4-this.$ParallelForEach5;};h.prototype.next=function(){"use strict";return this.$ParallelForEach0[this.$ParallelForEach4++];};h.prototype.$ParallelForEachb=function(j){"use strict";var k=this.$ParallelForEach4,l=this.next();if(j&&j%g===0){setTimeout(this.$ParallelForEachc.bind(this,l,k,0),1);}else this.$ParallelForEachc(l,k,j);};h.prototype.$ParallelForEachc=function(j,k,l){"use strict";var m=null;if(this.$ParallelForEach8)setTimeout(this.$ParallelForEach8,this.$ParallelForEach7);try{this.$ParallelForEach2.call(this.$ParallelForEach9||null,j,k,this.$ParallelForEachd.bind(this,l,m));}catch(n){if(this.$ParallelForEacha){this.$ParallelForEacha(n);this.$ParallelForEachd(l,m);}else throw n;}};h.prototype.$ParallelForEachd=function(j,k){"use strict";if(k)clearTimeout(k);var l=this;++l.$ParallelForEach5;++l.$ParallelForEach6;l.hasNext(function(m){--l.$ParallelForEach6;if(m){l.$ParallelForEachb(j+1);}else if(l.$ParallelForEach6===0&&l.numRunning()===0)l.$ParallelForEach3.call(l.$ParallelForEach9||null);});};var i=function(j,k,l,m){var n=new h(j,k,l);n.setConcurrency(1).setContext(m).run();};e.exports={forEach:i};});
__d("AdsFBBatch",["ads-lib-connect","adsAsyncUtils","QueryString","AdsUtils","copyProperties","flattenObject","Deferred"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=b('ads-lib-connect').FB,o={error:{message:'Error parsing graph response'}};function p(t){try{return t&&JSON.parse(t);}catch(u){return o;}}function q(t){return t.map(function(u){var v={method:u.method},w=i.encode(l(u.params));if((u.method==='GET'||u.method==='DELETE')&&u.params){v.relative_url=u.path+"?"+w;}else{v.relative_url=u.path;v.body=w;}if(u.name){v.name=u.name;v.omit_response_on_success=false;}return v;});}function r(){"use strict";this._requests=[];}r.prototype.add=function(t,u,v,w,x){"use strict";var y=new m(),z=s(y,w);this._requests.push({method:t,path:u,params:v,callback:z,name:x});return y;};r.prototype.run=function(t){"use strict";return r.run(this._requests,t);};r.run=function(t,u){"use strict";var v=[],w=new m(),x=s(w,function(){u&&u(v);});switch(t.length){case 0:x();break;case 1:var y=t[0];n.api(y.path,y.method,y.params||{},function(aa){if(g.isError(aa))v.push(aa);y.callback(aa,x);});break;default:var z=j.chunkArray(t,r.MAX_NUM_REQUESTS_BATCH);h.forEach(z,function(aa,ba,ca){n.api('/','post',{batch:q(aa)},function(da){h.forEach(da,function(ea,fa,ga){var ha=ea&&p(ea.body);if(ha===o){var ia=j.clone(o);ia.response=ea;v.push(ia);}else if(g.isError(ha))v.push(ha);aa[fa].callback(ha,ga);},ca);});},x);}return w;};k(r,{MAX_NUM_REQUESTS_BATCH:50});function s(t,u){return function(){t.succeed.apply(t,arguments);u&&u.apply(null,arguments);};}e.exports=r;});
__d("ads-lib-urllib",[],function(a,b,c,d,e,f){function g(n){return k(m.normalize(n.trim()));}var h=/^(?:(\w+):)?(?:\/\/([^\/:?#]*)(?::(\d+))?)?([^#?]*)(?:\?([^#]*))?(?:#(.*))?/,i='invalid.invalid';function j(n){var o=new RegExp('[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f'+'\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF'+'\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]');if(o.test(n)){return i;}else return n;}function k(n){var o=n.toString().trim().match(h),p={protocol:o[1]||'',domain:j(o[2]||''),port:o[3]||'',path:o[4]||'',query_s:o[5]||'',fragment:o[6]||''};if(!p.domain&&p.path.indexOf('\\')!==-1)return {};var q=new RegExp('^(?:[^/]*:|'+'[\\x00-\\x1f]*/[\\x00-\\x1f]*/)');if(!p.protocol&&q.test(n.toString()))return {};return p;}function l(n){var o='';n.protocol&&(o+=n.protocol+'://');n.domain&&(o+=n.domain);n.port&&(o+=':'+n.port);if(n.domain&&!n.path)o+='/';n.path&&(o+=n.path);n.query_s&&(o+='?'+n.query_s);n.fragment&&(o+='#'+n.fragment);return o;}var m={normalize:function(n){if(!n)return n;var o=k(n);if(!o.protocol)o.protocol='http';return l(o);},isUrlSimple:function(n){var o=n.trim().split('.');return o.length>1&&o.filter(function(p){return !p;}).length===0;},isUrl:function(n){var o=g(n);return o.domain&&o.domain!==i&&m.isUrlSimple(o.domain);},isPotentialUrl:function(n){if(!n)return true;var o=g(n);return o.domain&&o.domain!==i;}};e.exports=m;});
__d("AdsCreateFlowConfig",["AdsCreationConfig"],function(a,b,c,d,e,f,g){var h={PAGE_POST_TIMEOUT_MS:6000,MAX_PAGE_POST_LEN:50,MAX_TITLE_LENGTH:g.maxTitleLength,MAX_URL_LENGTH:g.maxURLLength,NEW_CAMPAIGN_ID:0,AGE_MIN:g.minAge,AGE_MAX:g.maxAge,ONE_BOX_TYPEAHEAD_TRUNCATION:21,ONE_BOX_DEBOUNCE_MS:120,MAX_TEXT_LENGTH:52,MAX_SUGGESTED_KEYWORDS_OFFSET:45,SUGGESTED_KEYWORDS_PER_FETCH:15,DEFAULT_IMAGE_URL_SUFFIX:'/images/devsite/attachment_blank.png',SEE_ALL:'see_all',GO_BACK:'go_back'};e.exports=h;});
__d("AdsCreateFlowQueryLimits",[],function(a,b,c,d,e,f){e.exports={AD_DEST_QUERY_LIMIT:9,AD_KEYWORD_SUGGESTION_QUERY_LIMIT:15,AD_COUNTRY_QUERY_LIMIT:500,TYPEAHEAD_LIMIT:12};});
__d("AdsCFConnectConfig",["AdsCFConnectConfigInternal","invariant"],function(a,b,c,d,e,f,g,h){e.exports=g;});
__d("whitelistObjectKeys",[],function(a,b,c,d,e,f){function g(h,i){var j={},k=Array.isArray(i)?i:Object.keys(i);for(var l=0;l<k.length;l++)if(typeof h[k[l]]!=='undefined')j[k[l]]=h[k[l]];return j;}e.exports=g;});
__d("AdsCFUIObjectives",["adsGKCheck","whitelistObjectKeys","ads-objectives"],function(a,b,c,d,e,f,g,h){'use strict';var i=b('ads-objectives').KPIObjectives,j=[i.POST_ENGAGEMENT,i.PAGE_LIKES,i.WEBSITE_CLICKS,i.WEBSITE_CONVERSIONS,i.APP_INSTALLS,i.APP_ENGAGEMENT,i.EVENT_RESPONSES,i.OFFER_CLAIMS];if(g('neko_media_ads_cf'))j.push(i.APP_STORE_MEDIA_VISITS);if(g('ads_cf_instore_localreach'))j.push(i.LOCAL_AWARENESS);var k=h(i,j);e.exports=k;});
__d("adsDaoUtils",["bolt/core","bolt/util","invariant"],function(a,b,c,d,e,f,g,h,i){f.primeDao=function(k,l,m){var n=h.extend({},k);for(var o in m){if(!k.hasOwnProperty(o))continue;n[o]=j(k[o],l);}return n;};function j(k,l){i(k.klass);var m=f.createDataCommand(k.klass,l,k.dataCommandId);if(k.commandName)m.commandName=k.commandName;return m;}f.createDataCommand=function(k,l,m){i(!k.klass);var n=h.extend({extend:k},l,{dataCommandId:m||h.generateCID()}),o=['requiredParameters','constantParameters','optionalParameters'];o.forEach(function(p){var q=k.prototype[p]||{},r=l[p]||{};i(typeof q=='object');i(typeof r=='object');n[p]=h.extend({},q,r);});return new (g.createClass(n))();};f.transformIdToString=function(k){if(typeof k.id==='number')k.id=''+k.id;};});
__d("adsDaoGraphPrimed",["adsDaoUtils"],function(a,b,c,d,e,f,g){f.forAccount=function(h){var i={constantParameters:{accountId:h}};this.fetch=g.primeDao(this.fetch,i,{adgroupsForAccount:true,connectionObjectsForAccount:true,audiencesForAccount:true,adsPixelsForAccount:true,imagesForAccount:true,videosForAccount:true,campaignsForAccount:true,customAudiencesForAccountWithPaging:true,customAudiencesForAccount:true,partnersForAccount:true,estimatesForAccount:true,targetingSentencesForAccount:true,accountInfo:true,customCluster:true,bctDataForAccount:true,partnerCategoriesForAccount:true,customaudiencestosForAccount:true,campaignGroupsForAccount:true,reportStatsForAccount:true,reportSpecsForAccount:true,asyncReportById:true,reportAsyncRunsForAccount:true,reportsScheduledForAccount:true,pixelsForAccount:true,pagesForUser:true,appsForUser:true,contactsLists:true,seedEstimateForAccount:true});this.add=g.primeDao(this.add,i,{audiencesImport:true,acceptCustomAudiencesTos:true,createCampaign:true,createNewSavedTargetSpec:true,imageForAccount:true,updateAccount:true,createCustomAudience:true,createWebRemarketingCustomAudience:true,createAdsPixel:true,createMobileAppRemarketingCustomAudience:true,createMobileAppCombinationCustomAudience:true,reportSpecs:true,scheduleReport:true});this.mutate=g.primeDao(this.mutate,i,{customAudience:true,reportSpecs:true,savedTargetSpec:true,updateAccount:true,reportStatsForAccountAsync:true,updateAsyncReport:true});return this;};f.forBrand=function(h){var i={constantParameters:{brandID:h}};this.fetch=g.primeDao(this.fetch,i,{appsForBrand:true,brandInfo:true,pagesForBrand:true,adaccountsForBrand:true,productFeedsForBrand:true,agenciesForBrand:true,clientsForBrand:true,fundingSourcesForBrand:true,labelsForBrand:true,userPermissionsForAccount:true,userPermissionsForPage:true,userPermissionsForBrand:true,businessSettingLogForObject:true,userPermissionsForApp:true});this.add=g.primeDao(this.add,i,{addPagesToBrand:true,addAccountsToBrand:true,acceptAgencyAdAccountPermRequest:true,acceptAgencyPagePermRequest:true,createAdAccount:true,createLabelForBrand:true,createSystemUserForBrand:true,updateBrand:true,updateBrandUserPermission:true});this.remove=g.primeDao(this.remove,i,{removeAppPermission:true,removePagePermission:true,pagesForBrand:true,accountsForBrand:true,systemUsersForBrand:true,removeAgency:true,removeClient:true,removeAgencyPagePermission:true,removeAgencyAdAccountPermission:true});this.mutate=g.primeDao(this.mutate,i,{brandPersona:true});return this;};f.forBrandDashboard=function(){this.fetch=g.primeDao(this.fetch,{},{brandForUsers:true});return this;};f.forLocale=function(h){var i={constantParameters:{locale:h}};this.fetch=g.primeDao(this.fetch,i,{adKeywordSuggestion:true,adgroupForCF:true,adsDestinationInfo:true,bctDataForAccount:true,adTargetingCategory:true,partnerCategoriesForAccount:true,countries:true,estimatesForAccount:true,estimatesForAdgroup:true,geolocation:true,languages:true,targetingSentencesForAccount:true});return this;};});
__d("AdsDaoEvents",["Arbiter"],function(a,b,c,d,e,f,g){'use strict';f.Arbiter=new g();f.ArbiterEvents={ERROR:'ads_dao_arbiter_error_event'};});
__d("AdsDaoResult",[],function(a,b,c,d,e,f){var g={SUCCESS:1,NO_RESULT_RETURNED:2,RESULT_HAS_ERROR:3};e.exports=g;});
__d("adsDaoCaching",["Assert","bolt/core","bolt/util","AdsUtils","emptyFunction"],function(a,b,c,d,e,f,g,h,i,j,k){function l(m){var n=Object.keys(m).sort(),o={};for(var p=0;p<n.length;++p){var q=n[p];o[q]=typeof m[q]==='number'?''+m[q]:m[q];}return JSON.stringify(o);}f.BaseCacheMechanism=h.createClass({isCached:k.thatReturnsFalse,getCache:k.thatReturnsNull,setCache:k.thatReturnsNull,invalidateCache:k.thatReturnsNull,clear:k.thatReturnsNull});f.InMemoryCacheMechanism=h.createClass({extend:f.BaseCacheMechanism,construct:function(){this._cache={};},isCached:function(m,n){return !!this.getCache(m,n);},getCache:function(m,n){var o=this._getBucket(m),p=this._computeSlotKey(m,n);return o.hasOwnProperty(p)&&o[p];},setCache:function(m,n,o){var p=this._getBucket(m);p[this._computeSlotKey(m,n)]=o;},invalidateCache:function(m,n){m.conflictDataCommands.forEach(function(o){delete this._cache[this._computeBucketKey(o)];},this);},clear:function(m){delete this._cache[m.dataCommandId];},_getBucket:function(m,n){var o=this._computeBucketKey(m);if(!this._cache[o])this._cache[o]={};g.isTruthy(this._cache[o],'Cache bucket is null even after initialization');return this._cache[o];},_computeBucketKey:function(m){return m.dataCommandId;},_computeSlotKey:function(m,n){var o=this._computeSlotKeyParameters(m,n);return l(o);},_computeSlotKeyParameters:function(m,n){var o=i.extend({},m.requiredParameters,m.optionalParameters);return j.mapIntersectKey(n,o);}});});
__d("AdsDaoDataPlan",["emptyFunction","invariant"],function(a,b,c,d,e,f,g,h){var i={fetch:true,thenFetch:true};function j(m,n){var o=n;for(var p=0;p<m.length;++p){var q=m[p];if(o&&o[q]){o=o[q];}else return undefined;}return o;}function k(m,n,o){var p,q;for(var r=0;r<m.length;++r){q=m[r];if(!n[q])n[q]={};p=n;n=n[q];}if(p&&q)p[q]=o;}var l=f.DataPlan={create:function(m){for(var n in m)h(l.isValidPlan(m[n]));return m;},execute:function(m,n,o){var p={},q={};l.executeCompoundPlan(m,[],q,function(r){n(r,p);},function(r){o&&o(r);},p);},executeCompoundPlan:function(m,n,o,p,q,r){var s=Object.keys(m).length;if(s===0)p(o);var t=function(w,x){if(r&&r[w]){var y=r[w];y.latency=Date.now()-y.startTime;if(x)y.subplans=x;}if(--s===0)p(o);},u=function(w){q&&q(w);};for(var v in m){if(r)r[v]={startTime:Date.now()};l.executeSubPlan(v,m[v],n.concat(v),o,t,u);}},executeSubPlan:function(m,n,o,p,q,r){if(l.isTerminalPlan(n)){l.executeTerminalPlan(n,o,p,function(t){l.set(o,t)(p);q(m);},function(t){r&&r(t);});}else{if(!l.evaluateCondition(n,p)){q(m);return;}var s={};l.executeCompoundPlan(n.fetch,o,p,function(){if(n.thenFetch){l.executeCompoundPlan(n.thenFetch,o,p,function(){q(m,s);},function(t){r&&r(t);},s);}else q(m,s);},function(t){r&&r(t);},s);}},executeTerminalPlan:function(m,n,o,p,q){if(!l.evaluateCondition(m,o)){p(undefined);return;}var r=l.evaluateParameters(m,o),s,t=function(u,v){q&&q({plan:m,path:n,partialResult:o,error:u,rawData:v});};if(m.blocking===false){s=g;p(undefined);}else s=function(u){var v=m.thenDo||g.thatReturnsArgument;p(v(u));};l.evaluateCommand(m,r,s,t);},isValidPlan:function(m){if(l.isTerminalPlan(m))return true;for(var n in i)if(m[n]&&!l.isValidPlan(m[n]))return false;return true;},isTerminalPlan:function(m){return m.command&&!m.fetch;},evaluateCondition:function(m,n){if(!m.hasOwnProperty('when'))return true;var o=m.when;if(typeof o==='function')return o(n);return o;},evaluateParameters:function(m,n){var o=m.parameters;if(!o)return {};var p={};for(var q in o){var r=o[q];p[q]=(typeof r==='function'?r(n):r);}return p;},evaluateCommand:function(m,n,o,p){var q=m.command;if(!q){o(undefined);return;}if(p)n.handleError=p;if(typeof q==='function'){q(o,n);}else if(m.multi){q.multi(o,n);}else q.one(o,n);},futureIndexOf:function(m,n){return function(o){var p=m(o);return p&&p[n];};},get:function(m){return function(n){return j(m.split('.'),n);};},set:function(m,n){return function(o){return k(m,o,n);};},not:function(m){if(typeof m==='function')return function(n){return !m(n);};return !m;}};});
__d("ES6Promise",["requestAnimationFrame"],function(a,b,c,d,e,f){e.exports=(function(g,h){'use strict';if(g.Promise)return g.Promise;var i=b('requestAnimationFrame'),j='pending',k='fulfilled',l='rejected',m='__slots$'+Math.random().toString(36).slice(2);function n(aa){var ba=aa[m];if(!ba){aa[m]=ba={};if(Object.defineProperty)try{Object.defineProperty(aa,m,{value:ba});}catch(ca){}}return ba;}var o=[];function p(aa){o.push(aa);r();}var q;function r(){if(!q){q=true;i(function(){q=false;var aa=o;o=[];aa.forEach(s);});}}function s(aa){aa();}function t(aa){return aa;}function u(aa){throw aa;}function v(aa){var ba=n(this);ba.state=j;ba.fulfillReactions=[];ba.rejectReactions=[];var ca=w(this),da=ca.reject;try{aa(ca.resolve,da);}catch(ea){da(ea);}}function w(aa){var ba=false;return {resolve:function(ca){if(!ba){ba=true;if(ca===aa)return x(aa,l,new TypeError('Cannot resolve promise with itself'));if(!ca||typeof ca!=="object"||typeof ca.then!=="function")return x(aa,k,ca);var da=w(aa),ea=da.reject;try{ca.then(da.resolve,ea);}catch(fa){ea(fa);}}},reject:function(ca){if(!ba){ba=true;x(aa,l,ca);}}};}function x(aa,ba,ca){var da=n(aa);if(da.state!==j)throw new Error('Settling a '+da.state+' promise');var ea;if(ba===k){ea=da.fulfillReactions;}else if(ba===l)ea=da.rejectReactions;da.result=ca;da.fulfillReactions=h;da.rejectReactions=h;da.state=ba;var fa=ea.length;fa&&p(function(){for(var ga=0;ga<fa;++ga)ea[ga](da.result);});}v.all=function(aa){var ba=this;return new ba(function(ca,da){var ea=[],fa=0;aa.forEach(function(ga,ha){++fa;ba.resolve(ga).then(function(ia){if(!ea.hasOwnProperty(ha)){ea[ha]=ia;--fa||ca(ea);}},da);});fa||ca(ea);});};v.race=function(aa){var ba=this;return new ba(function(ca,da){aa.forEach(function(ea){ba.resolve(ea).then(ca,da);});});};v.resolve=function(aa){return aa instanceof v&&aa.constructor===this?aa:new this(function(ba){ba(aa);});};v.reject=function(aa){return new this(function(ba,ca){ca(aa);});};var y=v.prototype;y.then=function(aa,ba){var ca,da,ea=new this.constructor(function(ha,ia){ca=ha;da=ia;});if(typeof ca!=="function")throw new TypeError('Uncallable Promise resolve function');if(typeof da!=="function")throw new TypeError('Uncallable Promise reject function');if(aa===h||aa===null)aa=t;if(ba===h||ba===null)ba=u;var fa=n(this),ga=fa.state;if(ga===j){fa.fulfillReactions.push(z(ca,da,aa));fa.rejectReactions.push(z(ca,da,ba));}else if(ga===k||ga===l)p(z(ca,da,ga===k?aa:ba,fa.result));return ea;};function z(aa,ba,ca,da){var ea=arguments.length>3;return function(fa){try{fa=ca(ea?da:fa);}catch(ga){ba(ga);return;}aa(fa);};}y['catch']=function(aa){return this.then(h,aa);};y.toString=function(){return '[object Promise]';};return v;}(Function('return this')()));});
__d("Promise",["ES6Promise","requestAnimationFrame","invariant"],function(a,b,c,d,e,f,g,h,i){var j=g.prototype;j['finally']=function(k){return this.then(k,k);};j.done=function(k,l){return this.then(k,l).then(null,function(m){h(function(){throw m;});});};g.allObject=function(k){i(!Array.isArray(k));var l=Object.keys(k);return g.all(l.map(function(m){return k[m];})).then(function(m){var n={};m.forEach(function(o,p){n[l[p]]=o;});return n;});};e.exports=g;});
__d("AdsDao",["AdsDaoResult","Arbiter","adsDaoCaching","Promise","emptyFunction","invariant","merge","bolt/core","bolt/util","AdsDaoEvents","AdsDaoDataPlan"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=b('AdsDaoEvents').Arbiter,q=b('AdsDaoEvents').ArbiterEvents,r=b('AdsDaoDataPlan').DataPlan,s=function(v,w,x){var y={parameters:v,rawData:w};if(x)y.commandName=x;p.inform(q.ERROR,y,h.BEHAVIOR_EVENT);},t=f.TransformParameterValue=n.createClass({construct:function(v){this._transformFunc=v||k.thatReturnsNull;},transformParameterValue:function(v){return this._transformFunc(v);}}),u=n.createClass({construct:function(){this._requests=[];},addRequest:function(v){this._requests.push(v);},fireCallbacks:function(v){for(var w=0;w<this._requests.length;++w)this._requests[w].callback(v);this._requests=[];}});f.DataCommand=n.createClass({constantParameters:{},requiredParameters:{},optionalParameters:{handleError:true},cacheMechanism:new i.BaseCacheMechanism(),handleError:function(){l(false);},execute:k.thatReturnsNull,one:function(v,w){this.execute(v,this._computeActualParameters(w));},promiseOne:function(v){return new j(function(w,x){function y(z,aa,ba){x({result:z,rawData:aa,actualParameters:ba});}this.one(w,m(v,{handleError:y}));}.bind(this));},multi:function(v,w){var x=w.requests,y=x.length;if(y===0)v&&v();var z=function(){if(--y===0)v&&v();};x.forEach(function(aa){var ba=function(ca){aa.callback&&aa.callback(ca);z();};this.one(ba,aa.parameters);},this);},clearCache:function(){this.cacheMechanism.clear(this);},isCached:function(v){return this.cacheMechanism.isCached(this,v);},getCache:function(v){return this.cacheMechanism.getCache(this,v);},setCache:function(v,w){this.cacheMechanism.setCache(this,v,w);},invalidateCache:function(v){var w=this.getCache(v);if(!(w instanceof u))this.cacheMechanism.invalidateCache(this,v);},_computeActualParameters:function(v){v=v||{};var w=o.extend({},this.constantParameters,v);this._verifyParameters(w);this._transformParameters(w);return w;},_verifyParameters:function(v){for(var w in this.requiredParameters)l(v[w]!=null);},_transformParameters:function(v){for(var w in v){var x=v[w];if(x instanceof t)v[w]=x.transformParameterValue(v);}}});f.DataProvider=n.createClass({extend:f.DataCommand,provideData:k.thatReturnsNull,validateData:k.thatReturns(g.SUCCESS),processData:k.thatReturnsArgument,execute:function(v,w){var x=function(y){var z=this.validateData(y);this.setCache(w,y);if(z===g.SUCCESS){v&&v(this.processData(y),y);}else{s(w,y,this.commandName);var aa=w.handleError||this.handleError;aa.call(this,z,y,w);}}.bind(this);if(this.isCached(w)){this._onCacheHit(w,x);}else this._onCacheMiss(w,x);},_onCacheHit:function(v,w){var x=this.getCache(v);if(x instanceof u){x.addRequest({callback:w});}else o.defer(w,x);},_onCacheMiss:function(v,w){var x=new u();x.addRequest({callback:w});this.setCache(v,x);this.provideData(v,function(y){x.fireCallbacks(y);});}});f.DataDownloadProvider=n.createClass({extend:f.DataCommand,downloadData:k.thatReturnsNull,execute:function(v,w){var x=function(y){var z=y;if(z){v&&v(z);}else{s(w,y,this.commandName);var aa=w.handleError||this.handleError;aa.call(this,z,y);}}.bind(this);this.downloadData(w,x);}});f.DataMutator=n.createClass({extend:f.DataCommand,mutateData:k.thatReturnsNull,validateData:k.thatReturns(g.SUCCESS),conflictDataCommands:[],execute:function(v,w){var x=function(y){var z=this.validateData(y);if(z===g.SUCCESS){this.invalidateCache(w);v&&v(y);}else{s(w,y,this.commandName);var aa=w.handleError||this.handleError;aa.call(this,z,y);}}.bind(this);this.mutateData(w,x);}});f.DataPlan=r;});
__d("AdsDaoGraphSpec",["AdsDaoResult","adsDaoCaching"],function(a,b,c,d,e,f,g,h){var i={requiredParameters:{endpoint:true},optionalParameters:{limit:true},validateData:function(j){if(!j){return g.NO_RESULT_RETURNED;}else if(j.error)return g.RESULT_HAS_ERROR;return g.SUCCESS;},handleError:function(j,k,l){},cacheMechanism:new h.InMemoryCacheMechanism()};e.exports=i;});
__d("adsDaoGraphDataMutator",["bolt/core","AdsDao","AdsDaoGraphSpec","merge","ads-lib-connect"],function(a,b,c,d,e,f,g,h,i,j){var k=b('ads-lib-connect').FB,l=g.createClass(j(i,{extend:h.DataMutator,mutateData:function(n,o){k.api(n.endpoint,'POST',n,o);}})),m=g.createClass(j(i,{extend:h.DataMutator,mutateData:function(n,o){k.api(n.endpoint,'DELETE',n,o);}}));f.GraphDataMutator=l;f.GraphDataRemover=m;});
__d("AdsDaoGraphBatcher",["AdsDaoGKCheck","AdsFBBatch","ads-lib-connect"],function(a,b,c,d,e,f,g,h){var i=b('ads-lib-connect').FB,j=null;function k(){j.run();j=null;}function l(n,o,p){if(!j){j=new h();setTimeout(k,0);}j.add(n,o.endpoint,o,function(q,r){p(q);r();});}var m={get:function(n,o){if(g.shouldAutoBatch){l('GET',n,o);}else i.api(n.endpoint,n,o);}};e.exports=m;});
__d("AdsDaoGraphDataProvider",["bolt/core","AdsDao","AdsDaoGraphBatcher","AdsDaoGraphSpec","merge"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass(k(j,{extend:h.DataProvider,provideData:function(m,n){i.get(m,n);},processData:function(m){return m.data||m;},accumulate:function(m,n){var o=[],p=function(q,r){o=o.concat(q);if(r){r(p);}else m(o);};this.paged(p,n);},paged:function(m,n){var o=this;function p(q){return function(r,s){var t=s.paging&&s.paging.next;function u(v){o.execute(p(v),{endpoint:t});}q(r,t?u:null);};}this.one(p(m),n);}}));e.exports=l;});
__d("adsDaoGraphFetch",["AdsAPISpec","AdsCreateFlowQueryLimits","AdsDao","AdsDestinationTypes","AdsUtils","BizSiteIdentifier.brands","adsDaoUtils","bolt/util","AdsDaoGraphDataProvider","adsDaoCaching","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=i.TransformParameterValue,s=g.ACCOUNT_FIELDS,t=g.BRAND_FIELDS.map(k.underscoreKey),u=g.USER_APP_FIELDS.map(k.underscoreKey),v=g.BRAND_APP_FIELDS.map(k.underscoreKey),w=g.BRAND_PAGE_FIELDS.map(k.underscoreKey),x=g.PAGE_POST_FIELDS.map(k.underscoreKey),y=g.CAMPAIGN_FIELDS.map(k.underscoreKey),z=g.ACTIVITY_LOG_FIELDS.map(k.underscoreKey),aa={anyIDs:m.createDataCommand(o,{requiredParameters:{ids:true},optionalParameters:{metadata:true,fields:true},constantParameters:{endpoint:'/'}}),picture:m.createDataCommand(o,{requiredParameters:{fbid:true},constantParameters:{endpoint:new r(function(da){return '/'+da.fbid+'/picture';})}}),creativesForAdgroupId:m.createDataCommand(o,{requiredParameters:{adgroupId:true,fields:true},constantParameters:{endpoint:new r(function(da){return '/'+da.adgroupId+'/adcreatives';})}}),adgroupsForCampaignGroup:m.createDataCommand(o,{requiredParameters:{campaignGroupID:true},optionalParameters:{offset:true,limit:true,include_deleted:true,after:true,filtering:true,sort:true,time_range:true,date_preset:true},constantParameters:{endpoint:new r(function(da){return '/'+da.campaignGroupID+'/adgroups';})}}),adgroupsForCampaign:m.createDataCommand(o,{requiredParameters:{campaignID:true},optionalParameters:{offset:true,limit:true,include_deleted:true,after:true,filtering:true,sort:true,time_range:true,date_preset:true},constantParameters:{endpoint:new r(function(da){return '/'+da.campaignID+'/adgroups';})}}),adgroupsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{offset:true,limit:true,adgroup_ids:true,include_deleted:true,after:true,filtering:true,sort:true,time_range:true,date_preset:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/adgroups';})}}),validateAdgroup:m.createDataCommand(o,{requiredParameters:{account_id:true,adgroup_specs:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.account_id+'/adgroupvalidation';})}}),audiencesForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/audiences';})}}),adsPixelsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/adspixels';}),fields:['id','code','last_fired_time']}}),pixelInsights:m.createDataCommand(o,{requiredParameters:{pixelId:true},optionalParameters:{since:true,fields:true},constantParameters:{endpoint:new r(function(da){return '/'+da.pixelId+'/pixel_insights';})}}),ruleValidation:m.createDataCommand(o,{requiredParameters:{pixelId:true,rule:true},optionalParameters:{params:true},constantParameters:{endpoint:new r(function(da){return '/'+da.pixelId+'/rulevalidation';})}}),audienceStatuses:m.createDataCommand(o,{requiredParameters:{audienceID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.audienceID+'/statuses';})}}),audienceUsageHistory:m.createDataCommand(o,{requiredParameters:{audienceID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.audienceID+'/usage_history';}),fields:['time','action','extra_data']}}),contactsLists:m.createDataCommand(o,{requiredParameters:{accountId:true,third_party_data:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/emailimport';})}}),connectionObjectsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/connectionobjects';}),business_id:(l.getBusinessID()||null),non_business_only:(l.getBusinessID()?null:true)},optionalParameters:{business_id:true,non_business_only:true,offset:true,limit:true},processData:function(da){var ea=da.data.filter(function(fa){return fa.type!==j.DOMAIN;});return q({},da,{data:ea});}}),adConnectedApp:m.createDataCommand(o,{optionalParameters:{act:true,q:true},constantParameters:{endpoint:'/search',type:'adconnectedapp'}}),userInfo:m.createDataCommand(o,{constantParameters:{endpoint:'/me'}}),customaudiencestosForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/customaudiencestos';})}}),customAudiencesForAccountWithPaging:m.createDataCommand(o,{requiredParameters:{accountId:true,limit:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/customaudiences';})},optionalParameters:{before:true,after:true},processData:function(da){return da;}}),customAudiencesForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/customaudiences';}),fields:['id']}}),audience:m.createDataCommand(o,{requiredParameters:{audienceID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.audienceID;})}}),adGroupsForCustomaudiences:m.createDataCommand(o,{requiredParameters:{audienceId:true},constantParameters:{endpoint:new r(function(da){return da.audienceId+'/adgroups?adgroup_status=[\'ACTIVE\']&fields=id,name';})}}),partnersForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/partners';})}}),accountsForAudience:m.createDataCommand(o,{requiredParameters:{audienceId:true},constantParameters:{endpoint:new r(function(da){return da.audienceId+'/adaccounts';})}}),capabilitiesForAudience:m.createDataCommand(o,{requiredParameters:{audienceId:true},constantParameters:{endpoint:new r(function(da){return da.audienceId+'/capabilities';})}}),pagesForBrand:m.createDataCommand(o,{requiredParameters:{brandID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID+'/pages';}),fields:w}}),appsForBrand:m.createDataCommand(o,{requiredParameters:{brandID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID+'/apps';}),fields:v}}),adaccountsForBrand:m.createDataCommand(o,{requiredParameters:{brandID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID+'/adaccounts';})}}),productFeedsForBrand:m.createDataCommand(o,{requiredParameters:{brandID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID+'/product_feeds';})}}),agenciesForBrand:m.createDataCommand(o,{requiredParameters:{brandID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID+'/agencies';})}}),clientsForBrand:m.createDataCommand(o,{requiredParameters:{brandID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID+'/clients';})}}),labelsForBrand:m.createDataCommand(o,{requiredParameters:{brandID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID+'/businesslabels';}),date_format:'U'}}),labelsForAsset:m.createDataCommand(o,{requiredParameters:{assetID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.assetID+'/businesslabels';}),date_format:'U'}}),fundingSourcesForBrand:m.createDataCommand(o,{requiredParameters:{brandID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID+'/creditcards';})}}),userPermissionsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{business:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/userpermissions';})}}),userPermissionsForPage:m.createDataCommand(o,{requiredParameters:{pageId:true},optionalParameters:{business:true},constantParameters:{endpoint:new r(function(da){return '/'+da.pageId+'/userpermissions';})}}),userPermissionsForApp:m.createDataCommand(o,{requiredParameters:{appId:true},optionalParameters:{business:true},constantParameters:{endpoint:new r(function(da){return '/'+da.appId+'/userpermissions';})}}),userPermissionsForProductFeed:m.createDataCommand(o,{requiredParameters:{productFeedId:true},optionalParameters:{business:true},constantParameters:{endpoint:new r(function(da){return '/'+da.productFeedId+'/userpermissions';})}}),rolesForAccount:m.createDataCommand(o,{constantParameters:{endpoint:new r(function(da){return '/adaccountroles';})},processData:function(da){return da.roles;}}),userPermissionsForBrand:m.createDataCommand(o,{requiredParameters:{brandID:true},optionalParameters:{user:true,fields:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID+'/userpermissions';})},processData:function(da){return da.data;}}),pagesForUser:m.createDataCommand(o,{optionalParameters:{fields:true},constantParameters:{endpoint:'/me/accounts',type:'page',limit:100,fields:g.USER_PAGE_FIELDS}}),accountsForUser:m.createDataCommand(o,{optionalParameters:{fields:true},constantParameters:{endpoint:'/me/adaccounts',fields:s}}),brandsForUser:m.createDataCommand(o,{optionalParameters:{fields:true},constantParameters:{endpoint:'/me/brands',fields:t}}),businessSettingLogForObject:m.createDataCommand(o,{requiredParameters:{objectId:true},optionalParameters:{business:true,since:true,until:true,limit:true,after:true},constantParameters:{endpoint:new r(function(da){return '/'+da.objectId+'/businesssettinglogs';}),date_format:'U'},processData:function(da){return da.data;}}),objectProfiles:m.createDataCommand(o,{requiredParameters:{ids:true},optionalParameters:{fields:true},constantParameters:{endpoint:new r(function(da){return '/';})}}),pagePostDetails:m.createDataCommand(o,{requiredParameters:{pageId:true,storyId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new r(function(da){return '/'+da.pageId+"_"+da.storyId;}),fields:x}}),objectSearch:m.createDataCommand(o,{requiredParameters:{type:true,q:true},constantParameters:{endpoint:'/search',limit:h.AD_DEST_QUERY_LIMIT},optionalParameters:{fields:true}}),adsDestinationInfo:m.createDataCommand(o,{requiredParameters:{type:true,locale:true},constantParameters:{endpoint:'/search',type:'addestination',limit:h.AD_DEST_QUERY_LIMIT},optionalParameters:{account_id:true,object_id:true,object_url:true,q:true,forceMobileStore:true}}),adsCollege:m.createDataCommand(o,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adcollege'}}),adsCollegeMajor:m.createDataCommand(o,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adcollegemajor'}}),adsEducationSchools:m.createDataCommand(o,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adeducationschool'}}),adsEducationMajors:m.createDataCommand(o,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adeducationmajor'}}),adsWorkEmployers:m.createDataCommand(o,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adworkemployer'}}),adsWorkplace:m.createDataCommand(o,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adworkplace'}}),adsWorkPosition:m.createDataCommand(o,{requiredParameters:{q:true,locale:true},constantParameters:{endpoint:'/search',type:'adworkposition'}}),pagePromotablePostsForConnectionObject:m.createDataCommand(o,{requiredParameters:{objectId:true},optionalParameters:{is_published:true,until:true},constantParameters:{endpoint:new r(function(da){return '/'+da.objectId+'/promotable_posts';})}}),accessTokenForPage:m.createDataCommand(o,{requiredParameters:{pageId:true},constantParameters:{endpoint:new r(function(da){return '/'+da.pageId+'/';}),fields:'access_token'}}),imagesForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/adimages';})},optionalParameters:{hashes:true}}),videosForAccount:m.createDataCommand(o,{constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/advideos';})},optionalParameters:{fields:true}}),campaignsForCampaignGroup:m.createDataCommand(o,{requiredParameters:{campaignGroupID:true},optionalParameters:{include_completed:true,include_deleted:true,fields:true,limit:true,offset:true,after:true,filtering:true,sort:true,time_range:true,date_preset:true},constantParameters:{endpoint:new r(function(da){return '/'+da.campaignGroupID+'/adcampaigns';}),fields:y},processData:function(da){var ea={};da.data.forEach(function(fa){fa.campaign_id=fa.id;ea[fa.id]=fa;});return ea;}}),campaignsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{campaign_ids:true,include_completed:true,include_deleted:true,fields:true,limit:true,offset:true,after:true,filtering:true,sort:true,time_range:true,date_preset:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/adcampaigns';}),fields:y},processData:function(da){var ea={};da.data.forEach(function(fa){fa.campaign_id=fa.id;ea[fa.id]=fa;});return ea;}}),campaignGroupsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{fields:true,limit:true,after:true,filtering:true,sort:true,time_range:true,date_preset:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/adcampaign_groups';})}}),stockImages:m.createDataCommand(o,{requiredParameters:{q:true},optionalParameters:{limit:true,offset:true},constantParameters:{endpoint:'/search',type:'adstockimage'}}),detailsForStockImage:m.createDataCommand(o,{requiredParameters:{image_id:true},constantParameters:{endpoint:new r(function(da){return '/'+da.image_id;})}}),userProfiles:m.createDataCommand(o,{requiredParameters:{ids:true},optionalParameters:{fields:true},constantParameters:{endpoint:new r(function(da){return '/';})},processData:function(da){return da;}}),asyncReportById:m.createDataCommand(o,{requiredParameters:{reportRunId:true},cacheMechanism:new p.BaseCacheMechanism(),constantParameters:{endpoint:new r(function(da){var ea=da.reportRunId;delete da.reportRunId;return '/'+ea;}),cacheBust:new r(function(){return Date.now()+'_'+Math.random();})}}),reportSpecsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/adreportspecs';})},processData:function(da){var ea=n.values(da.data);ea.forEach(m.transformIdToString);return ea;}}),reportStatsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true,data_columns:true},optionalParameters:{time_increment:true,date_preset:true,time_interval:true,sort_by:true,sort_dir:true,offset:true,limit:true,actions_group_by:true,filters:true,asyncRunId:true,user_report:true,include_summary:true},constantParameters:{endpoint:new r(function(da){var ea=da.asyncRunId;delete da.asyncRunId;var fa='/act_'+da.accountId+'/reportstats';if(ea)fa+='/'+ea;return fa;})},processData:function(da){var ea=da.data;if(!ea)return [];var fa=(da.paging&&da.paging.next&&ea.length===parseInt(da.limit,10))?parseInt(da.offset,10)+ea.length:-1;return {data:ea,summary:da.summary,nextOffset:fa};}}),reportStatsMetadataForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true,data_columns:true},optionalParameters:{time_increment:true,date_preset:true,time_interval:true,sort_by:true,sort_dir:true,offset:true,limit:true,actions_group_by:true,filters:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/reportstatsmetadata';})}}),reportAsyncRunsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{limit:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/adreportruns';})}}),reportAsyncRunsForSchedule:m.createDataCommand(o,{requiredParameters:{scheduledReportId:true},constantParameters:{endpoint:new r(function(da){var ea=da.scheduledReportId;delete da.scheduledReportId;return '/'+ea+'/adreportruns';})}}),reportsScheduledForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},cacheMechanism:new p.BaseCacheMechanism(),constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/adreportschedules';}),cacheBust:new r(function(){return Date.now()+'_'+Math.random();})}}),estimatesForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true,targeting_spec:true},optionalParameters:{locale:true,currency:true,bid_for:true,creative_action_spec:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/reachestimate';})}}),estimatesForAdgroup:m.createDataCommand(o,{requiredParameters:{adgroupId:true,targeting_spec:true,locale:true},optionalParameters:{bid_for:true,creative_action_spec:true},constantParameters:{endpoint:new r(function(da){return '/'+da.adgroupId+'/reachestimate';})}}),targetingSentencesForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true,targeting_spec:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/targetingsentencelines';})}}),accountStats:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{end_time:true,fields:true,start_time:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/stats';})}}),accountInfo:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId;}),fields:s}}),appInfo:m.createDataCommand(o,{requiredParameters:{appId:true},optionalParameters:{fields:true},constantParameters:{endpoint:new r(function(da){return '/'+da.appId;}),fields:u}}),brandInfo:m.createDataCommand(o,{requiredParameters:{brandID:true},constantParameters:{endpoint:new r(function(da){return '/'+da.brandID;}),fields:t,date_format:'U'}}),bctDataForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{remove_interest_categories:true,custom_categories_only:true,broad_categories_only:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/broadtargetingcategories';})}}),partnerCategoriesForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{locale:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/partnercategories';}),limit:2000}}),adGeoLocationMetaInfo:m.createDataCommand(o,{requiredParameters:{locale:true},optionalParameters:{countries:true,regions:true,cities:true,zips:true},constantParameters:{endpoint:'/search',type:'adgeolocationmeta'}}),adCountryValidation:m.createDataCommand(o,{requiredParameters:{q:true},optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adgeolocation',location_types:['country']}}),adRegionValidation:m.createDataCommand(o,{requiredParameters:{q:true},optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adgeolocation',location_types:['region']}}),adCityValidation:m.createDataCommand(o,{requiredParameters:{q:true},optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adgeolocation',location_types:['city']}}),adZipValidation:m.createDataCommand(o,{requiredParameters:{q:true},optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adgeolocation',location_types:['zip']}}),adKeyword:m.createDataCommand(o,{requiredParameters:{q:true},constantParameters:{endpoint:'/search',type:'adKeyword'}}),adKeywordValid:m.createDataCommand(o,{requiredParameters:{keyword_list:true},constantParameters:{endpoint:'/search',type:'adkeywordvalid'}}),adKeywordSuggestion:m.createDataCommand(o,{requiredParameters:{locale:true,keyword_list:true,offset:true},constantParameters:{endpoint:'/search',type:'adkeywordsuggestion',limit:h.AD_KEYWORD_SUGGESTION_QUERY_LIMIT}}),adInterest:m.createDataCommand(o,{requiredParameters:{q:true},optionalParameters:{whitelisted_only:true},constantParameters:{endpoint:'/search',type:'adInterest'}}),adInterestValid:m.createDataCommand(o,{optionalParameters:{interest_list:true,interest_fbid_list:true,ignore_case:true,locale:true},constantParameters:{endpoint:'/search',type:'adInterestValid'}}),adInterestSuggestion:m.createDataCommand(o,{requiredParameters:{interest_list:true},optionalParameters:{locale:true,offset:true},constantParameters:{endpoint:'/search',type:'adInterestSuggestion',limit:h.AD_KEYWORD_SUGGESTION_QUERY_LIMIT}}),adInterestCategory:m.createDataCommand(o,{optionalParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adInterestCategory'}}),adTargetingCategory:m.createDataCommand(o,{optionalParameters:{locale:true,'class':true},constantParameters:{endpoint:'/search',type:'adTargetingCategory'}}),languages:m.createDataCommand(o,{requiredParameters:{locale:true},optionalParameters:{q:true},constantParameters:{endpoint:'/search',type:'adlocale',limit:h.AD_COUNTRY_QUERY_LIMIT}}),countries:m.createDataCommand(o,{requiredParameters:{locale:true},constantParameters:{endpoint:'/search',type:'adcountry',limit:h.AD_COUNTRY_QUERY_LIMIT},processData:function(da){return k.indexedMap(da.data,'country_code','name');}}),geolocation:m.createDataCommand(o,{requiredParameters:{locale:true,q:true},optionalParameters:{country_code:true,region_id:true},constantParameters:{endpoint:'/search',type:'adgeolocation'}}),customAudiencesSearch:m.createDataCommand(o,{requiredParameters:{q:true,account_id:true},constantParameters:{endpoint:'/search',type:'customaudience'}}),objectByFBID:m.createDataCommand(o,{requiredParameters:{fbid:true},optionalParameters:{fields:true},constantParameters:{endpoint:new r(function(da){return '/'+da.fbid;})}}),adgroupForCF:m.createDataCommand(o,{requiredParameters:{adgroupId:true,locale:true},constantParameters:{endpoint:new r(function(da){return '/'+da.adgroupId;}),fields:new r(function(da){return g.getAdGroupFieldsForCF();})}}),adgroupForAudienceManager:m.createDataCommand(o,{requiredParameters:{adgroupId:true,locale:true},constantParameters:{endpoint:new r(function(da){return '/'+da.adgroupId;}),fields:['id','account_id','campaign_id','name']}}),validateAccountIDs:m.createDataCommand(o,{requiredParameters:{adaccounts:true},constantParameters:{endpoint:'/search',type:'adaccountvalid'}}),pixelsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/offsitepixels';}),limit:500},processData:function(da){return da.data;}}),geoPolygons:m.createDataCommand(o,{requiredParameters:{q:true,geo_type:true},constantParameters:{endpoint:'/search',type:'adgeopolygons'}}),logsForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true,locale:true},optionalParameters:{since:true,until:true,uid:true,oid:true,business_id:true,category:true,after:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/activities';}),date_format:'U',limit:200,fields:z},processData:function(da){return {data:da.data,after:da.paging?da.paging.cursors.after:null};}}),seedEstimateForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true,country_code:true},optionalParameters:{ad_ids:true,conversion_type:true,pixel_ids:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/conversionseedestimate';})}}),partnerRequestByID:m.createDataCommand(o,{requiredParameters:{request_id:true},constantParameters:{endpoint:new r(function(da){return '/'+da.request_id;})}}),usersNamedForAccount:m.createDataCommand(o,{requiredParameters:{accountId:true},constantParameters:{endpoint:new r(function(da){return '/act_'+da.accountId+'/usersnamed';})}}),adContentChecker:m.createDataCommand(o,{requiredParameters:{accountId:true},optionalParameters:{campaign_id:true,title_text:true,body_text:true,image_url:true,landing_page_url:true,json_encoded_target_specs:true},constantParameters:{locale:'user',endpoint:new r(function(da){return '/act_'+da.accountId+'/ad_content_checker';})}})};for(var ba in aa){var ca=aa[ba];if(ca)ca.commandName='fetch_'+ba;}f.fetch=aa;});
__d("adsDaoGraphMutate",["AdsDao","BizSiteIdentifier.brands","adsDaoUtils","adsDaoGraphDataMutator","adsDaoGraphFetch"],function(a,b,c,d,e,f,g,h,i,j){var k=g.TransformParameterValue,l=j.GraphDataMutator,m=j.GraphDataRemover,n=b('adsDaoGraphFetch').fetch,o={imageForAccount:i.createDataCommand(l,{requiredParameters:{accountId:true,bytes:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/adimages';})},conflictDataCommands:[n.imagesForAccount]}),updateAccount:i.createDataCommand(l,{requiredParameters:{accountId:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId;})}}),updateAdgroup:i.createDataCommand(l,{requiredParameters:{adgroupId:true},optionalParameters:{locale:true},constantParameters:{endpoint:new k(function(r){return '/'+r.adgroupId;})}}),updateBrand:i.createDataCommand(l,{requiredParameters:{brandID:true},constantParameters:{endpoint:new k(function(r){var s=r.brandID;delete r.brandID;return '/'+s;})}}),activateCoupon:i.createDataCommand(l,{requiredParameters:{accountId:true,coupon_code:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/coupons';})}}),updateCampaignGroup:i.createDataCommand(l,{requiredParameters:{campaignGroupId:true},optionalParameters:{campaign_group_status:true,name:true},constantParameters:{endpoint:new k(function(r){return '/'+r.campaignGroupId;})}}),updateCampaign:i.createDataCommand(l,{requiredParameters:{campaignId:true},optionalParameters:{name:true,daily_budget:true,campaign_status:true},constantParameters:{endpoint:new k(function(r){return '/'+r.campaignId;})}}),updateLabel:i.createDataCommand(l,{requiredParameters:{labelID:true},optionalParameters:{name:true},constantParameters:{endpoint:new k(function(r){return '/'+r.labelID;})}}),audiencesImport:i.createDataCommand(l,{requiredParameters:{accountId:true,name:true,third_party_data:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/emailimport';})}}),createLookalikeCluster:i.createDataCommand(l,{requiredParameters:{accountId:true,origin_audience_id:true,lookalike_spec:true},optionalParameters:{name:true,description:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/customaudiences';})}}),createCustomAudience:i.createDataCommand(l,{requiredParameters:{accountId:true,name:true},optionalParameters:{opt_out_link:true,rev_share_policy_id:true,is_category:true,parent_audience_id:true,creation_params:true,description:true,details:true,source:true,isPrivate:true,additionalMetadata:true,countries:true,minAge:true,maxAge:true,expectedSize:true,gender:true,partner_reference_key:true,subtype:true,partnerID:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/customaudiences';})}}),addUsersToCustomAudience:i.createDataCommand(l,{requiredParameters:{audienceID:true,users:true,hash_type:true},constantParameters:{endpoint:new k(function(r){return '/'+r.audienceID+'/users';})}}),uploadUsersToCustomAudience:i.createDataCommand(l,{requiredParameters:{audienceID:true,payload:true,session:true},constantParameters:{endpoint:new k(function(r){return '/'+r.audienceID+'/upload';})}}),createWebRemarketingCustomAudience:i.createDataCommand(l,{requiredParameters:{accountId:true,name:true,retention_days:true},optionalParameters:{backfill:true,opt_out_link:true,rev_share_policy_id:true,is_category:true,parent_audience_id:true,creation_params:true,rule:true},constantParameters:{subtype:'website',endpoint:new k(function(r){return '/act_'+r.accountId+'/customaudiences';})}}),createAdsPixel:i.createDataCommand(l,{requiredParameters:{accountId:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/adspixels';})}}),createMobileAppRemarketingCustomAudience:i.createDataCommand(l,{requiredParameters:{accountId:true,name:true,retention_days:true,rule:true},optionalParameters:{opt_out_link:true,rev_share_policy_id:true,is_category:true,parent_audience_id:true,creation_params:true},constantParameters:{subtype:'app',endpoint:new k(function(r){return '/act_'+r.accountId+'/customaudiences';})}}),createMobileAppCombinationCustomAudience:i.createDataCommand(l,{requiredParameters:{accountId:true,name:true,inclusions:true},optionalParameters:{exclusions:true,opt_out_link:true,rev_share_policy_id:true,is_category:true,parent_audience_id:true,creation_params:true},constantParameters:{subtype:'combination',endpoint:new k(function(r){return '/act_'+r.accountId+'/customaudiences';})}}),createActionsLookalike:i.createDataCommand(l,{requiredParameters:{accountId:true,lookalike_spec:true},optionalParameters:{name:true,description:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/customaudiences';})}}),createConversionPixel:i.createDataCommand(l,{requiredParameters:{accountId:true,name:true},optionalParameters:{tag:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/offsitepixels';})},conflictDataCommands:[n.pixelsForAccount]}),unpublishedPagePost:i.createDataCommand(l,{requiredParameters:{access_token:true,link:true,message:true,name:true,pageId:true},optionalParameters:{description:true,picture:true,image_crops:true},constantParameters:{endpoint:new k(function(r){return '/'+r.pageId+'/feed';}),published:false}}),reportSpecs:i.createDataCommand(l,{requiredParameters:{accountId:true,name:true},optionalParameters:{data_columns:true,export_columns:true,date_preset:true,filters:true,time_increment:true,sort_by:true,sort_dir:true,time_interval:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/adreportspecs';})}}),scheduleReport:i.createDataCommand(l,{requiredParameters:{accountId:true,name:true,schedule_frequency:true,status:true,emails:true},optionalParameters:{actions_group_by:true,data_columns:true,date_preset:true,filters:true,time_increment:true,sort_by:true,sort_dir:true,time_interval:true,report_spec_id:true,start_date:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/adreportschedules';})}}),addPagesToBrand:i.createDataCommand(l,{requiredParameters:{brandID:true,page_id:true,access_type:true},optionalParameters:{add_current_users:true,permitted_roles:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/pages';})}}),addAccountsToBrand:i.createDataCommand(l,{requiredParameters:{brandID:true,adaccount_id:true},optionalParameters:{add_current_users:true},constantParameters:{access_type:'OWNER',endpoint:new k(function(r){return '/'+r.brandID+'/adaccounts';})}}),createAdgroup:i.createDataCommand(l,{requiredParameters:{accountId:true,bid_type:true,campaign_id:true,max_bid:true,name:true},optionalParameters:{bid_info:true,conversion_specs:true,creative:true,targeting:true,tracking_pixel_ids:true,tracking_specs:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/adgroups';})}}),createCampaign:i.createDataCommand(l,{requiredParameters:{accountId:true,name:true},optionalParameters:{start_time:true,end_time:true,daily_budget:true,campaign_status:true,lifetime_budget:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/adcampaigns';})}}),createAdAccount:i.createDataCommand(l,{requiredParameters:{brandID:true,name:true,timezone_id:true,currency:true,end_advertiser:true,media_agency:true,partner:true},optionalParameters:{funding_id:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/adaccount';})}}),addBrandToUser:i.createDataCommand(l,{requiredParameters:{name:true,timezone_id:true,primary_page:true},optionalParameters:{vertical_id:true,salesforce_id:true,sync_with_crm:true,add_primary_page_users:true},constantParameters:{endpoint:'/me/brands'}}),addSharedLoginToBrand:i.createDataCommand(l,{requiredParameters:{brandID:true,email:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/add_shared_login';})}}),acceptAgencyAdAccountPermRequest:i.createDataCommand(l,{requiredParameters:{accountId:true,business:true,permitted_roles:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/agencies';})}}),acceptAgencyPagePermRequest:i.createDataCommand(l,{requiredParameters:{pageId:true,business:true,permitted_roles:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new k(function(r){return '/'+r.pageId+'/agencies';})}}),updateBrandUserPermission:i.createDataCommand(l,{requiredParameters:{brandID:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/userpermissions';})}}),createLabelForBrand:i.createDataCommand(l,{requiredParameters:{brandID:true,name:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/businesslabels';})}}),createSystemUserForBrand:i.createDataCommand(l,{requiredParameters:{brandID:true,name:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/system_users';})}}),acceptCustomAudiencesTos:i.createDataCommand(l,{requiredParameters:{accountId:true,tos_id:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/customaudiencestos';})}}),accountsForAudience:i.createDataCommand(l,{requiredParameters:{audienceId:true,adaccounts:true},constantParameters:{endpoint:new k(function(r){return '/'+r.audienceId+'/adaccounts';})}}),createNewSavedTargetSpec:i.createDataCommand(l,{requiredParameters:{accountId:true,targeting_spec:true,name:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/audiences';})}})};f.remove={objectByFBID:i.createDataCommand(m,{requiredParameters:{fbid:true},optionalParameters:{fields:true},constantParameters:{endpoint:new k(function(r){return '/'+r.fbid;})}}),audience:i.createDataCommand(m,{requiredParameters:{audienceId:true},constantParameters:{endpoint:new k(function(r){return '/'+r.audienceId;})}}),brand:i.createDataCommand(m,{requiredParameters:{brandID:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID;})}}),removeAudienceCapabilities:i.createDataCommand(m,{requiredParameters:{audienceID:true,adaccounts:true},constantParameters:{endpoint:new k(function(r){return '/'+r.audienceID+'/capabilities';})}}),removeAccountPermission:i.createDataCommand(m,{requiredParameters:{business:true,accountId:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/userpermissions';})}}),adAccountFromGroup:i.createDataCommand(m,{requiredParameters:{accountId:true,accountGroupId:true},constantParameters:{endpoint:new k(function(r){return r.accountGroupId+'/adaccounts/'+r.accountId;})}}),removeProductFeedPermission:i.createDataCommand(m,{requiredParameters:{business:true,productFeedId:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new k(function(r){return r.productFeedId+'/userpermissions';})}}),removePagePermission:i.createDataCommand(m,{requiredParameters:{business:true,pageId:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new k(function(r){return '/'+r.pageId+'/userpermissions';})}}),removeAppPermission:i.createDataCommand(m,{requiredParameters:{business:true,appId:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new k(function(r){return '/'+r.appId+'/userpermissions';})}}),removeAgencyPagePermission:i.createDataCommand(m,{requiredParameters:{pageId:true,business:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new k(function(r){return '/'+r.pageId+'/agencies';})}}),removeAgencyAdAccountPermission:i.createDataCommand(m,{requiredParameters:{accountId:true,business:true},optionalParameters:{acting_brand_id:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/agencies';})}}),removeClient:i.createDataCommand(m,{requiredParameters:{brandId:true,business:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandId+'/clients';})}}),removeAgency:i.createDataCommand(m,{requiredParameters:{brandId:true,business:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandId+'/agencies';})}}),removeBrandUserPermission:i.createDataCommand(m,{requiredParameters:{brandID:true},optionalParameters:{user:true,email:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/userpermissions';})}}),removeBusinessFromUser:i.createDataCommand(m,{requiredParameters:{userID:true,business:true},constantParameters:{endpoint:new k(function(r){return '/'+r.userID+'/businesses';})}}),removePageFromLabel:i.createDataCommand(m,{requiredParameters:{label_id:true,page_id:true},constantParameters:{endpoint:new k(function(r){return '/'+r.label_id+'/pages';})}}),removeAdAccountFromLabel:i.createDataCommand(m,{requiredParameters:{label_id:true,adaccount_id:true},constantParameters:{endpoint:new k(function(r){return '/'+r.label_id+'/adaccounts';})}}),reportSpecs:i.createDataCommand(m,{requiredParameters:{reportSpecId:true},constantParameters:{endpoint:new k(function(r){return '/'+r.reportSpecId;})}}),reportAsyncRun:i.createDataCommand(m,{requiredParameters:{reportRunId:true},constantParameters:{endpoint:new k(function(r){return '/'+r.reportRunId;})}}),completedReportAsyncRuns:i.createDataCommand(m,{requiredParameters:{accountId:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId+'/adreportruns';})}}),scheduledReport:i.createDataCommand(m,{requiredParameters:{scheduledReportId:true},constantParameters:{endpoint:new k(function(r){var s=r.scheduledReportId;delete r.scheduledReportId;return '/'+s;})}}),accountsForBrand:i.createDataCommand(m,{requiredParameters:{brandID:true,adaccount_id:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/adaccounts';})}}),appsForBrand:i.createDataCommand(m,{requiredParameters:{app_id:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/apps';})}}),systemUsersForBrand:i.createDataCommand(m,{requiredParameters:{id:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/apps';})}}),pagesForBrand:i.createDataCommand(m,{requiredParameters:{brandID:true,page_id:true},constantParameters:{endpoint:new k(function(r){return '/'+r.brandID+'/pages';})}}),productFeed:i.createDataCommand(m,{requiredParameters:{productFeedID:true},constantParameters:{endpoint:new k(function(r){return '/'+r.productFeedID;})}}),label:i.createDataCommand(m,{requiredParameters:{labelID:true},constantParameters:{endpoint:new k(function(r){return '/'+r.labelID;})}}),accountsForAudience:i.createDataCommand(m,{requiredParameters:{audienceId:true,adaccounts:true},constantParameters:{endpoint:new k(function(r){return '/'+r.audienceId+'/adaccounts';})}})};f.mutate={brandPersona:i.createDataCommand(l,{requiredParameters:{personaId:true},optionalParameters:{first_name:true,last_name:true,email:true},constantParameters:{endpoint:new k(function(r){return '/'+r.personaId;})}}),customAudience:i.createDataCommand(l,{requiredParameters:{id:true},optionalParameters:{name:true,description:true,rule:true,opt_out_link:true},constantParameters:{endpoint:new k(function(r){var s='/'+r.id;delete r.id;return s;})}}),reportSpecs:i.createDataCommand(l,{requiredParameters:{id:true},optionalParameters:{data_columns:true,export_columns:true,date_preset:true,filters:true,time_increment:true,sort_by:true,sort_dir:true,time_interval:true},constantParameters:{endpoint:new k(function(r){var s='/'+r.id;delete r.id;return s;})}}),reportStatsForAccountAsync:i.createDataCommand(l,{requiredParameters:{accountId:true,data_columns:true},optionalParameters:{time_increment:true,date_preset:true,time_interval:true,sort_by:true,sort_dir:true,offset:true,limit:true,actions_group_by:true,filters:true,user_report:true,business_id:true},constantParameters:{async:true,endpoint:new k(function(r){return '/act_'+r.accountId+'/reportstats';}),business_id:(h.getBusinessID()||null)}}),updateAsyncReport:i.createDataCommand(l,{requiredParameters:{reportRunId:true},optionalParameters:{emails:true,is_bookmarked:true},constantParameters:{endpoint:new k(function(r){var s=r.reportRunId;delete r.reportRunId;return '/'+s;})}}),updateAccount:i.createDataCommand(l,{requiredParameters:{accountId:true},optionalParameters:{timezone_id:true,currency:true},constantParameters:{endpoint:new k(function(r){return '/act_'+r.accountId;})}}),scheduledReport:i.createDataCommand(l,{requiredParameters:{scheduledReportId:true,name:true,schedule_frequency:true,status:true,emails:true},optionalParameters:{actions_group_by:true,data_columns:true,date_preset:true,filters:true,time_increment:true,sort_by:true,sort_dir:true,time_interval:true,report_spec_id:true,start_date:true},constantParameters:{endpoint:new k(function(r){var s=r.scheduledReportId;delete r.scheduledReportId;return '/'+s;})}}),sharedAccountsForAudience:i.createDataCommand(l,{requiredParameters:{audienceID:true,adaccounts:true},constantParameters:{endpoint:new k(function(r){return '/'+r.audienceID+'/adaccounts';}),replace:true}}),updateCapabilitiesForAudience:i.createDataCommand(l,{requiredParameters:{audienceID:true,accounts_capabilities:true},constantParameters:{endpoint:new k(function(r){return '/'+r.audienceID+'/capabilities';})}}),savedTargetSpec:i.createDataCommand(l,{requiredParameters:{audienceId:true},optionalParameters:{name:true,targeting:true},constantParameters:{endpoint:new k(function(r){var s='/'+r.audienceId;return s;})}})};for(var p in o){var q=o[p];if(q)q.commandName='add_'+p;}f.add=o;});
__d("AdsDaoGraphDataDownloadProvider",["bolt/core","bolt/util","AdsDaoGraphSpec","AdsDao","ads-lib-connect"],function(a,b,c,d,e,f,g,h,i,j){var k=b('ads-lib-connect').FB,l=h.extend({},i,{extend:j.DataDownloadProvider,downloadData:function(n,o){var p=n.target_window||"_blank";delete n.target_window;var q={};h.extend(q,n);var r=q.endpoint;delete q.endpoint;var s=q.access_token;delete q.access_token;var t=k.url(r,q,s);window.open(t,p);o&&o(true);},processData:function(n){return n;}}),m=g.createClass(l);e.exports=m;});
__d("adsDaoGraphDownload",["copyProperties","adsDaoUtils","AdsDaoGraphDataDownloadProvider","adsDaoGraphFetch"],function(a,b,c,d,e,f,g,h,i){var j=b('adsDaoGraphFetch').fetch,k={reportStatsForAccount:h.createDataCommand(i,{requiredParameters:g({format:true},(j.reportStatsForAccount&&j.reportStatsForAccount.requiredParameters)),optionalParameters:(j.reportStatsForAccount&&j.reportStatsForAccount.optionalParameters),constantParameters:(j.reportStatsForAccount&&j.reportStatsForAccount.constantParameters)})};for(var l in k){var m=k[l];if(m)m.commandName='download_'+l;}f.download=k;});
__d("AdsDaoGraph",["adsDaoGraphPrimed","adsDaoGraphMutate","adsDaoGraphDownload","adsDaoGraphFetch"],function(a,b,c,d,e,f,g,h,i,j){var k={fetch:j.fetch,add:h.add,remove:h.remove,mutate:h.mutate,download:i.download,primedForAccount:g.forAccount,primedForLocale:g.forLocale,primedForBrand:g.forBrand,primedForBrandDashboard:g.forBrandDashboard,primedForGeoLocation:g.forGeoLocation};e.exports=k;});
__d("AdImageSpecsUtils",["adsGKCheck","AdImageSpecs"],function(a,b,c,d,e,f,g,h){var i={},j={getImageSpecKey:function(k){for(var l in h)if(h[l]===k)return l;return null;},getImageSpecsForAdType:function(k,l){var m=[];if(k in i){m=i[k];}else{Object.keys(h).forEach(function(n){var o=h[n].supportedTypes||[];if(o.indexOf(k)>=0){var p=true;if(h[n].gkSucceeds){p=g(h[n].gkSucceeds);}else if(h[n].gkFails)p=!g(h[n].gkFails);p&&m.push(h[n]);}});i[k]=m;}if(l)return m.filter(function(n){return l.indexOf(n.placement)>=0;});return m;},getCropImageSpecsForAdType:function(k,l){var m=[],n=j.getImageSpecsForAdType(k,l);return n.sort(function(o,p){return p.width-o.width;}).filter(function(o){if(!o.cropKey||m.indexOf(o.cropKey)!==-1)return false;m.push(o.cropKey);return true;});},getImageSpecForAdType:function(k,l){var m=j.getImageSpecsForAdType(k);for(var n=0;n<m.length;++n){var o=m[n];if(o.placement===l)return o;}return null;}};e.exports=j;});
__d("AdsImageValidation",["AdsCFConstants","AdImageSpecs","AdImageSpecsUtils","fbt","keyMirror"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.PlacementID,m={isSquare:function(n){return !!(n.getWidth()&&n.getWidth()===n.getHeight());},isExactSize:function(n,o){return (n.getWidth()===o.width&&n.getHeight()===o.height);},isWarningSize:function(n,o){return (n.getWidth()>=o.minWarningWidth&&n.getHeight()>=o.minWarningHeight);},isRecommendedSize:function(n,o){return (n.getHeight()>=o.height&&n.getWidth()>=o.width);},isLargeSize:function(n,o){return (m.isRecommendedSize(n,o)||(n.getWidth()>=o.minLargeWidth&&n.getHeight()>=o.minLargeHeight));},isSmallSize:function(n,o){return (m.isLargeSize(n,o)||m.isWarningSize(n,o));},isWithinSizeTolerance:function(n,o){var p=o.dimensionTolerance,q=Math.abs(o.height-n.getHeight())<p,r=Math.abs(o.width-n.getWidth())<p;return q&&r;},validate:function(n,o,p){if(o.placement in n.validationMap){p(n,o,n.validationMap[o.placement]);return;}var q=this._imageDimensionsReady.bind(this,n,o,p);if(n.isStockImage()){n.fetchFullSizeDimensions(q);}else n.setDimensionsReadyCallback(q);},_imageDimensionsReady:function(n,o,p){var q,r,s,t,u,v,w,x,y,z=o.placement,aa=j._("Minimum Size: {width} pixels x {height} pixels",[j.param("width",o.minWarningWidth),j.param("height",o.minWarningHeight)]),ba=j._("Recommended Size: {width} pixels x {height} pixels",[j.param("width",o.width),j.param("height",o.height)]),ca=j._("Required Size: {width} pixels x {height} pixels",[j.param("width",o.width),j.param("height",o.height)]),da="This image is too small. Please use a larger image."+'\n\n'+aa+'\n'+ba,ea=k(h),fa=i.getImageSpecKey(o);switch(fa){case ea.APP_INSTALL_FEED:case ea.APP_INSTALL_RHC:case ea.APP_INSTALL_MOBILE_FEED:u=m.isWithinSizeTolerance(n,o);if(!u)s=ca;break;case ea.APP_INSTALL_ICON:t=m.isSquare(n);v=m.isWarningSize(n,o);if(!t){s="Your icon is not a square.";}else if(!v)s=da;break;default:v=m.isWarningSize(n,o);if(!v){s=da;}else if(z===l.NEWS_FEED||z===l.MOBILE_NEWS_FEED){y=m.isRecommendedSize(n,o);x=m.isLargeSize(n,o);w=m.isSmallSize(n,o);if(y){q="This image will display in high-resolution on Facebook.";}else if(x&&!y){q="This image will show in the wider format in News Feed."+'\n\n'+ba;}else if(w&&!y)r="Upload a larger image to be eligible for the wider format in News Feed."+'\n\n'+ba;}}var ga={successMessage:q,warningMessage:r,errorMessage:s};p(n,o,ga);}};e.exports=m;});
__d("AdsImage",["AdsDaoGraph","AdsImageValidation","CachedDOMImageSizePool","invariant","mergeDeepInto"],function(a,b,c,d,e,f,g,h,i,j,k){var l=new i(1000,10*60*1000),m=['FullSize','Preview','Thumbnail'];n.prototype.toJSON=function(){"use strict";var o=this.$AdsImage0;return {url:o?o.toString():null,hash:this.$AdsImage1,width:this.width,height:this.height};};n.prototype.clone=function(o){"use strict";var p=new n();k(p,this,'Clobber');o&&k(p,o,'Clobber');return p;};function n(o){"use strict";o=o||{};this.crops=o.crops||{};this.$AdsImage1=o.hash;this.$AdsImage0=o.url;this.$AdsImage2=o.url_128;this.$AdsImage3=o.stockImageID;if(this.isStockImage()){this.$AdsImage2=o.url;this.$AdsImage4=o.thumbWidth;this.$AdsImage5=o.thumbHeight;this.$AdsImage6=o.previewUrl;this.$AdsImage7=o.previewWidth;this.$AdsImage8=o.previewHeight;j(this.getThumbnailWidth()&&this.getThumbnailHeight());j(this.getPreviewUrl()&&this.getPreviewWidth()&&this.getPreviewHeight());}this.height=o.height;this.width=o.width;this.validationMap=o.validationMap||{};this.$AdsImage9();}n.prototype.$AdsImage9=function(){"use strict";if(this.$AdsImage0&&!this.hasDimensions())l.get(this.$AdsImage0,this.$AdsImagea,this);if(this.$AdsImage2&&!this.hasThumbnailDimensions())l.get(this.$AdsImage2,this.$AdsImageb,this);};n.prototype.getCrop=function(o){"use strict";return this.crops[o];};n.prototype.getCrops=function(){"use strict";var o={};for(var p in this.crops){var q=this.getCrop(p);if(q)o[p]=q;}return o;};n.prototype.hasDimensions=function(){"use strict";return this.width!==undefined&&this.height!==undefined;};n.prototype.hasThumbnailDimensions=function(){"use strict";return this.$AdsImage4!==undefined&&this.$AdsImage5!==undefined;};n.prototype.getWidth=function(){"use strict";return this.getFullSizeWidth()||this.getPreviewWidth()||this.width;};n.prototype.getHeight=function(){"use strict";return this.getFullSizeHeight()||this.getPreviewHeight()||this.height;};n.prototype.setDimensionsReadyCallback=function(o){"use strict";if(!o)return;if(this.hasDimensions()){setTimeout(o,0);}else if(this.$AdsImage0){l.get(this.$AdsImage0,o);}else{this.$AdsImagea(0,0);this.$AdsImageb(0,0);setTimeout(o,0);}};n.prototype.validate=function(o,p){"use strict";h.validate(this,o,p);};n.prototype.getUrl=function(){"use strict";return this.$AdsImage0;};n.prototype.getBiggestVersionDetails=function(){"use strict";if(this.isStockImage())for(var o=0;o<m.length;o++){var p='get'+m[o],q=this[p+'Url']();if(q)return {url:q,width:this[p+'Width'](),height:this[p+'Height']()};}return {url:this.getUrl(),width:this.getWidth(),height:this.getHeight()};};n.prototype.getPreviewUrl=function(){"use strict";return this.$AdsImage6;};n.prototype.getPreviewWidth=function(){"use strict";return this.$AdsImage7;};n.prototype.getPreviewHeight=function(){"use strict";return this.$AdsImage8;};n.prototype.getFullSizeUrl=function(){"use strict";return this.$AdsImagec;};n.prototype.setFullSizeUrl=function(o){"use strict";this.$AdsImagec=o;};n.prototype.getFullSizeWidth=function(){"use strict";return this.$AdsImaged;};n.prototype.getFullSizeHeight=function(){"use strict";return this.$AdsImagee;};n.prototype.fetchStockImageDetails=function(o){"use strict";j(this.isStockImage());var p={image_id:this.getStockImageID()},q=function(r){this.$AdsImagec=r.preview_url;o&&o(this);}.bind(this);g.fetch.detailsForStockImage.one(q,p);};n.prototype.fetchFullSizeDimensions=function(o){"use strict";j(this.isStockImage());if(this.getFullSizeUrl()){this.$AdsImagef(o);}else this.fetchStockImageDetails(this.$AdsImagef.bind(this,o));};n.prototype.$AdsImagef=function(o){"use strict";if(this.hasFullSizeDimensions()){setTimeout(o,0);}else l.get(this.getFullSizeUrl(),function(p,q){this.$AdsImaged=p;this.$AdsImagee=q;o&&o();},this);};n.prototype.hasFullSizeDimensions=function(){"use strict";return !!(this.getFullSizeWidth()&&this.getFullSizeHeight());};n.prototype.getAdAccountHash=function(){"use strict";return this.$AdsImage1;};n.prototype.equals=function(o){"use strict";return this.getUniqueIdentifier()===o.getUniqueIdentifier();};n.prototype.getUniqueIdentifier=function(){"use strict";if(this.isStockImage())return this.getStockImageID();return this.getAdAccountHash()||this.getUrl();};n.prototype.isStockImage=function(){"use strict";return !!this.getStockImageID();};n.prototype.getStockImageID=function(){"use strict";return this.$AdsImage3;};n.prototype.getThumbnailUrl=function(){"use strict";return this.$AdsImage2;};n.prototype.getThumbnailHeight=function(){"use strict";return this.$AdsImage5;};n.prototype.getThumbnailWidth=function(){"use strict";return this.$AdsImage4;};n.prototype.$AdsImagea=function(o,p){"use strict";this.width=o;this.height=p;};n.prototype.$AdsImageb=function(o,p){"use strict";this.$AdsImage4=o;this.$AdsImage5=p;};e.exports=n;});
__d("AdsImageCollectionViews",["invariant"],function(a,b,c,d,e,f,g){var h=['LIBRARY','PAGE','SCRAPED','STOCK'],i={};h.forEach(function(r,s){i[r]=1<<s;});i.INVISIBLE=0;var j={};for(var k in i){var l=i[k];j[l]=l;}i.ALL=(1<<h.length)-1;function m(r){return (r in j);}function n(r){return r>=0&&r<=i.ALL;}function o(r){g(m(r));}function p(r){g(n(r));}var q={views:i,isValidView:m,isValidViewBitmask:n,assertIsValidView:o,assertIsValidViewBitmask:p};e.exports=q;});
__d("AdsImageCollection",["AdsImageCollectionViews","ArbiterMixin","copyProperties","invariant","mixin"],function(a,b,c,d,e,f,g,h,i,j,k){var l=k(h);for(var m in l)if(l.hasOwnProperty(m))o[m]=l[m];var n=l===null?null:l.prototype;o.prototype=Object.create(n);o.prototype.constructor=o;o.__superConstructor__=l;function o(p){"use strict";p=i({maxSelectedImages:1},p);this.$AdsImageCollection0=p.maxSelectedImages;j(this.$AdsImageCollection0%1===0);this.$AdsImageCollection1();}o.prototype.$AdsImageCollection1=function(){"use strict";this.$AdsImageCollection2=[];this.$AdsImageCollection3={};this.$AdsImageCollection4=[];};o.prototype.addImagesToFront=function(p,q){"use strict";this.$AdsImageCollection5(p);this.$AdsImageCollection6(p,0,q);};o.prototype.addImagesToBack=function(p,q){"use strict";this.$AdsImageCollection5(p);this.addImagesToBack_UNSAFE(p,q);};o.prototype.addImagesToBack_UNSAFE=function(p,q){"use strict";this.$AdsImageCollection6(p,this.$AdsImageCollection2.length,q);};o.prototype.$AdsImageCollection6=function(p,q,r){"use strict";g.assertIsValidView(r);var s=p.filter(function(t){var u=this.$AdsImageCollection3[t.getUniqueIdentifier()];if(u){u.view=r;return false;}else{this.$AdsImageCollection3[t.getUniqueIdentifier()]={selected:false,view:r,image:t};return true;}},this);Array.prototype.splice.apply(this.$AdsImageCollection2,[q,0].concat(s));this.inform('onChange');};o.prototype.$AdsImageCollection5=function(p){"use strict";p.forEach(function(q){var r=this.$AdsImageCollection3[q.getUniqueIdentifier()];if(r)j(0===(r.view&g.views.ALL));}.bind(this));};o.prototype.isImageSelected=function(p){"use strict";return !!this.$AdsImageCollection3[p.getUniqueIdentifier()].selected;};o.prototype.toggleImageSelected=function(p){"use strict";var q=!this.isImageSelected(p);this.setImageSelected(p,q);return q;};o.prototype.setImageSelected=function(p,q){"use strict";var r=this.$AdsImageCollection7(p,q);r&&this.inform('onChange');};o.prototype.setImagesSelected=function(p,q){"use strict";var r;for(var s=0,t=p.length;s<t;s++)if(this.$AdsImageCollection7(p[s],q))r=true;r&&this.inform('onChange');};o.prototype.$AdsImageCollection7=function(p,q){"use strict";this.assertHasImage(p);if(q===this.isImageSelected(p))return false;if(q){this.$AdsImageCollection4.push(p);}else this.$AdsImageCollection4=this.$AdsImageCollection4.filter(function(s){return !p.equals(s);});this.$AdsImageCollection3[p.getUniqueIdentifier()].selected=q;if(this.$AdsImageCollection0>0)while(this.getSelectedImageCount()>this.$AdsImageCollection0){var r=this.$AdsImageCollection4.shift();this.$AdsImageCollection3[r.getUniqueIdentifier()].selected=false;}return true;};o.prototype.deselectAllImages=function(){"use strict";if(!this.hasSelectedImages())return;this.getSelectedImages().forEach(function(p){this.$AdsImageCollection3[p.getUniqueIdentifier()].selected=false;},this);this.$AdsImageCollection4=[];this.inform('onChange');};o.prototype.clearImagesByViewBitmask=function(p){"use strict";g.assertIsValidViewBitmask(p);var q=false;this.$AdsImageCollection2=this.$AdsImageCollection2.filter(function(r){var s=0!==(p&this.$AdsImageCollection3[r.getUniqueIdentifier()].view);if(s){q=true;if(this.isImageSelected(r)){this.$AdsImageCollection3[r.getUniqueIdentifier()].view=g.views.INVISIBLE;s=false;}else delete this.$AdsImageCollection3[r.getUniqueIdentifier()];}return !s;},this);if(q)this.inform('onChange');};o.prototype.hasImage=function(p){"use strict";return this.$AdsImageCollection3[p.getUniqueIdentifier()]!==undefined;};o.prototype.assertHasImage=function(p){"use strict";j(this.hasImage(p));};o.prototype.getSelectedImages=function(){"use strict";return this.$AdsImageCollection4.slice(0);};o.prototype.getSelectedImageCount=function(){"use strict";return this.$AdsImageCollection4.length;};o.prototype.hasSelectedImages=function(){"use strict";return this.getSelectedImageCount()!==0;};o.prototype.canSelectImages=function(){"use strict";return !this.allowsMultiImageSelection()||this.getSelectedImageCount()<this.getMaxSelectedImageCount();};o.prototype.getImageByIndex=function(p){"use strict";return this.$AdsImageCollection2[p];};o.prototype.getImageByHash=function(p){"use strict";return this.$AdsImageCollection3[p]&&this.$AdsImageCollection3[p].image;};o.prototype.getImages=function(p){"use strict";g.assertIsValidViewBitmask(p);return this.$AdsImageCollection2.filter(function(q){return (0!==(p&this.$AdsImageCollection3[q.getUniqueIdentifier()].view));},this);};o.prototype.getImageCount=function(p){"use strict";return this.getImages(p).length;};o.prototype.isEmpty=function(){"use strict";return this.getImageCount(g.views.ALL)===0;};o.prototype.getMaxSelectedImageCount=function(){"use strict";return this.$AdsImageCollection0;};o.prototype.allowsMultiImageSelection=function(){"use strict";return this.$AdsImageCollection0!==1;};e.exports=o;});
__d("AdsCFDestinationUtils",["ads-app-platforms","AdsCFConnectConfig","AdsCFUIObjectives","AdsCreationConfig","AdsDestinationTypes","AdsImage","AdsImageCollection","AdsImageCollectionViews","SearchableEntry","fbt","ads-lib-urllib","ads-lib-connect"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=b('ads-lib-connect').FB,s=g.NATIVE_APP_TO_MOBILE_STORE_MAP,t='/images/icons/t_default.jpg';function u(aa,ba){aa=aa||{};var ca={activeCoupons:aa.active_coupons||[],infoAvailable:true,destinationId:aa.id,destinationName:aa.type===k.EXTERNAL_WEBPAGE?aa.url:(aa.name||aa.title_fill||aa.original_object_url||"No description available"),destinationTitle:aa.title_fill||aa.name||'',destinationSummary:aa.body_fill||aa.description||'',destinationPicture:w(aa),destinationImages:x(aa.images),destinationOriginalObjectUrl:q.normalize(aa.object_url||aa.url),destinationIsOG:!!aa.is_og,destinationUrl:aa.url,destinationCityInfo:aa.city_info,fanCountries:aa.fan_countries,suggestedTopics:aa.suggested_topics,destinationType:aa.type,tabs:aa.tabs||{},minAge:(+aa.minimum_age<j.maxAge)?+aa.minimum_age:j.minAge,isAdmin:!!aa.is_admin,isAppStoreMedia:!!aa.is_app_store_media,isBlackholed:!!aa.is_blackholed,canReceiveMessage:!!aa.can_receive_message,isPublished:!!aa.is_published,offerEligible:!!aa.offer_eligible,hasEnoughFansForOffers:aa.has_enough_fans_for_offers,geoGating:aa.geo_gating,canCreatePageContent:aa.can_create_page_content,storyId:aa.story_id||'',warmup:!!ba,isGame:aa.is_game,defaultObjective:aa.default_objective,actualDestinationType:aa.type,appPlatforms:g.getPlatformsFromGraph(aa.app_platforms),appInstallsTracked:aa.app_installs_tracked,defaultDailyBudget:aa.default_daily_budget,nativeAppStoreIds:aa.native_app_store_ids,category:aa.category,subcategory:aa.subcategory,mobileStoreObject:aa.mobile_store_object,mobileStoreDestinationType:aa.mobile_store_destination_type,originalObjectUrl:aa.original_object_url,supportedDevices:aa.supported_devices,mobileAppCPAAccess:aa.mobile_app_cpa_access,nativeAppTargetingIDs:aa.native_app_targeting_ids,interests:aa.interests,objectStoreUrl:aa.object_store_url,objectStoreUrls:aa.object_store_urls};return ca;}function v(aa,ba,ca,da){da=da||ba.destinationName;if(ba.originalObjectUrl&&(ca===i.WEBSITE_CLICKS||ca===i.WEBSITE_CONVERSIONS))da=ba.originalObjectUrl;var ea=new o({uniqueID:aa,title:da,photo:ba.destinationPicture});return ea;}function w(aa){switch(aa.type){case k.EXTERNAL_WEBPAGE:return aa.picture||t;case k.APP:return aa.picture;default:var ba=aa.id;if(!ba)return t;return r.url('/'+ba+'/picture',{type:'large'},h.access_token);}}function x(aa){aa=aa||[];var ba=new m();ba.addImagesToBack(aa.map(function(ca){return new l({url:ca});}),n.views.LIBRARY);return ba;}function y(aa,ba){if(ba.isPublished||(aa!==k.PAGE&&aa!==k.PLACE))return false;return true;}function z(aa,ba){var ca=s[ba],da=ca?aa.objectStoreUrls[ca]:aa.destinationOriginalObjectUrl;return da;}e.exports={convertAPIDataToFields:u,convertToSearchableEntry:v,getAppUrlForPlatform:z,isUnpublishedPage:y};});
__d("AdsCFCreativeViewActions",["AdsCFActionTypes","AdsCFConstants","AdsCFDestinationUtils","AdsDispatcher"],function(a,b,c,d,e,f,g,h,i,j){var k=h.CreativeID.PRIMARY,l={setCreativeTitle:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,title:n,creativeID:m});},setCreativeBody:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,body:n,creativeID:m});},setCreativeDeepLink:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,applinkUrl:n,creativeID:m});},setCreativeDeepLinkTitle:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,mobileProductName:n,creativeID:m});},setCreativeCallToActionType:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,callToActionType:n,creativeID:m});},setCreativeVideoID:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,videoId:n,creativeID:m});},setVideoAndThumbnail:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,videoId:m,videoThumbnail:n,creativeID:k});},setCreativeLinkUrl:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,linkUrl:n,creativeID:m});},setCreativeIconImage:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,creativeID:m,iconImage:n});},setCreativeMobileStore:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,creativeID:m,mobileStore:n});},setCreativeImageList:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,creativeID:m,imageList:n});},setCreativeLinkDescription:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,linkDescription:n,creativeID:m});},setStoryId:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,storyId:n,creativeID:m});},setURLTags:function(m,n){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,urlTags:n,creativeID:m});},setActor:function(m,n,o){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,actor:n,creativeID:m,eventSource:o});},setPlacements:function(m,n,o,p){j.handleUpdateFromViewAction({actionType:g.CREATIVE_PLACEMENTS_CHANGE,creativeID:m,placementList:n,enabled:o,eventSource:p});},imageValidated:function(m,n,o,p){j.handleUpdateFromViewAction({actionType:g.IMAGE_VALIDATED,creativeID:m,image:n,placement:o,validation:p});},updateImageCrop:function(m,n,o,p,q,r){j.handleUpdateFromViewAction({actionType:g.IMAGE_CROP_CHANGE,creativeID:m,creativeType:n,image:o,cropKey:p,placement:q,coordinates:r});},setAppPlatform:function(m,n,o){j.handleUpdateFromViewAction({actionType:g.CREATIVE_CHANGE,creativeID:m,linkUrl:i.getAppUrlForPlatform(n,o),platform:o});}};e.exports=l;});
__d("AdsCFPrimedDao",["AdsCFConnectConfig","AdsDaoGraph","ApiClient","CurrentLocale"],function(a,b,c,d,e,f,g,h,i,j){i.setClientID(g.client_id);i.setAccessToken(g.access_token);h.primedForLocale(j.get());var k={},l={getInstanceForAccount:function(m){if(!k[m])k[m]=h.primedForLocale(j.get()).primedForAccount(m);return k[m];}};e.exports=l;});
__d("AdsCreationExperiments",["AdsCreationExperimentsConfig","AsyncRequest","URIInitDataUtil","invariant"],function(a,b,c,d,e,f,g,h,i,j){var k='/ajax/ads/experiment/exposure/',l=function(n,o){var p=false;return {getParam:function(q){return o.params&&o.params[q];},getParamBool:function(q){var r=this.getParam(q);if(!r||r==='false')return false;var s=parseInt(r,10);if(isNaN(s))return true;return !!s;},getGroup:function(){return o.group;},getInExperiment:function(){return o.in_experiment;},logExposure:function(q){if(p)return;p=true;var r=new h(k),s={qe_name:n,data:q};r.setData(s).send();}};},m={_experiments:{},getExperiment:function(n){if(!this._experiments[n])this._experiments[n]=l(n,g[n]||{});return this._experiments[n];}};e.exports=m;});
__d("AdsCFAccountStore",["AdsAccountCapabilities","AdsActionTypes","AdsCFActionTypes","AdsCFPrimedDao","AdsCountries","AdsCreationConfig","AdsCreationExperiments","AdsDispatcher","AdsPayloadSource","AdsTimezone","Arbiter","ImmutableObject","URI","adsGKCheck","arrayContains","copyProperties","invariant","merge","whitelistObjectKeys","AdsCFConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z=b('AdsCFConstants').AccountStatus,aa='USD',ba=1,ca=[z.DISABLED,z.PENDING_CLOSURE,z.UNSETTLED],da,ea,fa,ga;function ha(){da=false;ea={};fa={};ga=false;}ha();var ia=v(new q(),{getState:function(){var ra=x(ea);ra.isConfigured=ja();return new r(ra);},getInitialState:function(){return new r(fa);},getAccountID:function(){return ea.accountID;},canCreateAds:function(){var ra=ca.indexOf(ea.accountStatus)===-1;if(!t('ads_payments_closed_accounts_v1_1'))return ra;if(ea.accountStatus!==z.CLOSED)return ra;var sa=m.getExperiment('ads_payments_closed_accounts_v1_1');sa.logExposure();return !sa.getParamBool('test');},hasAccountCapability:function(ra){return ma(ea,ra);},isLikelyOnlineSales:function(){return ga;},getBasedInUS:function(){return ea.country==='US';},getDao:function(){return j.getInstanceForAccount(ea.accountID);},dispatchToken:n.register(function(ra){var sa=ra.action;switch(sa.actionType){case i.INIT_STARTED:ga=!!sa.is_likely_online_sales;break;case i.ACCOUNT_INIT:la(sa);break;case i.CHANGE_ACCOUNT_COUNTRY:var ta={country:sa.country,timezoneID:p.countryCodeToTimezoneIDsMap[sa.country][0]},ua=m.getExperiment('update_currency_on_change_country').getParam('test')==1;if(ua&&!da){ta.currency=k.getCurrencyByCountry(sa.country);ka(ta,{country:null,timezoneID:null,currency:null});}else ka(ta,{country:null,timezoneID:null});break;case i.CHANGE_ACCOUNT_CURRENCY:ka(sa,{currency:null});da=ra.payloadsource===o.VIEW_ACTION;break;case i.CHANGE_ACCOUNT_TIMEZONE_ID:ka(sa,{timezoneID:null});break;case i.CONVERSION_PIXELS_CHANGE:ka(sa,{pixels:null});break;case i.OFFSITE_PIXELS_TOS_ACCEPTED:ea=x(ea,{isOffsitePixelsTOSAccepted:true});break;case i.COUPON_ACTIVATED:ka(sa,{couponActivationResponse:null});if(sa.couponActivationResponse.success)qa();break;case i.CHANGE_FUNDING_SOURCE:ka(sa,{fundingSourceDetails:null});break;case h.PAGE_TRANSITION:ha();break;}})});function ja(){return !!(ea.dailySpendLimit||ma(ea,g.DIRECT_SALES));}function ka(ra,sa){ea=x(ea,y(ra,sa));ia.inform('change');}function la(ra){var sa=ra.accountConfig,ta=ma(sa,g.CAN_UPDATE_CURRENCY),ua=sa.country,va=sa.currency,wa=sa.timezone_id;if(ta){if(va===aa&&l.userLocalCurrencyCode!==aa)va=l.userLocalCurrencyCode||va;if(wa===ba&&l.userLocalTimezoneID!==ba)wa=l.userLocalTimezoneID||wa;ua=sa.business_country_code||l.userLocalCountryCode||ua||'US';}ea=x(ea,{accountID:sa.account_id,age:sa.age,amountSpent:sa.amount_spent,businessCountryCode:sa.business_country_code,capabilities:sa.capabilities,country:ua,currency:va,dailySpendLimit:sa.daily_spend_limit,fundingSource:sa.funding_source,fundingSourceDetails:sa.funding_source_details,id:sa.id,isAllowedToEditCurrency:ta,isOffsitePixelsTOSAccepted:sa.offsite_pixels_tos_accepted,tosAccepted:sa.tos_accepted,minDailyBudget:sa.min_daily_budget,mooDefaultConversionBid:sa.moo_default_conversion_bid,name:sa.name,accountStatus:sa.account_status,spendCap:sa.spend_cap,timezoneID:wa,timezoneOffsetHours:sa.timezone_offset_hours_utc,users:sa.users});ea.timezoneOffsetHours=ea.timezoneOffsetHours||0;ia.inform('change');na();pa();fa=x(ea);}function ma(ra,sa){w(sa in g);return !!(ra&&ra.capabilities&&u(ra.capabilities,sa));}function na(){ia.getDao().fetch.pixelsForAccount.one(function(ra){n.handleUpdateFromServerResponse({actionType:i.CONVERSION_PIXELS_CHANGE,pixels:ra});}.bind(this));}var oa;function pa(){var ra=s.getRequestURI().getQueryData().coupon;if(!ra||oa)return;oa=true;var sa=m.getExperiment('ads_creation_streamline_coupon_3');if(sa.getInExperiment())sa.logExposure();if(!sa.getInExperiment()||sa.getParam('in_test')==='0')return;ia.getDao().add.activateCoupon.one(function(ta){n.handleUpdateFromServerResponse({actionType:i.COUPON_ACTIVATED,couponActivationResponse:ta});}.bind(this),{accountId:ea.accountID,coupon_code:ra});}function qa(){var ra=ia.getDao();ra.fetch.accountInfo.clearCache();ra.fetch.accountInfo.one(function(sa){n.handleUpdateFromServerResponse({actionType:i.CHANGE_FUNDING_SOURCE,fundingSourceDetails:sa.funding_source_details});}.bind(this),{accountId:ea.accountID,fields:'funding_source_details'});}e.exports=ia;});
__d("ads-lib-pagePostUtils",["invariant"],function(a,b,c,d,e,f,g){var h=function(j){if(!j)return null;if(typeof j!=='string')j=j.toString();return j;},i={generatePagePostId:function(j,k){return j+"_"+k;},isPagePostId:function(j){j=h(j);if(!j)return false;var k=j.split('_');return k.length===2;},getPageIdFromPagePostId:function(j){j=h(j);if(!j)return null;var k=j.split('_');g(k.length===2);return k[0];},getPostIdFromPagePostId:function(j){j=h(j);if(!j)return null;var k=j.split('_');g(k.length===2);return k[1];},getPagePostURL:function(j,k){var l=i.getPostIdBestGuess(k);return '/'+j+'/posts/'+l;},getPostIdBestGuess:function(j){j=h(j);if(!j)return null;var k=j.split('_');g(k.length<=2);return k.pop();}};e.exports=i;});
__d("AdsCFDestinationDataLoader",["AdsCFAccountStore","AdsCFActionTypes","AdsDispatcher","ads-lib-pagePostUtils","ads-lib-urllib"],function(a,b,c,d,e,f,g,h,i,j,k){var l=3;function m(r){var s=[];r&&r.forEach(function(t){t.id=j.getPostIdBestGuess(t.id);s.push(t);});return s;}function n(r){if(r){var s=r.split(/\s+/);for(var t=0;t<s.length;t++)if(k.isUrl(s[t]))return s[t];}}function o(r,s){i.handleUpdateFromServerResponse({actionType:h.POST_LINK_DATA_LOADED,storyId:r,data:s});}function p(r){i.handleUpdateFromServerResponse({actionType:h.PAGE_POSTS_LOAD_COMPLETE,requestId:r});}var q={fetchPagePosts:function(r,s,t,u){u=u||0;t=t||[];var v=t.length;if(u>l){p(r);return;}var w=g.getDao();function x(y){if(!y||!y.length){p(r);return;}t.push.apply(t,m(y));i.handleUpdateFromServerResponse({actionType:h.PAGE_POSTS_LOADED,apiData:t,requestId:r});this.fetchPagePosts(r,s,t,u+1);}w.fetch.pagePromotablePostsForConnectionObject.one(x.bind(this),{objectId:s,until:v?t[v-1].updated_time:null,handleError:p.bind(r),fields:['message','picture','full_picture','link','name','description','type','is_published','comments.summary(true)','icon','is_popular','likes.summary(true)','object_id','scheduled_publish_time','shares','story','updated_time']});},fetchPostLinkData:function(r,s,t){var u=s&&s.type,v=null;if(u=='link'){v=s.link;}else if(['photo'].indexOf(u)!==-1)v=n(s.message);if(!v){t&&t(null);return;}var w=g.getDao();function x(){o(r,null);t&&t(null);}function y(z){var aa=null,ba=z&&z[0];if(ba&&ba.id&&ba.type)aa=ba;o(r,aa);t&&t(aa);}w.fetch.adsDestinationInfo.one(y,{object_url:v,handleError:x});}};e.exports=q;});
__d("AdsModelAdapterMixin",["bolt/util","AdsUtils","mergeInto","bolt/mixins/events","bolt/model"],function(a,b,c,d,e,f,g,h,i){var j=b('bolt/mixins/events').Events,k=b('bolt/model').Model,l={isModelAdapter:true,isBaseProperty:function(m){return g.getter(m) in this;},getSafe:function(m){return this[g.getter(m)]();},setSafe:function(m,n,o){return this[g.setter(m)](n,o);},get:function(m){return this.getSafe(m);},set:function(m,n){return this.setSafe(m,n,false);},unset:function(m,n){this.setSafe(m,null,n);},merge:function(m,n){m=m instanceof k?m._properties:m;for(var o in m)if(typeof m[o]!=='function')this.setSafe(o,m[o],n);},invokeChanged:function(m){this.invoke('changed',{model:this,changedProperties:m});},_getApiSpecForFields:function(m){var n={};for(var o=0;o<m.length;o++)n[h.underscoreKey(m[o])]=this.getSafe(m[o]);return n;},_setApiSpecForFields:function(m,n){var o={};for(var p=0;p<m.length;p++)if(n[h.underscoreKey(m[p])]!==undefined)o[m[p]]=n[h.underscoreKey(m[p])];this.merge(o);}};i(l,j);e.exports=l;});
__d("AdsCFCreativePlacementUtils",["AdsAccountCapabilities","ads-app-platforms","AdsCFAccountStore","AdsCFConstants","AdsCreationExperiments","ApiCreativeTypes","adsGKCheck","invariant","AdCreativeType"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=j.PlacementCannotDisableReason,p=j.PlacementID,q=j.PlacementStates,r=b('AdCreativeType').AD_CREATIVE_TYPE,s=h.APP_PLATFORM;function t(ja){var ka=0;Object.keys(p).forEach(function(la){if(z(ja,la))ka++;});return ka>1;}function u(ja){var ka=aa(ja);return Object.keys(ka).some(function(la){return v(ja,la);});}function v(ja,ka){return da(ja,ka)===q.ENABLED;}function w(ja){return (!v(ja,p.NEWS_FEED)&&!v(ja,p.MOBILE_NEWS_FEED));}function x(){return [p.NEWS_FEED,p.MOBILE_NEWS_FEED,p.RHC,p.FAN];}function y(ja){return x().filter(function(ka){return z(ja,ka);});}function z(ja,ka){var la=da(ja,ka);return la!==q.NOT_SUPPORTED;}function aa(ja){var ka=ja.placements;if(!ka){ka={};Object.keys(p).forEach(function(la){ka[la]=da(ja,la);});}return ka;}function ba(ja,ka){var la=false;for(var ma in p)if(ma!==ka&&ia.isPlacementEnabled(ja,ma)){if(ma===p.FAN){la=true;continue;}return o.NONE;}return la?o.ONLY_PLACEMENT_EXCEPT_FAN:o.ONLY_PLACEMENT;}function ca(ja,ka){switch(ja.creativeType){case l.INLINE_RSVP:case l.PLATFORM_CONTEXT:return ka===p.RHC;case l.CONTEXTUAL_APP_AD:if(ja.mobileStore===h.MOBILE_STORE.FB_CANVAS){return ka===p.RHC||ka===p.NEWS_FEED;}else if(ia.isThirdPartyMobileAppPlacementEnabled())return ka===p.MOBILE_NEWS_FEED||ka===p.FAN;return ka===p.MOBILE_NEWS_FEED;case r.NEKO_LPP:if(ja.platform===s.DESKTOP_CANVAS){return ka===p.RHC||ka===p.NEWS_FEED;}else if(ia.isThirdPartyMobileAppPlacementEnabled())return ka===p.MOBILE_NEWS_FEED||ka===p.FAN;return ka===p.MOBILE_NEWS_FEED;default:if(ga())return ka!==p.FAN;return ka!==p.MOBILE_NEWS_FEED&&ka!==p.FAN;}}function da(ja,ka){n(ka in p);var la=ja.placements||{},ma=la[ka];if(ma)return ma;if(!ca(ja,ka)){ma=q.NOT_SUPPORTED;}else if(ka===p.FAN&&ea()){ma=q.DISABLED;}else ma=q.ENABLED;return ma;}function ea(){return i.hasAccountCapability(g.FAN_PLACEMENT_NON_DEFAULT);}function fa(){return (m('neko_mobile_external_page_type')||i.hasAccountCapability(g.CAN_USE_MOBILE_EXTERNAL_PAGE_TYPE));}function ga(){return m('ads_cf_mobile_previews');}function ha(){if(!m('ads_cf_mbasic_default'))return false;var ja=k.getExperiment('ads_cf_mbasic_default');ja.logExposure();return !!ja.getParam('show');}var ia={canDisable:ba,getDefaultPlacementOrder:x,getPlacementsState:aa,getSupportedPlacements:y,hasEnabledPlacement:u,hasMultiplePlacements:t,isMBasicDefaultExperimentEnabled:ha,isMobileExperimentEnabled:ga,isNewsFeedDisabled:w,isPlacementEnabled:v,isPlacementSupported:z,isThirdPartyMobileAppPlacementEnabled:fa};e.exports=ia;});
__d("AdsCFDateUtils",[],function(a,b,c,d,e,f){var g={parseISODate:function(h){var i=h.split('T'),j=i[0].split('-'),k=j[0],l=j[1]-1,m=j[2],n=i[1].split(':'),o=parseInt(n[0],10),p=parseInt(n[1],10),q=n[2],r,s,t,u,v;if(n.length===4)v=n[3];var w=false,x=[/\+/,/\-/,/Z/];x.forEach(function(z,aa){if(q.match(z)){r=q.split(z);w=aa===1;s=parseInt(r[0],10);t=r[1];}});if(!t){u=0;v=0;}else{u=t.slice(0,2);if(!v)v=t.slice(-2);}if(w){u=u*-1;v=v*-1;}var y=new Date(Date.UTC(k,l,m,o,p,s));y.setUTCHours(y.getUTCHours()-parseInt(u,10));y.setUTCMinutes(y.getUTCMinutes()-parseInt(v,10));return y;}};e.exports=g;});
__d("AdsCreativeUtils",["AdsAPIObjectives","ads-app-platforms","AdsCallToActionTypes","AdsCFDateUtils","AdsCreateFlowConfig","AdsCreationConfig","AdsDestinationTypes","AdsImage","ads-lib-formatters","PagePostTypes","ads-lib-pagePostUtils","URI","adsGKCheck","areEqual","keyMirror","merge","bolt/util","tx","AdCreativeType"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){var y=b('AdCreativeType').keyToType,z=3;function aa(qa,ra){return t(qa,ra);}function ba(qa){qa=ca(qa).concat(qa);var ra={};return qa.filter(function(sa){if(!sa.is_published&&!sa.scheduled_publish_time)return false;if(sa.type===p.STATUS&&!sa.message)return false;if(ra[sa.id])return false;ra[sa.id]=true;return true;});}function ca(qa){var ra=[];for(var sa=0;sa<qa.length;sa++){if(qa[sa].is_popular)ra.push(qa[sa]);if(ra.length===z)break;}return ra;}function da(qa){if(!qa||qa.type!==p.OFFER||!qa.is_published)return false;var ra=qa.expiration_timestamp;return (typeof ra==='number')?ra<Date.now()/1000:false;}function ea(qa,ra){if(!qa||!ra)return null;var sa;for(var ta=0;ta<ra.length;ta++){sa=q.getPostIdBestGuess(ra[ta].id);if(sa===qa)return ra[ta];}return null;}function fa(qa){return (qa.comments&&qa.comments.summary&&qa.comments.summary.total_count)||0;}function ga(qa){var ra=ha(qa);if(qa.type===p.PHOTO)ra=qa.name&&qa.message?qa.name+" - "+qa.message:ra;var sa=oa(ra);if(this.getIsPagePostExpiredOffer(qa))sa+=' ('+"Expired"+')';return sa;}function ha(qa){var ra=qa.name||qa.message||qa.story||'';return ra.replace(/(\r\n|\n|\r)/gm,'');}function ia(qa){if(!qa.created_time)return 0;return j.parseISODate(qa.created_time).getTime()/1000;}function ja(qa){var ra;if(qa instanceof n){ra=qa.getThumbnailUrl()||qa.getPreviewUrl()||qa.getUrl();}else ra=qa;return ra;}function ka(qa){return (qa.likes&&qa.likes.summary&&qa.likes.summary.total_count)||0;}function la(qa){return (qa.shares&&qa.shares.count)||0;}function ma(qa,ra,sa){var ta='FEED_URL';switch(qa){case m.PAGE:case m.PLACE:if(ra===g.POST_ENGAGEMENT||ra===g.OFFER_CLAIMS){ta='AD_PAGE_POST';}else if(ra===g.LOCAL_AWARENESS){ta='FEED_URL';}else ta='AD_FAN_LIKE';break;case m.APP:if(s('ads_cf_neko_lpp')){ta='NEKO_LPP';break;}var ua=(ra===g.WEBSITE_CLICKS&&sa&&sa.destinationDetails&&sa.destinationDetails.isAppStoreMedia&&s('neko_media_ads_cf'));if(ra===g.MOBILE_APP_INSTALLS||ua){ta='MOBILE_APP_INSTALL';}else if(ra===g.MOBILE_APP_ENGAGEMENT){ta='MOBILE_APP_ENGAGEMENT';}else if(ra===g.CANVAS_APP_INSTALLS||ra===g.CANVAS_APP_ENGAGEMENT){ta='CANVAS_APP_INSTALL_ENGAGEMENT';}else ta='AD_APPLICATION';break;case m.EVENT:ta='AD_EVENT_RSVP';break;}var va=u({AD_FAN_LIKE:null,AD_APPLICATION:null,AD_EVENT_RSVP:null}),wa=v(y[ta]);wa.isAdminOnly=!!va[ta];return wa;}var na=function(qa,ra){var sa,ta,ua;if(w.isObject(qa))for(var va in qa){if(!qa.hasOwnProperty(va))continue;var wa=r(va),xa=wa.getQueryData().sk;if(xa==='timeline'){sa=ra;}else if(xa==='wall'){ta=va;}else if(!ua)ua=va;}return sa||ta||ua||ra;},oa=o.createTextTruncator(k.MAX_PAGE_POST_LEN,"No message");function pa(qa,ra){return r('https://graph.facebook.com/act_'+qa+'/adimages').addQueryData({hashes:[ra],redirect:true}).toString();}e.exports={filterPagePosts:ba,getDefaultLinkURL:na,getImageURLFromHash:pa,getIsPagePostExpiredOffer:da,getPagePostFromStoryId:ea,getPostCommentCount:fa,getPostContent:ga,getPostDate:ia,getPostImageURL:ja,getPostLikeCount:ka,getPostShareCount:la,getPrimaryCreativeConfig:ma,getRawPostContent:ha,isSameCreativeSpec:aa};});
__d("AdsCFCreativeUtils",["AdsAPIObjectives","ads-app-platforms","AdsCallToActionTypes","AdsCFConstants","AdsCFCreativeProperties","AdsCFCreativeViewActions","AdsCFDestinationUtils","AdsCreationConfig","AdsCreativeUtils","AdsImage","ApiCreativeTypes","ads-lib-formatters","adsGKCheck","fbt","mergeInto","AdCreativeType"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v=b('AdCreativeType').AD_CREATIVE_TYPE;function w(ha){return {id:''+ha.id,name:ha.name||(''+ha.id),globalBrandName:ha.global_brand_page_name||(''+ha.id),picture:(ha.picture&&ha.picture.data&&ha.picture.data.url)||'https://graph.facebook.com/'+ha.id+'/picture',published:!!ha.is_published,detail:ha.category||'',stats:!ha.likes?'':t._("{Number} Likes",[t.param("Number",ha.likes)]),userPermissions:(ha.userpermissions&&ha.userpermissions.data)||[]};}function x(ha){var ia={category:ha.category,global_brand_page_name:ha.name,id:ha.id,is_published:true,link:ha.link,name:ha.name,picture:{data:{url:ha.picture}}};return w(ia);}function y(ha,ia){if(!ia)return true;var ja=k.idToType[ha.creativeType].validFields;return ja.some(function(ka){return ia[ka]!==ha[ka];});}function z(ha){var ia=ha.imageList;if(Array.isArray(ia)&&ia.length){var ja={};u(ja,ha);ja.imageList=ia.map(function(ka){return ka.toJSON();});return ja;}return ha;}function aa(ha){var ia=ha.imageList;if(Array.isArray(ia)&&ia.length)ha.imageList=ia.map(function(ja){return new p({hash:ja.hash,url:ja.url,width:ja.width,height:ja.height});});return ha;}function ba(ha){return ha!==q.PAGE_POSTS_V2;}function ca(ha){l.setStoryId(j.CreativeID.PRIMARY,ha.value);}var da=r.createTextTruncator(n.maxBodyLength),ea=r.createTextTruncator(n.maxTitleLength),fa=r.createTextTruncator(n.maxDeepLinkTitleLength);function ga(ha,ia,ja,ka,la,ma){var na=ma.title||la.destinationTitle,oa=ma.body||la.destinationSummary,pa;if(la.destinationImages&&!la.destinationImages.isEmpty()){pa=la.destinationImages.getImageByIndex(0).getUrl();}else if(ha===v.CONTEXTUAL_APP_AD){pa=null;}else pa=la.destinationPicture;var qa=h.getNativeMobileApps(la.nativeAppStoreIds),ra=ma.imageList,sa=ma.imageUrl||pa;if(sa&&!(ra&&ra.length))ra=[new p({url:ma.imageUrl||pa})];var ta=null;if(ha===v.CONTEXTUAL_APP_AD&&(ia===g.CANVAS_APP_INSTALLS||ia===g.CANVAS_APP_ENGAGEMENT)){ta=h.MOBILE_STORE.FB_CANVAS;}else ta=(qa.length&&qa[0].value);var ua=null;if(ha===v.CONTEXTUAL_APP_AD){switch(ia){case g.CANVAS_APP_INSTALLS:case g.CANVAS_APP_ENGAGEMENT:ua=ma.linkUrl;break;default:break;}}else if(ha===v.PLATFORM_CONTEXT){switch(ia){case g.CANVAS_APP_INSTALLS:case g.CANVAS_APP_ENGAGEMENT:ua=ma.linkUrl||o.getDefaultLinkURL(la.tabs,la.destinationUrl);break;default:break;}}else if((ia===g.WEBSITE_CLICKS||ia===g.WEBSITE_CONVERSIONS)&&la.originalObjectUrl){ua=la.originalObjectUrl;}else ua=ma.linkUrl||o.getDefaultLinkURL(la.tabs,la.destinationUrl);if(ha===v.NEKO_LPP)ua=m.getAppUrlForPlatform(la,la.appPlatforms[0]);var va=la.relatedFanPage||ma.relatedFanPage,wa={body:da(oa),iconImage:new p({url:ma.iconImageUrl||la.destinationPicture}),imageList:ra,imageUrl:sa,linkUrl:ua,mobileProductName:(ia===g.MOBILE_APP_ENGAGEMENT)?fa(na):null,mobileStore:ma.mobileStore||ta,objectId:ja,relatedFanPage:va,showRelatedFanPage:!!va,storyId:ma.storyId||ka,title:ea(na)};if(ia===g.MOBILE_APP_INSTALLS&&(s('neko_cta_for_install_ad')||s('neko_app_link_for_install_ad'))){wa.callToActionType=i.TYPES.INSTALL_MOBILE_APP.name;}else if(ia===g.MOBILE_APP_ENGAGEMENT)wa.callToActionType=i.TYPES.USE_APP.name;return wa;}e.exports={convertPageApiSpecToActor:w,convertNewPageResultToActor:x,creativeTypeHasImage:ba,getDefaultCreativeData:ga,handleChangeForStoryID:ca,hasCreativeChanged:y,serializeCreativeState:z,deserializeCreativeState:aa};});
__d("isNumberLike",[],function(a,b,c,d,e,f){function g(h){return !isNaN(parseFloat(h))&&isFinite(h);}e.exports=g;});
__d("AdsCFDestinationStore",["AdsActionTypes","AdsAPIObjectives","ads-app-platforms","AdsCFAccountStore","AdsCFActionTypes","AdsCFConstants","AdsCFDestinationDataLoader","AdsCFPrimedDao","AdsCFDestinationUtils","AdsDestinationTypes","AdsDispatcher","ads-objectives","AdsPayloadSource","Arbiter","PagePostTypes","SearchableEntry","adsGKCheck","copyProperties","isNumberLike","merge","ads-lib-urllib","AdsCreativeUtils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){var ba=r.KPIObjectivesByDestinationType,ca=l.DestinationSelectionSource.SINGLE_OBJECT_PREFILL,da={},ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa=false;function qa(){ea={};fa=null;ga=null;ha=false;ia=null;ja=false;ka=null;la=false;ma=[];oa={};}qa();function ra(wa){return wa.requestId>=na;}function sa(){la=false;ma=[];na=na+1||0;if(ga===p.PLACE||ga===p.PAGE)m.fetchPagePosts(na,fa);}function ta(wa,xa,ya,za){var ab=j.getAccountID(),bb=n.getInstanceForAccount(ab),cb=function(fb,gb,hb){q.handleUpdateFromViewAction({actionType:k.DESTINATION_FETCH_ERROR,entityID:hb.object_id,entityURL:hb.object_url});};if(za&&(za.type===p.EXTERNAL_WEBPAGE))wa=null;var db=z(ya,{account_id:ab,handleError:cb});if(wa){db.object_id=wa;}else if(!xa||!xa.length){ia={entityID:l.ErrorEntityID,searchableEntry:za};return;}else if(y(xa)){db.object_id=xa.replace(/^0+/,'');}else if(aa.isUrlSimple(xa))db.object_url=aa.normalize(xa);var eb=function(fb){var gb=fb&&fb.length&&fb[0];if(!gb||!gb.id){ia=oa;oa={};va.inform('change');return;}var hb=o.convertAPIDataToFields(gb);if(!va.hasPendingEntity())return;var ib;if(oa.entityID)ib=!((oa.entityID===hb.destinationId)||(oa.entityID===hb.storyId));var jb=oa.entityURL&&oa.entityURL!==hb.originalObjectUrl;if(ib||jb)return;var kb=hb.destinationType,lb=hb.destinationId;delete hb.destinationType;delete hb.destinationId;q.handleUpdateFromViewAction({actionType:k.DESTINATION_CHANGE,destinationType:kb,destinationID:lb,destinationDetails:hb,destSource:ja?l.DestinationSelectionSource.SINGLE_OBJECT_PREFILL:l.DestinationSelectionSource.USER_SELECTED});};oa={entityID:db.object_id,entityURL:db.object_url,searchableEntry:za};bb.fetch.adsDestinationInfo.one(eb,db);}function ua(){var wa=j.getAccountID(),xa=n.getInstanceForAccount(wa);xa.fetch.connectionObjectsForAccount.one(function(ya){var za=ya.data.filter(function(cb){var db=ba[cb.type];return db&&db.indexOf(ka)>-1;}),ab=za[0];if(za.length===1){var bb=new v({uniqueID:ab.id,title:ab.name,photo:ab.picture,subtitle:ab.category});bb.id=ab.id;q.handleUpdateFromServerResponse({actionType:k.KPI_DESTINATION_SELECT,destinationEntry:bb,source:ca});}});}var va=x(new t(),{hasLoadedInitialDestinationDetails:function(){return pa;},getCachedPostLinkData:function(wa){return wa?da[wa]:null;},getDestinationDetails:function(){return ea;},getDestinationID:function(){return fa;},getDestinationType:function(){if((ka===r.KPIObjectives.WEBSITE_CLICKS||ka===r.KPIObjectives.WEBSITE_CONVERSIONS)&&(ea.originalObjectUrl||ea.destinationUrl))return p.EXTERNAL_WEBPAGE;return ga;},getDestinationTypeIgnoringKPI:function(){return ga;},getHasDesktopCanvas:function(){var wa=this.getDestinationDetails().appPlatforms;return i.supportsDesktop(wa);},getHasLoadCompleted:function(){return la;},getHasNativeMobileApp:function(){var wa=this.getDestinationDetails().appPlatforms;return i.supportsNativeMobile(wa);},getIsDestinationAppStoreMedia:function(){return (this.getDestinationDetails().isAppStoreMedia&&w('neko_media_ads_cf'));},getIsObjectiveAppStoreMedia:function(wa){return (this.getIsDestinationAppStoreMedia()&&wa===h.WEBSITE_CLICKS);},getPagePostDetails:function(wa){var xa;for(var ya=0;ya<ma.length;++ya){xa=ma[ya];if(xa.id===wa)return xa;}return {};},getPagePosts:function(){return ma;},getPagePostsForKPI:function(){if(!ma||!ma.length)return ma;if(ka===r.KPIObjectives.OFFER_CLAIMS)return ma.filter(function(wa){return wa.type===u.OFFER;});return ma;},getDestinationForTypeahead:function(){if(!this.hasPendingEntity()&&this.hasPromotableDestinationEntity()&&!this.hasDestination())return null;var wa=oa&&oa.searchableEntry,xa=ia&&ia.searchableEntry;if(wa||xa)return wa||xa;return o.convertToSearchableEntry(fa,ea,ka);},getDefaultStoryIDForCreative:function(){var wa,xa=this.getPagePostsForKPI();if(xa.length)wa=ea.storyId||xa[0].id;return wa;},hasDestination:function(){return !!fa;},hasPromotableDestinationEntity:function(){return !ia;},hasPendingEntity:function(){return Object.keys(oa).length>0;},isInvalidDestinationInput:function(){return (ia&&ia.entityID===l.ErrorEntityID);},isSingleObjectPrefill:function(){return ja;},isMobilePlatformOnlyApp:function(){if(ga!==p.APP)return false;return (this.getHasNativeMobileApp()&&!this.getHasDesktopCanvas());},isMultiPlatformApp:function(){if(ga!==p.APP)return false;return (this.getHasNativeMobileApp()&&this.getHasDesktopCanvas());},dispatchToken:q.register(function(wa){va.onDispatchToken(wa);}),onDispatchToken:function(wa){var xa=wa.action;switch(xa.actionType){case k.DESTINATION_FETCH_ERROR:if(xa.entityID===oa.entityID||xa.entityURL===oa.entityURL){ia=oa;oa={};va.inform('change');}break;case k.DESTINATION_SELECT:case k.KPI_DESTINATION_SELECT:var ya,za;if(xa.actionType===k.KPI_DESTINATION_SELECT){ya=xa.destinationEntry.id;za=xa.destinationEntry.getTitle();ja=(xa.source===ca);}else{ya=xa.entityID;za=xa.typeaheadInput;}ta(ya,za,xa.queryParams,xa.destinationEntry);va.inform('change');break;case k.DESTINATION_CHANGE:pa=true;var ab=xa.destinationID!==fa||xa.destinationType!==ga;if(xa.destinationID){fa=xa.destinationID;oa={};}if(xa.destinationType)ga=xa.destinationType;if(xa.destinationDetails)x(ea,xa.destinationDetails);ha=!ka;ab&&sa();va.inform('change');break;case k.NEW_PAGE_DESTINATION_SELECT:ta(xa.pageInfo.id,null,null,null);break;case k.KPI_OBJECTIVE_CHANGE:if(xa.source===l.ObjectiveChangeSource.OBJECTIVE_SELECTOR&&!ha){qa();ua();va.inform('change');}ka=xa.kpiObjective;break;case k.OBJECTIVE_CHANGE:if(wa.payloadsource!==s.SERVER_RESPONSE)break;var bb=xa.objectiveType;if(va.getIsObjectiveAppStoreMedia(bb)){ka=r.KPIObjectives.APP_STORE_MEDIA_VISITS;}else ka=r.APItoKPIObjectives[bb];if(va.hasDestination())ha=!ka;break;case k.PAGE_POSTS_PUBLISHED:j.getDao().fetch.pagePromotablePostsForConnectionObject.clearCache();la=false;ma=[];ea.storyId='';m.fetchPagePosts(++na,fa);va.inform('change');break;case k.PAGE_POSTS_LOADED:if(!ra(xa))return;ma.push.apply(ma,xa.apiData);ma=b('AdsCreativeUtils').filterPagePosts(ma);va.inform('change');break;case k.POST_LINK_DATA_LOADED:var cb=xa.data;if(!cb)break;da[xa.storyId]={id:cb.id,type:cb.type,objective:cb.default_objective,url:cb.original_object_url};va.inform('change');break;case k.PAGE_POSTS_LOAD_COMPLETE:if(!ra(xa))return;la=true;va.inform('change');break;case g.PAGE_TRANSITION:pa=false;qa();break;case k.RESET_DESTINATION:var db=ka;qa();ka=db;va.inform('change');break;}}});e.exports=va;});
__d("AdsCFObjectiveUtils",["AdsAPIObjectives","AdsCFApplicationStore","AdsCFConstants","AdsCFDestinationStore","AdsCFDestinationUtils","AdsCreativeUtils","AdsDestinationTypes","ads-objectives","ApiCreativeTypes","OcpmAdConfig","AdsAPISpec"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=b('AdsAPISpec').BID_INFO_FIELDS,r=n.APIObjectivesWithRequiredStoryID;function s(aa,ba,ca){var da=ca.storyID,ea=ca.pagePosts,fa=ca.destinationType,ga=r.indexOf(aa)>-1,ha;if(ga){var ia=l.getPagePostFromStoryId(da,ea);ha=l.getIsPagePostExpiredOffer(ia);}var ja=ba.offerEligible,ka=k.isUnpublishedPage(fa,ba);return {isUnpublishedPage:ka,requiresStoryID:ga,storyID:da,offerEligible:ja,offerExpired:ha,noPosts:!ea.length};}function t(aa,ba,ca,da,ea){if(h.getDataState()!==i.DataStates.SUCCESS)return false;var fa=s(aa,da,ea);if(!ba||!ca||fa.isUnpublishedPage||da.isBlackholed||(fa.requiresStoryID&&(!fa.storyID||fa.offerExpired||fa.noPosts))||(aa===g.MOBILE_APP_ENGAGEMENT&&!da.isAdmin)||(aa===g.OFFER_CLAIMS&&!fa.offerEligible)||(!da.isAdmin&&(aa===g.PAGE_LIKES||aa===g.EVENT_RESPONSES)))return false;return true;}function u(aa,ba,ca,da,ea,fa){if(h.getDataState()===i.DataStates.FAILURE)return true;var ga=s(aa,ea,fa);if(!ca||!da||ga.isUnpublishedPage||ea.isBlackholed||(ga.requiresStoryID&&ga.offerExpired)||(aa===g.MOBILE_APP_ENGAGEMENT&&!ea.isAdmin)||(aa===g.OFFER_CLAIMS&&ba&&!ga.offerEligible))return true;return false;}function v(aa,ba,ca){var da={};if(aa===g.MOBILE_APP_INSTALLS&&ca){da[q.CLICKS]=ba*p.clicksMultiplier;}else if(aa===g.DEPRECATED_CLICKS){da[q.CLICKS]=ba*p.clicksMultiplier;}else da[q.ACTIONS]=ba;return da;}function w(aa){if(!aa)return null;var ba=null;if(aa instanceof Array){for(var ca=0;ca<aa.length;++ca){var da=aa[ca];if(da.offsite_pixel){ba=da.offsite_pixel;break;}}}else if(aa.offsite_pixel)ba=aa.offsite_pixel;if(ba instanceof Array)return ba[0];return ba;}function x(aa,ba){var ca=w(ba);if(!ca)ca=w(aa);return ca;}function y(aa,ba,ca){switch(aa){case m.PAGE:case m.PLACE:return ba===o.PAGE_POSTS_V2?g.POST_ENGAGEMENT:g.PAGE_LIKES;case m.APP:return ba===o.CONTEXTUAL_APP_AD?g.MOBILE_APP_INSTALLS:g.CANVAS_APP_INSTALLS;case m.EVENT:return g.EVENT_RESPONSES;}return g.DEPRECATED_CLICKS;}function z(){if(j.getHasNativeMobileApp())return g.MOBILE_APP_INSTALLS;var aa=j.getDestinationDetails();if(aa.defaultObjective)return aa.defaultObjective;var ba=j.getDestinationType();if(!ba)return g.NONE;switch(ba){case m.PAGE:case m.PLACE:return g.PAGE_LIKES;case m.APP:return g.CANVAS_APP_INSTALLS;case m.EVENT:return g.EVENT_RESPONSES;default:return g.DEPRECATED_CLICKS;}}e.exports={canContinue:t,canNeverContinue:u,getDefaultObjectiveType:z,getInferredObjective:y,objectiveToDefaultBidInfo:v,getTrackingPixelIDs:x,getTrackingPixelIDsFromSpecs:w};});
__d("AdsCFCampaignGroupLoader",["AdsAPISpec","AdsCFAccountStore","AdsCFActionTypes","AdsDispatcher"],function(a,b,c,d,e,f,g,h,i,j){function k(m,n){j.handleUpdateFromServerResponse({actionType:i.CAMPAIGN_GROUPS_LOADED,campaignGroupAPISpecs:m});if(n)n(k);}var l={loadAll:function(){h.getDao().fetch.campaignGroupsForAccount.paged(k,{fields:g.CAMPAIGN_GROUP_FIELDS});}};e.exports=l;});
__d("AdsCFNamingUtils",["ads-lib-formatters","AdsObjectivesConfig","fbt"],function(a,b,c,d,e,f,g,h,i){var j=30,k={generateCampaignGroupName:function(l,m){var n=h.getShortName(m);if(!l)return n;var o=g.chopString(l.replace(/^https?:\/\//i,''),j,"...");return i._("{destination} - {objective}",[i.param("destination",o),i.param("objective",n)]);}};e.exports=k;});
__d("AdsCFCampaignGroupStore",["AdsAPIObjectives","AdsActionTypes","AdsCFAccountStore","AdsCFActionTypes","AdsCFCampaignGroupLoader","AdsCFConstants","AdsCFDestinationStore","AdsCFNamingUtils","AdsCFObjectiveStore","AdsDispatcher","Arbiter","ImmutableObject","copyProperties","invariant","whitelistObjectKeys"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v=l.CampaignGroupRunStatuses,w=l.NEW_CAMPAIGN_GROUP_ID,x,y=false,z;function aa(){x=new r();var ia=new r({id:w,isNew:true,name:null,objective:g.NONE,status:v.ACTIVE});x=r.setProperty(x,w,ia);da(w);}aa();function ba(){y=true;k.loadAll();}function ca(ia){var ja=u(ia,{name:null});fa(ia.id,ja);}function da(ia){t(ia in x);z=ia;}function ea(){p.waitFor([m.dispatchToken,o.dispatchToken]);var ia=m.getDestinationDetails().destinationName,ja=o.getKPIObjective();if(!ja)return null;var ka=n.generateCampaignGroupName(ia,ja);fa(w,{name:ka});return ka;}function fa(ia,ja){x=r.setProperty(x,ia,r.set(x[ia],ja));}function ga(ia){x=r.set(x,ha._parseUpdates(ia));}var ha=s(new q(),{dispatchToken:p.register(function(ia){p.waitFor([i.dispatchToken]);var ja=ia.action;switch(ja.actionType){case j.ACCOUNT_INIT:if(!y)ba();break;case j.CAMPAIGN_GROUPS_LOADED:ga(ja.campaignGroupAPISpecs);break;case j.CAMPAIGN_GROUP_SELECT:da(ja.id);ha.inform('change');break;case j.CAMPAIGN_GROUP_SELECT_AND_UPDATE:da(ja.id);ca(ja);ha.inform('change');break;case j.CREATE_SIMILAR_AD:if(ha.getSelectedState().id===w){var ka=r.set(ha.getSelectedState(),{id:ja.campaignGroupID,isNew:false,objective:o.getObjectiveType(),campaign_group_status:v.ACTIVE});ga([ka]);da(ja.campaignGroupID);ha.inform('change');}break;case j.DESTINATION_CHANGE:if(ea())ha.inform('change');break;case j.KPI_OBJECTIVE_CHANGE:case j.OBJECTIVE_CHANGE:if(ea()){da(w);ha.inform('change');}break;case j.CAMPAIGN_GROUP_LOAD:ga([ja.campaignGroupApiSpec]);ha.inform('change');break;case h.PAGE_TRANSITION:aa();break;}}),getAllStates:function(){return x;},getValidExistingCampaignGroups:function(ia){var ja=[],ka=[],la;for(var ma in x){la=x[ma];if(!la.isNew){if(la.objective===ia)ja.push(la);if(la.objective===g.NONE)ka.push(la);}}return new r({matchingObjective:ja,noneObjective:ka});},getNewCampaignGroup:function(){return this.getState(w);},getSelectedState:function(){return this.getState(z);},getState:function(ia){return x[ia];},_createCampaignGroup:function(ia){return new r({id:ia.id,isNew:false,name:ia.name,objective:ia.objective,status:ia.campaign_group_status});},_parseUpdates:function(ia){var ja={};ia.forEach(function(ka){ja[ka.id]=this._createCampaignGroup(ka);},this);return ja;}});e.exports=ha;});
__d("AdsCFObjectiveStore",["AdsActionTypes","AdsAPIObjectives","AdsCFActionTypes","AdsCFDestinationStore","AdsCFObjectiveUtils","AdsCFUIObjectives","AdsDispatcher","ads-objectives","AdsPayloadSource","Arbiter","copyProperties","AdsCFCampaignGroupStore"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=n.APItoKPIObjectives,s=n.KPItoAPIObjectives,t,u,v,w;function x(){t=false;u=false;v=null;w=h.NONE;}x();var y=q(new p(),{getIsKPIObjectiveManuallySet:function(){return t;},getIsObjectiveManuallySet:function(){return u;},getKPIObjective:function(){return v;},getObjectiveType:function(){return w;},dispatchToken:m.register(function(z){y.onDispatchToken(z);}),onDispatchToken:function(z){var aa=z.action;switch(aa.actionType){case i.RESET_DESTINATION:case i.DESTINATION_CHANGE:m.waitFor([j.dispatchToken]);if(t||u)if(v===l.APP_INSTALLS){w=k.getDefaultObjectiveType();}else if(v===l.APP_ENGAGEMENT)if(j.isMobilePlatformOnlyApp()){w=h.MOBILE_APP_ENGAGEMENT;}else w=s[v];y.inform('change');break;case i.OBJECTIVE_CHANGE:w=aa.objectiveType;u=true;if(j.getIsObjectiveAppStoreMedia(w)){v=l.APP_STORE_MEDIA_VISITS;}else v=r[w];y.inform('change');break;case i.CAMPAIGN_GROUP_SELECT:case i.CAMPAIGN_SELECT:if(z.payloadsource===o.URL_PARAM_LOAD){var ba=b('AdsCFCampaignGroupStore');m.waitFor([ba.dispatchToken]);var ca=ba.getSelectedState().objective;if(ca===h.NONE)break;w=ca;v=n.APItoKPIObjectives[ca];y.inform('change');}break;case i.KPI_OBJECTIVE_CHANGE:m.waitFor([j.dispatchToken]);v=aa.kpiObjective;t=true;if(v===l.APP_INSTALLS&&j.hasDestination()){w=k.getDefaultObjectiveType();}else if(v===l.APP_ENGAGEMENT&&j.isMobilePlatformOnlyApp()){w=h.MOBILE_APP_ENGAGEMENT;}else w=s[v];y.inform('change');break;case g.PAGE_TRANSITION:x();break;}}});e.exports=y;});
__d("AdsCFUserStore",["AdsDispatcher","Arbiter","AdsCFActionTypes","copyProperties"],function(a,b,c,d,e,f,g,h,i,j){var k,l;function m(){k=[];l=[];}m();var n=j(new h(),{getAllActors:function(){return k;},getAvailableActors:function(){return l;},dispatchToken:g.register(function(o){var p=o.action;switch(p.actionType){case i.CHANGE_ACTORS:l=p.availableActors?p.availableActors.slice(0):[];k=p.allActors?p.allActors.slice(0):l.slice(0);n.inform('change');break;case i.ADD_ACTOR:p.actor.published=true;k.push(p.actor);l.push(p.actor);n.inform('change');break;case i.NEW_PAGE_DESTINATION_SELECT:var q=p.pageInfo;k.push(q);l.push(q);n.inform('change');break;}})});e.exports=n;});
__d("AdsCFCreativeStore",["AdCreativeType","AdImageSpecsUtils","AdsActionTypes","AdsAPIObjectives","AdsCFActionTypes","AdsCFConstants","AdsCFApplicationStore","AdsCFCreativePlacementUtils","AdsCFCreativeProperties","AdsCFCreativeUtils","AdsCFCreativeViewActions","AdsCFDestinationDataLoader","AdsCFDestinationStore","AdsCFObjectiveStore","AdsCFUserStore","AdsCreationConfig","AdsCreativeUtils","AdsDestinationTypes","AdsDispatcher","ApiCreativeTypes","Arbiter","copyProperties","invariant","merge","whitelistObjectKeys"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){'use strict';var fa=n.getPlacementsState,ga=n.hasEnabledPlacement,ha=n.isPlacementSupported,ia=g.AD_CREATIVE_TYPE,ja=l.PlacementID,ka=l.PlacementStates,la=l.CreativeID.PRIMARY,ma=l.CreativeID.SECONDARY,na,oa,pa;function qa(){na={};na[la]={};na[ma]={};oa={};pa=false;}qa();function ra(ib,jb){na[ib]=da(na[ib],jb);}function sa(ib,jb){var kb={apiCreativeID:null,creativeType:null,objectStoreUrl:null,placements:null};jb.forEach(function(lb){kb[lb]=null;});return kb;}function ta(ib){if(s.getCachedPostLinkData(ib))return;r.fetchPostLinkData(ib,s.getPagePostDetails(ib));}function ua(ib){var jb=ib.creativeID;if(ib.actor!==undefined&&jb===ma)xa(ib);if(ib.showRelatedFanPage!==undefined&&jb===la)wa(ib);}function va(ib,jb){var kb;if(ib&&jb){kb=jb.id;}else kb=0;ra(la,{relatedFanPage:kb});}function wa(ib){ca(ib.creativeID===la);var jb=ib.showRelatedFanPage;va(jb,hb.getState(ma).actor);}function xa(ib){ca(ib.creativeID===ma);va(hb.getState(la).showRelatedFanPage,ib.actor);}function ya(){var ib=hb.getState(la),jb=ib.creativeType,kb=function(mb,nb,ob){if(nb.placement in mb.validationMap)return;q.imageValidated(la,mb,nb.placement,ob);},lb=ib.imageList;if(lb)lb.forEach(function(mb){Object.keys(ja).forEach(function(nb){var ob=ha(ib,nb);if(ob){var pb=h.getImageSpecForAdType(jb,nb);pb&&mb.validate(pb,kb);}else delete mb.validationMap[nb];});});}function za(ib,jb,kb){var lb=hb.getState(la),mb=lb.imageList;mb&&mb.some(function(nb){if(nb.equals(ib)){nb.validationMap[jb]=kb;return true;}});}function ab(ib){var jb=ib.creativeID;ca(jb);var kb=ib.creativeType||na[jb].creativeType;ca(kb);if(ib.storyId){var lb=ib.storyId;ta(lb);}ra(jb,ea(ib,sa(kb,o.idToType[kb].validFields)));}function bb(ib){var jb=ib.creativeType;if(!jb)return;oa[ib.creativeID]=ea(ib,sa(jb,o.idToType[jb].validFields));}function cb(ib,jb,kb,lb){var mb=jb.id,nb=ba({creativeType:mb},kb),ob=ea(nb,sa(jb.id,o.idToType[jb.id].validFields));ob.placements=undefined;ob.storyId&&ta(ob.storyId);ra(ib,ob);}function db(ib,jb,kb,lb,mb){var nb=w.getPrimaryCreativeConfig(lb,ib,{destinationDetails:mb});cb(la,nb,p.getDefaultCreativeData(nb.id,ib,jb,kb,mb,na[la]),mb);var ob=gb();if(lb===x.EXTERNAL_WEBPAGE){ra(la,{linkDescription:'',actor:ob});return;}else if(ib===j.LOCAL_AWARENESS)ra(la,{linkDescription:'',actor:fb(jb)});}function eb(){var ib=na[la];if(ib.creativeType===ia.STANDARD){ra(la,{creativeType:ia.FEED_URL,linkDescription:'',actor:gb()});delete ib.relatedFanPage;}else if(ib.creativeType===ia.FEED_URL){var jb=s.getDestinationDetails();ra(la,{creativeType:ia.STANDARD,relatedFanPage:jb.relatedFanPage});delete ib.actor;delete ib.linkDescription;delete ib.storyId;}}function fb(ib){var jb=u.getAvailableActors()||[],kb=jb.filter(function(lb){return lb.id===ib;})[0];return kb;}function gb(){var ib=na[la],jb=u.getAvailableActors()||[],kb=ib.relatedFanPage||s.getDestinationDetails().relatedFanPage;kb=kb+'';var lb=jb.filter(function(mb){return mb.id===kb;})[0];if(!lb&&jb.length&&jb.length<=v.maxPagesForUrlDefaulting)lb=jb[0];return lb;}var hb=ba(new aa(),{resetCreative:function(){},isPlacedOnNewsFeed:function(){var ib=na[la];return ib.creativeType===ia.FEED_URL;},getState:function(ib){var jb=na[ib];if(!jb.creativeType)return {};var kb=ea(jb,sa(jb.creativeType,o.idToType[jb.creativeType].validFields));kb.hasChanged=p.hasCreativeChanged(kb,oa[ib]);if((jb.creativeType===ia.FEED_URL||jb.creativeType===ia.NEKO_LPP)&&kb.hasChanged)kb.storyId=undefined;return kb;},dispatchToken:y.register(function(ib){hb.onDispatchToken(ib);}),onDispatchToken:function(ib){var jb=ib.action;switch(jb.actionType){case k.CREATIVE_INIT:ab(jb);ya();bb(jb);hb.inform('change');break;case k.ADD_ACTOR:ab({creativeID:la,actor:jb.actor});hb.inform('change');break;case k.CREATIVE_CHANGE:ab(jb);jb.imageList&&ya();ua(jb);hb.inform('change');break;case k.IMAGE_VALIDATED:za(jb.image,jb.placement,jb.validation);hb.inform('change');break;case k.CREATIVE_PLACEMENTS_CHANGE:ca(jb.creativeID===la);var kb=na[la],lb=jb.placementList,mb=jb.enabled?ka.ENABLED:ka.DISABLED,nb=da(fa(kb));lb.forEach(function(ub){nb[ub]=mb;});if(!ga(da(kb,{placements:nb})))Object.keys(nb).some(function(ub){if(ha(kb,ub)&&lb.indexOf(ub)===-1){nb[ub]=ka.ENABLED;return true;}});if(kb.creativeType===z.STANDARD||kb.creativeType===ia.FEED_URL){var ob=nb[ja.NEWS_FEED]===ka.ENABLED||nb[ja.MOBILE_NEWS_FEED]===ka.ENABLED?ia.FEED_URL:z.STANDARD;if(ob!==kb.creativeType)eb();}ab({creativeID:jb.creativeID,placements:nb});hb.inform('change');break;case k.PAGE_POSTS_LOADED:y.waitFor([s.dispatchToken]);if((pa||!na[la].storyId)&&na[la].creativeType&&na[la].creativeType!==z.INLINE_FAN){ab({creativeID:la,storyId:s.getDefaultStoryIDForCreative()});hb.inform('change');}pa=false;break;case k.PAGE_POSTS_PUBLISHED:y.waitFor([s.dispatchToken]);var pb=s.getDefaultStoryIDForCreative();if(pb){ab({creativeID:la,storyId:pb});}else pa=true;hb.inform('change');break;case k.RESET_DESTINATION:if(m.isCreatingSimilar())break;qa();hb.inform('change');break;case k.DESTINATION_CHANGE:case k.OBJECTIVE_CHANGE:case k.KPI_OBJECTIVE_CHANGE:y.waitFor([t.dispatchToken,s.dispatchToken]);if(jb.actionType===k.OBJECTIVE_CHANGE&&na[la].creativeType===ia.CONTEXTUAL_APP_AD){qa();}else if(jb.actionType===k.DESTINATION_CHANGE)if(m.isCreatingSimilar()){na[la].linkUrl=undefined;na[la].storyId=undefined;}else qa();if(jb.actionType===k.KPI_OBJECTIVE_CHANGE&&!s.hasDestination())break;db(t.getObjectiveType(),s.getDestinationID(),s.getDefaultStoryIDForCreative(),s.getDestinationType(),s.getDestinationDetails());ya();hb.inform('change');break;case k.IMAGE_CROP_CHANGE:var qb=jb.coordinates,rb=jb.cropKey,sb=na[la],tb=sb.imageList;tb=tb.map(function(ub){if(!ub.equals(jb.image))return ub;var vb={};vb[rb]=qb;return ub.clone({crops:vb});});ra(la,{imageList:tb});hb.inform('change');break;case i.PAGE_TRANSITION:qa();break;}},processImageValidationChange:za,validateImages:ya});e.exports=hb;});
__d("AdsCFTargetingStore",["AdsAccountCapabilities","AdsAPIObjectives","AdsAPISpec","ads-app-platforms","AdsCFAccountStore","AdsCFActionTypes","AdsCFConstants","AdsCFApplicationStore","AdsCFCreativeStore","AdsCFDestinationStore","AdsCFObjectiveStore","AdsCommonTargetingProperties","AdsCountries","AdsCreationConfig","AdsDispatcher","ads-mobile-platforms","AdsPayloadSource","AdsTargetingAdvancedDemoConstants","Arbiter","ImmutableObject","URIInitDataUtil","adsGKCheck","copyProperties","merge","whitelistObjectKeys","LocationConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){var fa=b('LocationConstants').RadiusInfo,ga=m.CanonicalID,ha='countries',ia='cities',ja='regions',ka='zips',la=50,ma,na,oa={},pa,qa={targetAllGraduationYears:true},ra={addressString:'',latitude:0,longitude:0,radius:0};function sa(){ma={};ma[ga]=ca({},qa);pa={};pa[ga]=ca({},ra);}sa();function ta(jb,kb){ma[jb]=da(ma[jb],kb);}function ua(jb){return ma[ga][jb];}function va(jb){var kb=Math.max(+jb.minAge,t.minAge);return {ageMinLimit:kb,ageMin:kb};}function wa(jb){return xa(jb,'whitelist').filter(function(kb){return !!s.countries[kb];});}function xa(jb,kb){var lb=jb.geoGating||{};if(!lb[kb]||typeof lb[kb]!=='object')return [];return Object.keys(lb[kb]);}function ya(jb){var kb=jb.destinationCityInfo;if(kb)return true;var lb=wa(jb);if(lb.length)return false;var mb=jb.fanCountries||[];return !!mb.length;}function za(jb){var kb=wa(jb);if(kb.length){return kb;}else{var lb=k.getState().businessCountryCode||t.userLocalCountryCode||'US';return [lb];}}function ab(jb){return {cities:[],locTargeting:ha,countries:za(jb)};}function bb(jb){if(!ya(jb))return ab(jb);var kb=jb.destinationCityInfo;if(kb)return {countries:[kb.country],cities:[{name:kb.name,id:kb.id}],locTargeting:ia,radius:la,radiusIfValid:la};return ab(jb);}function cb(){var jb=ua(ha);return jb&&jb.length===1&&jb[0];}function db(jb,kb,lb){var mb=[],nb=[];if(kb.isAdmin){switch(lb){case h.CANVAS_APP_ENGAGEMENT:mb=[jb];break;}switch(lb){case h.PAGE_LIKES:case h.EVENT_RESPONSES:case h.CANVAS_APP_INSTALLS:case h.MOBILE_APP_INSTALLS:nb=[jb];break;}}return {connections:mb,excludedConnections:nb};}function eb(jb,kb){var lb=v.operatingSystems,mb=j.APP_PLATFORM,nb=[],ob;if(kb===h.MOBILE_APP_INSTALLS||kb===h.MOBILE_APP_ENGAGEMENT||p.getIsObjectiveAppStoreMedia(kb)){if(jb.supportedDevices){nb=jb.supportedDevices;}else nb=[v.deviceTypes.IPAD,v.deviceTypes.IPOD,v.deviceTypes.IPHONE];var pb=jb.appPlatforms;if(pb)if(ba('ads_cf_neko_lpp')){ob=j.getMobileOSForPlatform(pb[0]);}else if(pb.indexOf(mb.IOS)!==-1){ob=lb.IOS;}else if(pb.indexOf(mb.ANDROID)!==-1){ob=lb.ANDROID;}else if(pb.indexOf(mb.WINDOWS)!==-1)ob=lb.WINDOWS;}return {mobileDevices:nb,mobileOperatingSystem:ob};}var fb=r;function gb(){var jb=q.getObjectiveType(),kb=p.getDestinationDetails(),lb=p.getDestinationID(),mb=k.hasAccountCapability(g.CAN_USE_UNIFIED_INTERESTS),nb={id:lb,name:kb.destinationName},ob=db(nb,kb,jb),pb=eb(kb,jb),qb=ca({},ob,pb,{wifiOnly:false});if(kb.interests)if(mb&&!ua('interests')){qb.interests=kb.interests;}else if(!mb&&!ua('keywords'))qb.keywords=kb.interests;ta(ga,qb);}function hb(jb,kb){var lb=jb.localGeo;if(!lb)return;var mb=pa[kb];if(!mb)pa[kb]=ca({},ra);if(lb.hasOwnProperty('addressString'))mb.addressString=lb.addressString||'';if(lb.hasOwnProperty('radius'))mb.radius=lb.radius||0;}var ib=ca(new y(),{getState:function(jb){return new z(ma[jb]||{});},getValue:function(jb){return ua(jb);},getSyndicatedCustomAudiencesMap:function(){return new z(oa);},getTargetableAudiences:function(){return na;},dispatchToken:u.register(function(jb){var kb=jb.action,lb,mb,nb=jb.payloadsource===w.VIEW_ACTION,ob=jb.payloadsource===w.URL_PARAM_LOAD,pb=false;switch(kb.actionType){case l.CREATIVE_CHANGE:if(!kb.mobileStore)break;u.waitFor([o.dispatchToken]);var qb=o.getState(m.CreativeID.PRIMARY).mobileStore;ta(ga,{mobileOperatingSystem:j.getOSForMobileStore(qb)});pb=true;break;case l.TARGETING_CHANGE:ta(ga,ea(kb,fb));if(kb.syndicatedCustomAudiencesLibrary)kb.syndicatedCustomAudiencesLibrary.forEach(function(yb){oa[yb.id]=true;});hb(kb,ga);pb=true;break;case l.TARGETABLE_AUDIENCES_CHANGE:na=da(na,kb.audiences);pb=true;break;case l.TARGETING_RESET_DEFAULTS:case l.DESTINATION_CHANGE:if(aa.getDefaultTargeting())break;u.waitFor([q.dispatchToken,p.dispatchToken,o.dispatchToken]);lb=p.getDestinationDetails();if(n.isCreatingSimilar()||(!nb&&!ob&&kb.actionType!==l.TARGETING_RESET_DEFAULTS)){var rb=va(lb),sb=ua('ageMin');if(rb.ageMin<sb)rb.ageMin=sb;ta(ga,rb);pb=true;break;}var tb=bb(lb),ub=va(lb),vb=(tb.cities||[]).map(function(yb){var zb=ca({},yb);zb.radius=tb.radius;zb.distance_unit=fa.getLocalizedUnit();zb.key=yb.id;zb.country=tb.countries[0];return zb;}),wb=vb.length?[]:tb.countries;tb.geoLocations={countries:wb,regions:[],cities:vb,zips:[]};mb=ca({userAdclusters:[],locales:[],educationStatuses:[],workNetworks:[],friendsOfConnections:[],keywords:[]},tb,ub);ta(ga,mb);gb();pb=true;break;case l.OBJECTIVE_CHANGE:case l.KPI_OBJECTIVE_CHANGE:if(!nb&&!ob)break;u.waitFor([q.dispatchToken,p.dispatchToken,o.dispatchToken]);gb();pb=true;break;case l.RESET_DESTINATION:if(n.isCreatingSimilar())break;sa();pb=true;break;}if(pb){var xb=ea(kb,fb);ib.inform('change',{payloadsource:jb.payloadsource,changedProperties:xb});}}),getCountryHasOptions:function(){return this.getCountryHasCities()||this.getCountryHasZips()||this.getCountryHasRegions();},getSingleCountry:function(){return cb();},getCountryHasRegions:function(){var jb=cb();return jb&&s.hasRegions(jb);},getCountryHasCities:function(){var jb=cb();return jb&&s.hasCities(jb);},getCountryHasZips:function(){var jb=cb();return jb==='US';},getLocTargeting:function(){var jb=ua('locTargeting');if(jb===ia)return this.getCountryHasCities()?ia:ha;if(jb===ja)return this.getCountryHasRegions()?ja:ha;if(jb===ka)return this.getCountryHasZips()?ka:ha;return ha;},getLocalGeoState:function(jb){return new z(pa[jb]||{});},getDefaultGeoTargeting:function(){var jb=p.getDestinationDetails();return bb(jb);},getHasCollege:function(){var jb=this.getEducationStatuses()||[];return (jb.indexOf(i.EDUCATION_STATUSES.IN_COLLEGE)>=0||jb.indexOf(i.EDUCATION_STATUSES.COLLEGE_GRAD)>=0);},getMaxGradYear:function(){return ua('maxGradYear')||x.graduationYearBounds.maxGraduationYear;},getMinGradYear:function(){return ua('minGradYear')||x.graduationYearBounds.minGraduationYear;},getMobileMinVersion:function(jb){var kb=v.operatingSystems,lb;if(jb===kb.IOS){lb=ua('minIosVersion');}else if(jb===kb.ANDROID)lb=ua('minAndroidVersion');return lb;}});e.exports=ib;});
__d("AdsTargetingModelAdapter",["AdsDispatcher","AdsCFTargetingStore","AdsCreationConfig","AdsCFActionTypes","AdsModelAdapterMixin","AdsPayloadSource","ads-mobile-platforms","AdsAPISpec","merge","copyProperties"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=m.operatingSystems,r=false,s={};function t(aa,ba){return function(){var ca=h.getValue(aa);return ca===undefined?ba:ca;};}function u(aa){return h[aa];}function v(aa,ba){if(r){s=p(s,aa);return;}var ca=p({actionType:j.TARGETING_CHANGE},aa);if(!ba){g.handleUpdateFromUnknownSource(ca);}else g.handleUpdateFromViewAction(ca);}function w(aa){return function(ba,ca){var da={};da[aa]=ba;v(da,!!ca);};}function x(aa,ba){if(!aa)return ba;return ba.toLowerCase()+'_ver_'+aa+'_and_above';}function y(aa){return function(){var ba=Array.prototype.slice.apply(arguments);ba[1]=true;aa.apply(this,ba);};}var z=o(k,{initSubscriptions:function(aa){h.subscribe('change',function(ba,ca){this.invokeChanged({ageMax:this.getAgeMax(),ageMin:this.getAgeMin(),behaviors:this.getBehaviors(),cities:this.getCities(),connections:this.getConnections(),countries:this.getCountries(),countryHasCities:this.getCountryHasCities(),countryHasOptions:this.getCountryHasOptions(),countryHasRegions:this.getCountryHasOptions(),countryHasZips:this.getCountryHasZips(),friendsOfConnections:this.getFriendsOfConnections(),hasCollege:this.getHasCollege(),geoLocations:this.getGeoLocations(),excludedGeoLocations:this.getExcludedGeoLocations(),locTargeting:this.getLocTargeting(),loggedCities:this.getCities(),loggedConnections:this.getConnections(),loggedCountries:this.getCountries(),loggedExcludedConnections:this.getExcludedConnections(),loggedLocTargeting:this.getLocTargeting(),loggedFriendsOfConnections:this.getFriendsOfConnections(),loggedInterestedInSex:this.getInterestedInSex(),loggedLocales:this.getLocales(),loggedAgeMax:this.getAgeMax(),loggedAgeMin:this.getAgeMin(),loggedSex:this.getSex(),loggedCollegeNetworks:this.getCollegeNetworks(),loggedCollegeMajors:this.getCollegeMajors(),loggedEducationSchools:this.getEducationSchools(),loggedEducationMajors:this.getEducationMajors(),loggedMinGradYear:this.getMinGradYear(),loggedMaxGradYear:this.getMaxGradYear(),loggedWorkEmployers:this.getWorkEmployers(),loggedWorkNetworks:this.getWorkNetworks(),loggedRadius:this.getRadius(),loggedRegions:this.getRegions(),loggedZips:this.getZips(),radius:this.getRadius(),regions:this.getRegions(),mobileOperatingSystem:this.getMobileOperatingSystem(),targetAllGraduationYears:this.getTargetAllGraduationYears(),wifiOnly:this.getWifiOnly(),zips:this.getZips()});if(ca.payloadsource===l.VIEW_ACTION)for(var da in ca.changedProperties)if(ca.changedProperties.hasOwnProperty(da))this.invoke('changedByUser',da);}.bind(this));},getCities:function(){return this.getLocTargeting()==='cities'?h.getValue('cities'):[];},getCountries:t('countries',[]),getCountryHasCities:u('getCountryHasCities'),getCountryHasOptions:u('getCountryHasOptions'),getCountryHasRegions:u('getCountryHasRegions'),getCountryHasZips:u('getCountryHasZips'),getLocTargeting:u('getLocTargeting'),getRadius:function(){var aa=this.getRadiusIfValid();if(aa===undefined)aa=0;return this.getLocTargeting()==='cities'?aa:0;},getRadiusIfValid:t('radiusIfValid'),getRegions:function(){return this.getLocTargeting()==='regions'?h.getValue('regions'):[];},getSingleCountry:u('getSingleCountry'),getZips:function(){return this.getLocTargeting()==='zips'?h.getValue('zips'):[];},getAgeMinLimit:t('ageMinLimit',i.minAge),getAgeMax:function(){var aa=h.getValue('ageMax');if(!aa){return i.maxAge;}else return aa;},getAgeMin:function(){var aa=h.getValue('ageMin'),ba=0;if(!aa){ba=i.minAge;}else ba=aa;return Math.max(this.getAgeMinLimit(),ba);},getGenders:function(){var aa=this.getSex();return aa===n.GENDERS.ALL?[]:[aa];},getSex:t('sex',n.GENDERS.ALL),getInterests:t('interests'),getKeywords:t('keywords'),getUserAdclusters:t('userAdclusters'),getConjunctiveUserAdclusters:t('conjunctiveUserAdclusters'),getCustomAudiences:t('customAudiences'),getNonSyndicatedCustomAudiences:function(){var aa=this.getCustomAudiences()||[],ba=h.getSyndicatedCustomAudiencesMap(),ca=[];aa.forEach(function(da){if(!ba[da.id])ca.push(da);});return ca;},getSyndicatedCustomAudiences:function(){var aa=this.getCustomAudiences()||[],ba=h.getSyndicatedCustomAudiencesMap(),ca=[];aa.forEach(function(da){if(ba[da.id])ca.push(da);});return ca;},getSyndicatedCustomAudiencesLibrary:t('syndicatedCustomAudiencesLibrary'),getExcludedCustomAudiences:t('excludedCustomAudiences'),getConnections:t('connections'),getExcludedConnections:t('excludedConnections'),getFriendsOfConnections:t('friendsOfConnections'),getInterestedIn:function(){var aa=this.getInterestedInSex();return aa===n.GENDERS.ALL?[]:[aa];},getInterestedInSex:t('interestedInSex',n.GENDERS.ALL),getRelationshipStatuses:t('relationshipStatuses'),getFamilyStatuses:t('familyStatuses'),getIndustries:t('industries'),getLifeEvents:t('lifeEvents'),getMarkets:t('markets'),getPolitics:t('politics'),getIncome:t('income'),getNetWorth:t('netWorth'),getHomeType:t('homeType'),getHomeOwnership:t('homeOwnership'),getHomeValue:t('homeValue'),getEthnicAffinity:t('ethnicAffinity'),getGeneration:t('generation'),getHouseholdComposition:t('householdComposition'),getMoms:t('moms'),getOfficeType:t('officeType'),getLocales:t('locales'),getMinIosVersion:t('minIosVersion'),getMinAndroidVersion:t('minAndroidVersion'),getMobileDevices:t('mobileDevices',[]),getMobileMinVersion:u('getMobileMinVersion'),getMobileOperatingSystem:t('mobileOperatingSystem'),getUserOs:function(){var aa=this.getMobileOperatingSystem();if(!aa)return [];var ba;if(aa===q.IOS){ba=this.getMinIosVersion();}else if(aa===q.ANDROID)ba=this.getMinAndroidVersion();return [x(ba,aa)];},getUserDevice:function(){var aa=this.getMobileOperatingSystem(),ba=this.getMobileDevices();if(aa===q.IOS){return ba.filter(m.isIosDevice);}else if(aa===q.ANDROID)return ba.filter(m.isAndroidDevice);return [];},getWifiOnly:t('wifiOnly',false),getWirelessCarrier:function(){var aa=m.carriers;if(this.getWifiOnly())return [aa.WIFI];return [];},getCollegeMajors:function(){return h.getValue('collegeMajors')||[];},getCollegeNetworks:function(){return h.getValue('collegeNetworks')||[];},getEducationMajors:function(){return h.getValue('educationMajors')||[];},getEducationSchools:function(){return h.getValue('educationSchools')||[];},getCollegeYears:function(){if(this.getTargetAllGraduationYears())return [];var aa=this.getMinGradYear(),ba=this.getMaxGradYear(),ca=[];for(var da=aa;da<=ba;da++)ca.push(da);return ca;},getEducationStatuses:t('educationStatuses'),getHasCollege:u('getHasCollege'),getGeoLocations:t('geoLocations'),getExcludedGeoLocations:t('excludedGeoLocations'),getMaxGradYear:u('getMaxGradYear'),getMinGradYear:u('getMinGradYear'),getTargetAllGraduationYears:t('targetAllGraduationYears'),getWorkEmployers:function(){return h.getValue('workEmployers')||[];},getWorkNetworks:t('workNetworks'),getWorkPositions:t('workPositions'),getBehaviors:t('behaviors'),getExcludedUserAdclusters:t('excludedUserAdclusters'),getPageTypes:t('pageTypes'),setCities:function(aa,ba){aa=aa||[];aa.length&&this.setLocTargeting('cities');v({cities:aa},ba);},setCountries:w('countries'),setLocTargeting:w('locTargeting'),setGeoLocations:w('geoLocations'),setExcludedGeoLocations:w('excludedGeoLocations'),setRadius:w('radiusIfValid'),setRadiusIfValid:w('radiusIfValid'),setRegions:function(aa,ba){aa=aa||[];aa.length&&this.setLocTargeting('regions');v({regions:aa},ba);},setZips:function(aa,ba){aa=aa||[];aa.length&&this.setLocTargeting('zips');v({zips:aa},ba);},setAgeMax:w('ageMax'),setAgeMin:w('ageMin'),setAgeMinLimit:w('ageMinLimit'),setGenders:function(aa,ba){var ca=aa&&aa.length===1?aa[0]:n.GENDERS.ALL;v({sex:ca},ba);},setSex:w('sex'),setCustomAudiences:w('customAudiences'),setExcludedCustomAudiences:w('excludedCustomAudiences'),setKeywords:w('keywords'),setInterests:w('interests'),setNonSyndicatedCustomAudiences:function(aa,ba){var ca=aa.concat(this.getSyndicatedCustomAudiences());this.setCustomAudiences(ca,ba);},setSyndicatedCustomAudiences:function(aa){var ba=aa.concat(this.getNonSyndicatedCustomAudiences());this.setCustomAudiences(ba);},setSyndicatedCustomAudiencesLibrary:w('syndicatedCustomAudiencesLibrary'),setUserAdclusters:w('userAdclusters'),setConjunctiveUserAdclusters:w('conjunctiveUserAdclusters'),setConnections:w('connections'),setExcludedConnections:w('excludedConnections'),setFriendsOfConnections:function(aa,ba){aa=aa.filter(function(ca){return !!ca.name&&!!ca.id;});v({friendsOfConnections:aa},ba);},setInterestedIn:function(aa,ba){this.setInterestedInSex(aa&&aa.length===1?aa[0]:n.GENDERS.ALL,ba);},setInterestedInSex:w('interestedInSex'),setRelationshipStatuses:w('relationshipStatuses'),setFamilyStatuses:w('familyStatuses'),setIndustries:w('industries'),setLifeEvents:w('lifeEvents'),setMarkets:w('markets'),setPolitics:w('politics'),setIncome:w('income'),setNetWorth:w('netWorth'),setHomeType:w('homeType'),setHomeOwnership:w('homeOwnership'),setHomeValue:w('homeValue'),setEthnicAffinity:w('ethnicAffinity'),setGeneration:w('generation'),setHouseholdComposition:w('householdComposition'),setMoms:w('moms'),setOfficeType:w('officeType'),setLocales:w('locales'),setMobileOperatingSystem:w('mobileOperatingSystem'),setMobileDevices:w('mobileDevices'),setWifiOnly:w('wifiOnly'),setMinIosVersion:w('minIosVersion'),setMinAndroidVersion:w('minAndroidVersion'),setMobileMinVersion:function(aa,ba){if(aa===q.IOS){this.setMinIosVersion(ba);}else if(aa===q.ANDROID)this.setMinAndroidVersion(ba);},setWirelessCarrier:function(aa,ba){var ca=m.carriers;if(aa&&aa.length&&aa[0]===ca.WIFI){this.setWifiOnly(true,ba);}else this.setWifiOnly(false,ba);},setUserDevice:function(aa,ba){var ca=m.deviceTypes;if(!aa||!aa.length)aa=[ca.IPAD,ca.IPOD,ca.IPHONE];this.setMobileDevices(aa,ba);},setUserOs:function(aa,ba){aa=aa||[];v({userOs:aa});aa.forEach(function(ca){var da=null;if(ca.indexOf('_ver_')>=0){var ea=ca.split('_ver_')[1];da=ea.split('_')[0];}var fa=function(ga,ha){ga=ga.toLowerCase();return ga.indexOf(ha.toLowerCase())>=0;};if(fa(ca,q.IOS)){this.setMobileOperatingSystem(q.IOS,ba);this.setMinIosVersion(da,ba);}else if(fa(ca,q.ANDROID)){this.setMobileOperatingSystem(q.ANDROID,ba);this.setMinAndroidVersion(da,ba);}else this.setMobileOperatingSystem(null,ba);},this);},setEducationStatus:w('educationStatus'),setMinGradYear:w('minGradYear'),setMaxGradYear:w('maxGradYear'),setTargetAllGraduationYears:w('targetAllGraduationYears'),setCollegeMajors:w('collegeMajors'),setCollegeNetworks:w('collegeNetworks'),setEducationSchools:w('educationSchools'),setEducationMajors:w('educationMajors'),setCollegeYears:function(aa,ba){aa.sort(function(ca,da){return ca-da;});if(aa&&aa.length){this.setMinGradYear(aa[0],ba);this.setMaxGradYear(aa[aa.length-1],ba);this.setTargetAllGraduationYears(false,ba);}else this.setTargetAllGraduationYears(true,ba);},setEducationStatuses:w('educationStatuses'),setWorkEmployers:w('workEmployers'),setWorkNetworks:w('workNetworks'),setWorkPositions:w('workPositions'),setBehaviors:w('behaviors'),setExcludedUserAdclusters:w('excludedUserAdclusters'),setPageTypes:w('pageTypes'),getApiSpec:function(){var aa=this._getApiSpecForFields(n.TARGETING_FIELDS);aa.countries=[];aa.cities=[];aa.zips=[];aa.regions=[];aa.radius=undefined;aa.geo_locations=this._transformNewGeoAPISpec(aa.geo_locations||{});aa.excluded_geo_locations=this._transformNewGeoAPISpec(aa.excluded_geo_locations||{});return aa;},getGeoLocationsApiSpecMetaData:function(){var aa=this._getApiSpecForFields(n.TARGETING_FIELDS);return aa.geo_locations||{};},_transformNewGeoAPISpec:function(aa){return {countries:aa.countries||[],cities:(aa.cities||[]).map(function(ba){return {key:ba.key,radius:ba.radius,distance_unit:ba.distance_unit};}),regions:(aa.regions||[]).map(function(ba){return {key:ba.key};}),zips:(aa.zips||[]).map(function(ba){return {key:ba.key};})};},setApiSpec:function(aa){if(!aa.hasOwnProperty('relationship_statuses'))aa.relationship_statuses=null;r=true;this._setApiSpecForFields(n.TARGETING_FIELDS,aa);r=false;g.handleUpdateFromUnknownSource(p({actionType:j.TARGETING_CHANGE},s));s={};}});z=o(z,{getLoggedCountries:z.getCountries,getLoggedCities:z.getCities,getLoggedRegions:z.getRegions,getLoggedZips:z.getZips,getLoggedRadiusIfValid:z.getRadiusIfValid,getLoggedLocTargeting:z.getLocTargeting,getLoggedGeoLocations:z.getGeoLocations,getLoggedExcludedGeoLocations:z.getExcludedGeoLocations,getLoggedAgeMinLimit:z.getAgeMinLimit,getLoggedAgeMin:z.getAgeMin,getLoggedAgeMax:z.getAgeMax,getLoggedSex:z.getSex,getLoggedKeywords:z.getKeywords,getLoggedUserAdclusters:z.getUserAdclusters,getLoggedConjunctiveAdclusters:z.getConjunctiveUserAdclusters,getLoggedCustomAudiences:z.getCustomAudiences,getLoggedSyndicatedCustomAudiencesLibrary:z.getSyndicatedCustomAudiencesLibrary,getLoggedExcludedCustomAudiences:z.getExcludedCustomAudiences,getLoggedConnections:z.getConnections,getLoggedExcludedConnections:z.getExcludedConnections,getLoggedFriendsOfConnections:z.getFriendsOfConnections,getLoggedInterestedInSex:z.getInterestedInSex,getLoggedLocales:z.getLocales,getLoggedMobileOperatingSystem:z.getMobileOperatingSystem,getLoggedMobileDevices:z.getMobileDevices,getLoggedWifiOnly:z.getWifiOnly,getLoggedMinIosVersion:z.getMinIosVersion,getLoggedMinAndroidVersion:z.getMinAndroidVersion,getLoggedCollegeNetworks:z.getCollegeNetworks,getLoggedCollegeMajors:z.getCollegeMajors,getLoggedEducationSchools:z.getEducationSchools,getLoggedEducationMajors:z.getEducationMajors,getLoggedMinGradYear:z.getMinGradYear,getLoggedMaxGradYear:z.getMaxGradYear,getLoggedTargetAllGraduationYears:z.getTargetAllGraduationYears,getLoggedWorkEmployers:z.getWorkEmployers,getLoggedWorkNetworks:z.getWorkNetworks,getLoggedExcludedUserAdclusters:z.getExcludedUserAdclusters,getLoggedPageTypes:z.getPageTypes,setLoggedCountries:y(z.setCountries),setLoggedCities:y(z.setCities),setLoggedRegions:y(z.setRegions),setLoggedZips:y(z.setZips),setLoggedRadiusIfValid:y(z.setRadiusIfValid),setLoggedLocTargeting:y(z.setLocTargeting),setLoggedGeoLocations:y(z.setGeoLocations),setLoggedExcludedGeoLocations:y(z.setExcludedGeoLocations),setLoggedAgeMinLimit:y(z.setAgeMinLimit),setLoggedAgeMin:y(z.setAgeMin),setLoggedAgeMax:y(z.setAgeMax),setLoggedSex:y(z.setSex),setLoggedKeywords:y(z.setKeywords),setLoggedUserAdclusters:y(z.setUserAdclusters),setLoggedConjunctiveUserAdclusters:y(z.setConjunctiveUserAdclusters),setLoggedCustomAudiences:y(z.setCustomAudiences),setLoggedSyndicatedCustomAudiencesLibrary:y(z.setSyndicatedCustomAudiencesLibrary),setLoggedExcludedCustomAudiences:y(z.setExcludedCustomAudiences),setLoggedConnections:y(z.setConnections),setLoggedExcludedConnections:y(z.setExcludedConnections),setLoggedFriendsOfConnections:y(z.setFriendsOfConnections),setLoggedInterestedInSex:y(z.setInterestedInSex),setLoggedLocales:y(z.setLocales),setLoggedMobileOperatingSystem:y(z.setMobileOperatingSystem),setLoggedMobileDevices:y(z.setMobileDevices),setLoggedWifiOnly:y(z.setWifiOnly),setLoggedMinIosVersion:y(z.setMinIosVersion),setLoggedMinAndroidVersion:y(z.setMinAndroidVersion),setLoggedCollegeNetworks:y(z.setCollegeNetworks),setLoggedCollegeMajors:y(z.setCollegeMajors),setLoggedEducationSchools:y(z.setEducationSchools),setLoggedEducationMajors:y(z.setEducationMajors),setLoggedMinGradYear:y(z.setMinGradYear),setLoggedMaxGradYear:y(z.setMaxGradYear),setLoggedTargetAllGraduationYears:y(z.setTargetAllGraduationYears),setLoggedWorkEmployers:y(z.setWorkEmployers),setLoggedWorkNetworks:y(z.setWorkNetworks),setLoggedExcludedUserAdclusters:y(z.setExcludedUserAdclusters),setLoggedPageTypes:y(z.setPageTypes)});z.initSubscriptions();e.exports=z;});
__d("AdsCFBox.react",["React","XUICloseButton.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=g.PropTypes,l={info:'uiBoxLightblue',red:'uiBoxRed',yellow:'uiBoxYellow'},m=Object.keys(l),n=g.createClass({displayName:'AdsCFBox',propTypes:{onCloseIconClick:k.func,type:k.oneOf(m).isRequired},onClose:function(){this.props.onCloseIconClick&&this.props.onCloseIconClick();},render:function(){var o=this.props.onCloseIconClick?h({onClick:this.onClose,className:"_5cmp",size:"small"}):null,p=j("_5cmq",'pam',l[this.props.type]);return this.transferPropsTo(g.DOM.div({className:p},o,this.props.children));}});e.exports=n;});
__d("AdsCFAudienceEstimateValidator",["AdsCountriesConfig","AdsUtils","AdsFetchedTargetingData","AdsTargetingModelAdapter","AdsTargetingSectionsLabels","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=['behaviors','ethnicAffinity','generation','homeOwnership','homeType','homeValue','householdComposition','income','industries','lifeEvents','moms','netWorth','officeType','politics','userAdclusters'];function n(y,z){return {isValid:!!y,errorMessage:z||''};}function o(y){return {geoLocations:p(y),countrySpecificTargeting:q(y)};}function p(y){if(!y){var z=false;}else if(y.custom_audiences||(y.connections&&y.connections.length)){z=true;}else{var aa=y.geo_locations||{};aa={countries:aa.countries||[],regions:aa.regions||[],cities:aa.cities||[],zips:aa.zips||[]};z=aa.countries.length||aa.regions.length||aa.cities.length||aa.zips.length;}return n(z,!!z?'':r());}function q(y){var z=u(y),aa=t(),ba=Object.keys(aa).length>1,ca=true,da;for(var ea in z)if(ca)if(aa[ea]===undefined||ba){ca=false;da=s(ea,z[ea]);}return n(ca,da);}function r(){return "Please pick at least one country to target.";}function s(y,z){var aa=g.countries[y],ba=l._("Some of your targeting is for {localizedCountryName}-based audiences only. Remove the following audience segments to reach people in other locations:",[l.param("localizedCountryName",aa)]),ca=[];for(var da in z)ca.push(k[h.camelCaseKey(da)]+': '+z[da].map(function(ea){return ea.name;}).join(', '));return {content:ba,children:ca};}function t(){var y=j.getGeoLocationsApiSpecMetaData(),z={};(y.countries||[]).forEach(function(aa){w(aa)&&(z[aa]=null);});(y.cities||[]).forEach(function(aa){w(aa.country)&&(z[aa.country]=null);});(y.regions||[]).forEach(function(aa){w(aa.country)&&(z[aa.country]=null);});(y.zips||[]).forEach(function(aa){w(aa.country)&&(z[aa.country]=null);});return z;}function u(y){var z=i.getInstance(),aa=z.getAllFromTargetingTypes(m),ba=x(y,m),ca={};for(var da in ba){var ea=ba[da];ea.forEach(function(fa){var ga=aa[da]&&aa[da].fetchByID(fa);if(!ga)return;v(ca,ga,da);});}return ca;}function v(y,z,aa){var ba=z.country;if(!w(ba))return;!y[ba]&&(y[ba]={});!y[ba][aa]&&(y[ba][aa]=[]);y[ba][aa].push(z);}function w(y){return !!(y&&typeof(y)==='string'&&y.length);}function x(y,z){var aa={};z.forEach(function(ba){var ca=h.underscoreKey(ba),da={};(y[ca]||[]).forEach(function(ea){ea.id&&(da[ea.id]=null);});aa[ba]=Object.keys(da);});return aa;}e.exports={validateTargetingSpec:o};});
__d("BoostedComponentConstants",[],function(a,b,c,d,e,f){var g={DURATION_SECTION:{CONTINUOUS_OPTION:'continuous',DATE_PICKER_OPTION:'date_picker'}};e.exports=g;});
__d("BoostedComponentEvents",[],function(a,b,c,d,e,f){var g={UPDATE_AUDIENCE:'update_audience',UPDATE_CITIES:'update_cities',UPDATE_COUNTRIES:'update_countries',UPDATE_GENDER:'update_gender',UPDATE_INTERESTS:'update_interests',UPDATE_MAX_AGE:'update_maximum_age',UPDATE_MIN_AGE:'update_minimum_age',UPDATE_RADIUS:'update_radius',UPDATE_REGIONS:'update_regions',UPDATE_ACCOUNT:'update_account',UPDATE_CURRENCY:'update_currency',UPDATE_DURATION:'update_duration',UPDATE_END_TIME:'update_end_time',UPDATE_NAME:'update_name'};e.exports=g;});
__d("BoostedComponentGatingStringsUtil",["fbt","intlList"],function(a,b,c,d,e,f,g,h){var i={DISPLAY_GATED_COUNTRY_LIST_MAX:3,getGatedCountryConflictString:function(j,k,l,m,n){if(!n)return null;var o=this.getTruncatedCountryList(j),p=this.getTruncatedCountryList(m),q=null;if(o.length){q=g._("Your Page posts are only shown to people in {list_of_countries}.",[g.param("list_of_countries",h(o,h.CONJUNCTIONS.AND))]);}else if(p.length)q=g._("Your Page restricts {list_of_countries}.",[g.param("list_of_countries",h(p,h.CONJUNCTIONS.AND))]);var r=null;switch(n){case 'countries':r=this.getCountryRestrictionInstructions(l.length,m.length);break;case 'regions':r=this.getRegionRestrictionInstructions(l.length,m.length);break;case 'cities':r=this.getCityRestrictionInstructions(l.length,m.length);break;default:break;}return (g._("{list_of_conflicting_countries} {instructions}",[g.param("list_of_conflicting_countries",q),g.param("instructions",r)]));},getTruncatedCountryList:function(j){var k=j.length-this.DISPLAY_GATED_COUNTRY_LIST_MAX;if(k<1)return j.slice();var l=j.slice(0,this.DISPLAY_GATED_COUNTRY_LIST_MAX-1);l.push(g._("{num_remaining_countries} more countries",[g.param("num_remaining_countries",k+1)]));return l;},getCountryRestrictionInstructions:function(j,k){if(j){return ("Remove other countries to boost your post.");}else if(k)if(k===1){return ("Remove this country to boost your post.");}else if(k>this.DISPLAY_GATED_COUNTRY_LIST_MAX){return ("Remove them to boost your post.");}else return ("Remove these countries to boost your post.");return null;},getRegionRestrictionInstructions:function(j,k){if(j){return ("Remove regions in other countries to boost your post.");}else if(k)if(k===1){return ("Remove regions from this country to boost your post.");}else if(k>this.DISPLAY_GATED_COUNTRY_LIST_MAX){return ("Remove regions from them to boost your post.");}else return ("Remove regions from these countries to boost your post.");return null;},getCityRestrictionInstructions:function(j,k){if(j){return ("Remove cities in other countries to boost your post.");}else if(k)if(k===1){return ("Remove cities from this country to boost your post.");}else if(k>this.DISPLAY_GATED_COUNTRY_LIST_MAX){return ("Remove cities from them to boost your post.");}else return ("Remove cities from these countries to boost your post.");return null;}};e.exports=i;});
__d("InputLabel.react",["React","cx","invariant","joinClasses"],function(a,b,c,d,e,f,g,h,i,j){var k=0;function l(){return 'js_input_label_'+(k++);}var m=g.createClass({displayName:'InputLabel',propTypes:{display:g.PropTypes.oneOf(['block','inline'])},getDefaultProps:function(){return {display:'block'};},render:function(){i(this.props.children.length===2);var n=this.props.children[0],o=this.props.children[1];n.props.className=j(n.props.className,'uiInputLabelInput');var p=n.type===g.DOM.input.type;if(p)if(n.props.type==='radio'){n.props.className=j(n.props.className,'uiInputLabelRadio');}else if(n.props.type==='checkbox')n.props.className=j(n.props.className,'uiInputLabelCheckbox');if(!n.props.id)n.props.id=l();o.props.htmlFor=n.props.id;o.props.className=j(o.props.className,'uiInputLabelLabel');var q=(("uiInputLabel")+(' '+"clearfix")+(this.props.display==='inline'?' '+"inlineBlock":'')+(p?' '+"uiInputLabelLegacy":''));return this.transferPropsTo(g.DOM.div({className:q},n,o));}});e.exports=m;});
__d("XUIRadioInput.react",["React","ReactDOMInput","cx","joinClasses","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.createClass({displayName:'XUIRadioInput',render:function(){k(!this.props.children||this.props.children.length===0);var m=j(this.props.className,"_55sh"),n=this.transferPropsTo(h({type:"radio"}));n.props.className=null;return (g.DOM.label({className:m},n,g.DOM.span(null)));}});e.exports=l;});
__d("BoostedDurationSection.react",["AdsHelpLink.react","InputLabel.react","React","UTCUtils","XUIDatePicker.react","XUIRadioInput.react","XUIText.react","cx","emptyFunction","BoostedComponentConstants"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=b('BoostedComponentConstants').DURATION_SECTION,q=i.createClass({displayName:'BoostedDurationSection',propTypes:{initialTimestamp:i.PropTypes.number,onTimestampUpdate:i.PropTypes.func,label:i.PropTypes.string,datePickerPrependText:i.PropTypes.string,initialDurationType:i.PropTypes.oneOf([p.CONTINUOUS_OPTION,p.DATE_PICKER_OPTION]),continuousOptionConfig:i.PropTypes.shape({enabled:i.PropTypes.bool,onDurationTypeUpdate:i.PropTypes.func,content:i.PropTypes.component}),dateRestraints:i.PropTypes.array},getDefaultProps:function(){return {initialTimestamp:j.dateToUTC(new Date()),onTimestampUpdate:o,initialDurationType:p.CONTINUOUS_OPTION,continuousOptionConfig:{enabled:false,onDurationTypeUpdate:o}};},getInitialState:function(){return {time:this.props.initialTimestamp,durationType:this.props.initialDurationType};},componentWillReceiveProps:function(r){this.setState({time:r.initialTimestamp,durationType:r.initialDurationType});},_onDurationTypeUpdate:function(event){var r=event.target.value;this.setState({durationType:r});this.props.continuousOptionConfig.onDurationTypeUpdate(r);},_onTimestampUpdate:function(r){var s=j.dateToUTC(j.dateToUTCDate(r))/1000;this.setState({time:s,durationType:p.DATE_PICKER_OPTION});this.props.onTimestampUpdate(s);},_renderContinuousOption:function(){var r=this.props.continuousOptionConfig;return (h(null,l({name:"continuous",value:p.CONTINUOUS_OPTION,checked:this.state.durationType===p.CONTINUOUS_OPTION,onChange:this._onDurationTypeUpdate}),r.content));},_renderDatePickerOption:function(){return (h(null,l({className:"_2_u7",name:"date_picker",value:p.DATE_PICKER_OPTION,checked:this.state.durationType===p.DATE_PICKER_OPTION,onChange:this._onDurationTypeUpdate}),this._renderDatePickerRow()));},_renderDatePickerRow:function(){return (i.DOM.span(null,this.props.datePickerPrependText,i.DOM.span({className:"plm"},k({initialTime:1000*this.state.time,onCalendarSelectDateChange:this._onTimestampUpdate,dateRestraints:this.props.dateRestraints})),g(null,"'Test'")));},render:function(){var r=null;if(this.props.continuousOptionConfig.enabled){r=i.DOM.div(null,this._renderContinuousOption(),this._renderDatePickerOption());}else r=this._renderDatePickerRow();var s=null;if(this.props.label)s=i.DOM.div({className:"pbm"},m({size:"large",weight:"bold"},this.props.label));return (i.DOM.div(null,s,i.DOM.div(null,r)));}});e.exports=q;});
__d("BoostedPrimedDao",["ApiClient","BoostedPagelikeAppConfig","CurrentLocale","AdsDaoGraph"],function(a,b,c,d,e,f,g,h,i,j){g.setClientID(h.client_id.toString());g.setAccessToken(h.access_token);var k=null;e.exports={setAccountID:function(l){k=j.primedForAccount(l).primedForLocale(i.get());},getDaoForCurrentAccount:function(){return k;}};});
__d("XAdsCreatorControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/ads\/create\/",{business_id:{type:"Int"},act:{type:"Int"},campaign_group:{type:"Int"},campaign_id:{type:"Int"},campaign_placement:{type:"String"},default_campaign_id:{type:"Int"},oid:{type:"Int"},fbid:{type:"Int"},storyid:{type:"Int"},objective:{type:"String"},edit_ad_link:{type:"Bool"},conversion_pixel_id:{type:"Int"},targeting_spec:{type:"String"},ref:{type:"String"}});});
__d("BoostedPostActionMenu.react",["Arbiter","BoostedPostStatus","ContextualDialogArrow","Image.react","PopoverMenu.react","PromotedPostConstants","React","URI","XAdsCreatorControllerURIBuilder","XUIButton.react","ReactXUIMenu","XUIMenuSeparator.react","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v=q.Item,w=m.createClass({displayName:'BoostedPostActionMenu',propTypes:{status:m.PropTypes.string.isRequired,pageID:m.PropTypes.string.isRequired,postID:m.PropTypes.string,accountID:m.PropTypes.string.isRequired,ownerFlyoutID:m.PropTypes.string.isRequired,contactFormURI:m.PropTypes.string,showAdvancedOptions:m.PropTypes.bool},_isCreateFlyout:function(){return this.props.status===h.INACTIVE;},_isPassiveFlyout:function(){return (this.props.status===h.FINISHED||this.props.status===h.EXTENDABLE||this.props.status===h.REJECTED||this.props.status===h.ERROR);},_sendArbiterSignal:function(event,x){var y=x.item.getValue();if(!y)return;g.inform(y,this.props.ownerFlyoutID);},getPrimaryActionMenuItem:function(){if(this.props.status===h.INACTIVE){var x=new o().setInt('fbid',this.props.pageID).setInt('storyid',this.props.postID).setInt('act',this.props.accountID).setString('ref','boosted_post').getURI();return (v({href:x,target:"_blank"},t._("Advanced Options {image}",[t.param("image",j({className:"_2spa",src:u('/images/ui/x/glyphs/combined/leave_s.png')}))])));}else if(this.props.status===h.PAUSED)return (v({value:l.RESUME},"Resume Promotion"));return (v({value:l.STOP},"Pause Promotion"));},getDeleteBoostMenuItem:function(){return (v({value:l.DELETE},"Delete Boost"));},getBillingInfoMenuItem:function(){var x=new n('/ads/manage/billing.php').addQueryData({act:this.props.accountID});return (v({href:x,target:"_blank"},"Billing Information..."));},getLearnMoreMenuItem:function(){return (v({href:n('/business/products/ads#boosted-posts'),target:"_blank"},"Learn More"));},getHelpCenterMenuItem:function(){return (v({href:n('/help/www/547448218658012/'),target:"_blank"},"Visit Help Center..."));},getFeedbackMenuItem:function(){return (v({href:n('/help/contact/408880639134452'),target:"_blank"},"Send Feedback..."));},getContactFormMenuItem:function(){return (v({href:n(this.props.contactFormURI),target:"_blank"},"Contact Support..."));},getMenuOptions:function(){var x=[];if(!this._isPassiveFlyout())x.push(this.getPrimaryActionMenuItem(),r(null));if(!this._isCreateFlyout())x.push(this.getDeleteBoostMenuItem(),this.getBillingInfoMenuItem(),r(null));x.push(this.getLearnMoreMenuItem(),this.getHelpCenterMenuItem(),r(null),this.getFeedbackMenuItem());if(this.props.contactFormURI)x.push(this.getContactFormMenuItem());return x;},render:function(){var x=q({onItemClick:this._sendArbiterSignal},this.getMenuOptions());return (k({menu:x,layerBehaviors:[i]},p({image:j({src:u('/images/ui/x/image/gear.png')})})));}});e.exports=w;});
__d("AdsTargetingTogglerSafeMixin",[],function(a,b,c,d,e,f){var g={setStateSafe:function(h,i){setTimeout(function(){this.setState(h,i);}.bind(this),0);}};e.exports=g;});
__d("BoostedPostBasicDialog.react",["AdsTargetingTogglerSafeMixin","React","ReactLayeredComponentMixin","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogButton.react","XUIText.react","cloneWithProps"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=h.createClass({displayName:'BoostedPostBasicDialog',mixins:[i,g],propTypes:{title:h.PropTypes.string.isRequired,body:h.PropTypes.string.isRequired,width:h.PropTypes.number.isRequired,entryComponent:h.PropTypes.component.isRequired,closeButtonText:h.PropTypes.string.isRequired,confirmText:h.PropTypes.string,confirmHandler:h.PropTypes.func},getInitialState:function(){return {dialogShown:false};},_onEntryClick:function(){this.setStateSafe({dialogShown:true});},_onToggle:function(r){this.setStateSafe({dialogShown:r});},_onConfirm:function(){this.setStateSafe({dialogShown:false});this.props.confirmHandler();},_onClose:function(){this.setStateSafe({dialogShown:false});},renderLayers:function(){var r=null;if(this.props.confirmHandler&&this.props.confirmText)r=n({use:"confirm",label:this.props.confirmText,onClick:this._onConfirm});return {dialog:j({causalElementRef:"entry",shown:this.state.dialogShown,onToggle:this._onToggle,width:this.props.width},k({showCloseButton:false},h.DOM.span(null,this.props.title)),l(null,h.DOM.div(null,o({size:"small"},this.props.body))),m(null,n({onClick:this._onClose,label:this.props.closeButtonText}),r))};},render:function(){return (p(this.props.entryComponent,{ref:"entry",onClick:this._onEntryClick}));}});e.exports=q;});
__d("XBoostedPostCalculateBudgetsControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/ads\/ajax\/boosted_post\/calculate_budget\/",{id:{type:"Int",required:true},page_id:{type:"Int",required:true},post_id:{type:"Int"},boosted_post_config:{type:"String",required:true},mode:{type:"Enum",required:true}});});
__d("BoostedPostBudgetReachDispatcher",["AsyncRequest","BoostedPostBudgetModes","XBoostedPostCalculateBudgetsControllerURIBuilder"],function(a,b,c,d,e,f,g,h,i){function j(k,l){"use strict";this.$BoostedPostBudgetReachDispatcher0=k;this.$BoostedPostBudgetReachDispatcher1=l;}j.prototype.getNewBudgets=function(k,l,m,n,o){"use strict";new g().setURI(this.$BoostedPostBudgetReachDispatcher2(k,l,n)).setHandler(function(p){var q=p.payload;if(n===h.UPDATE_CUSTOM_BUDGET)q.budgetInfo=this.$BoostedPostBudgetReachDispatcher3(m,q.budgetInfo);o(q);}.bind(this)).send();};j.prototype.$BoostedPostBudgetReachDispatcher3=function(k,l){"use strict";var m=Object.keys(k).concat([this.$BoostedPostBudgetReachDispatcher4(l)]);m.sort();var n={},o=null;for(var p=0;p<m.length;p++){o=m[p];n[o]=k[o]||l[o];}return n;};j.prototype.$BoostedPostBudgetReachDispatcher4=function(k){"use strict";return parseInt(Object.keys(k)[0],10);};j.prototype.$BoostedPostBudgetReachDispatcher2=function(k,l,m){"use strict";return (new i().setInt('id',k).setInt('page_id',this.$BoostedPostBudgetReachDispatcher0).setInt('post_id',this.$BoostedPostBudgetReachDispatcher1).setString('boosted_post_config',l.getJSONString()).setEnum('mode',m).getURI());};e.exports=j;});
__d("AdsBudgetDropdownSelector.react",["AdsCurrencyInput.react","AdsRichSelector.react","AdsTargetingTogglerSafeMixin","React","XUIGrayText.react","XUIText.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=h.Option,p='-1';function q(s){return parseInt(s,10);}var r=j.createClass({displayName:'AdsBudgetDropdownSelector',mixins:[i],propTypes:{budgets:j.PropTypes.object.isRequired,currency:j.PropTypes.string.isRequired,selectedBudget:j.PropTypes.number.isRequired,showCustomBudgetOption:j.PropTypes.bool.isRequired,onBudgetSelected:j.PropTypes.func.isRequired,onBudgetEntered:j.PropTypes.func.isRequired},getInitialState:function(){return {selectedBudget:this.props.selectedBudget};},componentWillReceiveProps:function(s){this.setState({selectedBudget:s.selectedBudget});},_onTextInputChange:function(s){var t=Math.floor(s);if(t===this.state.selectedBudget)return null;this.props.onBudgetEntered(t);},_onSelectorChange:function(s){if(s.value===p){this.refs.budgetTextInput.getDOMNode().focus();return;}var t=q(s.value);this.setStateSafe({selectedBudget:t});this.props.onBudgetSelected(t);},_getEstimatedReach:function(s){var t=this.props.budgets[s].reach_label;if(!t)return null;return (k({className:"_nmo pll",weight:"normal"},t));},_renderDropdown:function(){var s=Object.keys(this.props.budgets).map(q).sort(function(v,w){return v-w;}),t=s.map(function(v){var w=this.props.budgets[v];return (o({key:v,label:w.label,value:v.toString(),selected:v===this.state.selectedBudget},j.DOM.div({className:"_nmp mvs"},l({className:"_nmq prl",size:"xlarge"},w.label),this._getEstimatedReach(v))));},this);if(this.props.showCustomBudgetOption){var u=("Choose Your Own");t.push(o({key:p,label:u,value:p},j.DOM.div({className:"_nmp mvs"},l({className:"prl",size:"xlarge"},u))));}return (h({className:"_5wwb",alignment:"right",noLabel:true,requireSelection:false,size:"xlarge",defaultValue:this.state.selectedBudget.toString(),onChange:this._onSelectorChange},t));},_renderTextInput:function(){return (g({ref:"budgetTextInput",className:"_nmr",height:"tall",value:this.state.selectedBudget,currency:this.props.currency,nonnegative:true,onDataUpdate:this._onTextInputChange,eventType:"change"}));},render:function(){return (j.DOM.div({className:"_51xa"},this._renderTextInput(),this._renderDropdown()));}});e.exports=r;});
__d("BoostedPostConfig",[],function(a,b,c,d,e,f){function g(){"use strict";}g.prototype.setAccountID=function(h){"use strict";this.$BoostedPostConfig0=h;};g.prototype.setAudienceOption=function(h){"use strict";this.$BoostedPostConfig1=h;};g.prototype.setBudget=function(h){"use strict";this.$BoostedPostConfig2=h;};g.prototype.setCampaignLength=function(h){"use strict";this.$BoostedPostConfig3=h;};g.prototype.setCurrency=function(h){"use strict";this.$BoostedPostConfig4=h;};g.prototype.setCustomTargeting=function(h){"use strict";this.$BoostedPostConfig5=h;};g.prototype.setFeedTargeting=function(h){"use strict";if(!h)h=[];this.$BoostedPostConfig6=h;};g.prototype.setPlacement=function(h){"use strict";this.$BoostedPostConfig7=h;};g.prototype.setLowerReachEstimate=function(h){"use strict";this.$BoostedPostConfig8=h.toString().replace(/\D/g,'');};g.prototype.setUpperReachEstimate=function(h){"use strict";this.$BoostedPostConfig9=h.toString().replace(/\D/g,'');};g.prototype.setObjective=function(h){"use strict";this.$BoostedPostConfiga=h;};g.prototype.setLastAudienceID=function(h){"use strict";this.$BoostedPostConfigb=h;};g.prototype.setCampaignEndTime=function(h){"use strict";this.$BoostedPostConfigc=h;};g.prototype.getJSONString=function(){"use strict";return JSON.stringify({account_id:this.$BoostedPostConfig0,audience_option:this.$BoostedPostConfig1,budget:this.$BoostedPostConfig2,campaign_length:this.$BoostedPostConfig3,currency:this.$BoostedPostConfig4,custom_targeting:this.$BoostedPostConfig5,feed_targeting:this.$BoostedPostConfig6,placement:this.$BoostedPostConfig7,lower_reach_estimate:this.$BoostedPostConfig8,upper_reach_estimate:this.$BoostedPostConfig9,objective:this.$BoostedPostConfiga,last_audience_id:this.$BoostedPostConfigb,campaign_end_time:this.$BoostedPostConfigc});};e.exports=g;});
__d("BoostedPostConstraints",[],function(a,b,c,d,e,f){function g(h){"use strict";this.$BoostedPostConstraints0=h.minSelectableAge;this.$BoostedPostConstraints1=h.maxSelectableAge;this.$BoostedPostConstraints2=h.minDailyBudget;this.$BoostedPostConstraints3=h.maxDailyBudget;this.$BoostedPostConstraints4=h.whitelistCountries;this.$BoostedPostConstraints5=h.blacklistCountries;this.$BoostedPostConstraints6=h.whitelistConflicts;this.$BoostedPostConstraints7=h.blacklistConflicts;this.$BoostedPostConstraints8=h.conflictLevel;}g.prototype.getAgeConstraints=function(){"use strict";return {minSelectableAge:this.$BoostedPostConstraints0,maxSelectableAge:this.$BoostedPostConstraints1};};g.prototype.getBudgetConstraints=function(){"use strict";return {minDailyBudget:this.$BoostedPostConstraints9(),maxDailyBudget:this.$BoostedPostConstraintsa()};};g.prototype.$BoostedPostConstraints9=function(){"use strict";return this.$BoostedPostConstraints2;};g.prototype.$BoostedPostConstraintsa=function(){"use strict";return this.$BoostedPostConstraints3;};g.prototype.getWhitelistCountries=function(){"use strict";return this.$BoostedPostConstraints4;};g.prototype.getBlacklistCountries=function(){"use strict";return this.$BoostedPostConstraints5;};g.prototype.getWhitelistConflicts=function(){"use strict";return this.$BoostedPostConstraints6;};g.prototype.getBlacklistConflicts=function(){"use strict";return this.$BoostedPostConstraints7;};g.prototype.getConflictLevel=function(){"use strict";return this.$BoostedPostConstraints8;};g.prototype.setMinDailyBudget=function(h){"use strict";this.$BoostedPostConstraints2=h;};g.prototype.setMaxDailyBudget=function(h){"use strict";this.$BoostedPostConstraints3=h;};e.exports=g;});
__d("BoostedPostConstants",["fbt"],function(a,b,c,d,e,f,g){var h={TARGET_GROUP_FANS:'fans_and_friends',TARGET_GROUP_FANS_TEXT:"Fans and friends of fans",GENDER_MALE:'male',GENDER_MALE_TEXT:"Male",GENDER_FEMALE:'female',GENDER_FEMALE_TEXT:"Female",GENDER_BOTH:'male_and_female',GENDER_BOTH_TEXT:"Male and Female",AUDIENCE_LABELS:["Ad Stopped","Promoted Area","Target Group","Age","Gender","Interest","Language","Other","Boosted By"],END_DATE_LABEL_INDEX:0,END_DATE_LABEL:"End Date",PAYMENT_LABELS:["Current Budget","Payment","Account"],BUDGET_KEY:'budgets'};e.exports=h;});
__d("BoostedPostBudgetValidator",["AdsCurrencyFormatter","fbt"],function(a,b,c,d,e,f,g,h){function i(j,k,l){"use strict";this.$BoostedPostBudgetValidator0=j;this.$BoostedPostBudgetValidator1=k;this.$BoostedPostBudgetValidator2=l;}i.prototype.setCurrency=function(j){"use strict";this.$BoostedPostBudgetValidator0=j;};i.prototype.setBudgetConstraints=function(j){"use strict";this.$BoostedPostBudgetValidator1=j;};i.prototype.setCampaignLength=function(j){"use strict";this.$BoostedPostBudgetValidator2=j;};i.prototype.$BoostedPostBudgetValidator3=function(){"use strict";return this.$BoostedPostBudgetValidator1.minDailyBudget*this.$BoostedPostBudgetValidator2;};i.prototype.$BoostedPostBudgetValidator4=function(){"use strict";return this.$BoostedPostBudgetValidator1.maxDailyBudget*this.$BoostedPostBudgetValidator2;};i.prototype.$BoostedPostBudgetValidator5=function(){"use strict";return this.$BoostedPostBudgetValidator2===1;};i.prototype.isValidBudget=function(j){"use strict";var k=this.$BoostedPostBudgetValidator4(),l=this.$BoostedPostBudgetValidator3();if(j<l){if(this.$BoostedPostBudgetValidator5()){return (h._("The minimum budget is {min_daily_budget} per day.",[h.param("min_daily_budget",g.formatCurrency(this.$BoostedPostBudgetValidator0,this.$BoostedPostBudgetValidator1.minDailyBudget))]));}else return (h._("The minimum budget is {min_daily_budget} per day, so your budget needs to be at least {min_lifetime_budget}.",[h.param("min_daily_budget",g.formatCurrency(this.$BoostedPostBudgetValidator0,this.$BoostedPostBudgetValidator1.minDailyBudget)),h.param("min_lifetime_budget",g.formatCurrency(this.$BoostedPostBudgetValidator0,l))]));}else if(j>k)return (h._("Your budget needs to be less than {max_daily_budget} per day.",[h.param("max_daily_budget",g.formatCurrency(this.$BoostedPostBudgetValidator0,this.$BoostedPostBudgetValidator1.maxDailyBudget))]));return null;};e.exports=i;});
__d("BoostedPostBudgetSelector.react",["AdsBudgetDropdownSelector.react","AdsTargetingTogglerSafeMixin","BoostedPostConfig","BoostedPostConstraints","BoostedPostConstants","BoostedPostBudgetModes","BoostedPostBudgetReachDispatcher","BoostedPostBudgetValidator","BoostedComponentGatingStringsUtil","LoadingIndicator.react","React","cx","fbt","ads-lib-formatters"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=t.createIntlNumberFormatter(0),v=q.createClass({displayName:'BoostedPostBudgetSelector',mixins:[h],propTypes:{pageID:q.PropTypes.string.isRequired,postID:q.PropTypes.string,defaultBudget:q.PropTypes.number.isRequired,initialBudgets:q.PropTypes.object.isRequired,constraints:q.PropTypes.instanceOf(j).isRequired,currency:q.PropTypes.string.isRequired,campaignLength:q.PropTypes.number.isRequired,boostedPostConfig:q.PropTypes.instanceOf(i).isRequired,onDataUpdate:q.PropTypes.func.isRequired,disableSaveButton:q.PropTypes.func.isRequired},componentWillMount:function(){this._requestID=0;this._budgetReachDispatcher=new m(this.props.pageID,this.props.postID);this._budgetValidator=new n(this.props.currency,this.props.constraints.getBudgetConstraints(),this.props.campaignLength);},getInitialState:function(){return {budgets:this._addBudgetReachLabels(this.props.initialBudgets),selectedBudget:this.props.defaultBudget,showLoadingIndicator:false};},_updateBudgetValidator:function(w){var x=w.mode;if(x===l.UPDATE_CAMPAIGN_LENGTH){this._budgetValidator.setCampaignLength(w.campaignLength);}else if(x===l.UPDATE_ACCOUNT||x===l.UPDATE_CURRENCY){this._budgetValidator.setCurrency(w.currency);this._budgetValidator.setBudgetConstraints(w.budgetConstraints);}},fetchNewBudgets:function(w,x,y){this._requestID++;var z={showLoadingIndicator:true};if(w===l.UPDATE_CUSTOM_BUDGET)z.selectedBudget=y;this.setState(z);this.props.disableSaveButton(true);x.setBudget(y);this._budgetReachDispatcher.getNewBudgets(this._requestID,x,this.state.budgets,w,this._newBudgetsCallback);},_newBudgetsCallback:function(w){if(w.id!==this._requestID)return;var x=w.countryGatingConflicts;if(x.conflictLevel){this.setState({showLoadingIndicator:false});var y={locationErrorMsg:o.getGatedCountryConflictString(this.props.constraints.getWhitelistCountries(),this.props.constraints.getBlacklistCountries(),x.whitelistConflicts,x.blacklistConflicts,x.conflictLevel)};this._onDataUpdate(y);return;}this._updateBudgetValidator(w);var z=w.selectedBudget||this.state.selectedBudget,aa={showLoadingIndicator:false,budgets:this._addBudgetReachLabels(w.budgetInfo)};if(w.selectedBudget)aa.selectedBudget=z;this.setState(aa);w.errorMsg=this._budgetValidator.isValidBudget(z);if(!w.errorMsg)w.selectedBudgetInfo=w.budgetInfo[z];this._onDataUpdate(w);},_addBudgetReachLabels:function(w){for(var x in w){var y=w[x];y.reach_label=(s._("Est. Reach {reach_estimate_lower_limit} - {reach_estimate_upper_limit}",[s.param("reach_estimate_lower_limit",u(y.reach_lower)),s.param("reach_estimate_upper_limit",u(y.reach_upper))]));}return w;},_onDataUpdate:function(w){this.props.onDataUpdate(k.BUDGET_KEY,w);},_onBudgetSelected:function(w){this.setStateSafe({selectedBudget:w});this._onDataUpdate({selectedBudgetInfo:this.state.budgets[w]});},_onBudgetEntered:function(w){var x=this._budgetValidator.isValidBudget(w);if(x){this.props.disableSaveButton(true);this.setStateSafe({selectedBudget:w});return this._onDataUpdate({errorMsg:x});}this.fetchNewBudgets(l.UPDATE_CUSTOM_BUDGET,this.props.boostedPostConfig,w);},render:function(){var w=((!this.state.showLoadingIndicator?"hidden_elem":'')+(' '+"mvs"));return (q.DOM.div(null,g({alignh:"right",budgets:this.state.budgets,currency:this.props.currency,selectedBudget:this.state.selectedBudget,showCustomBudgetOption:true,onBudgetSelected:this._onBudgetSelected,onBudgetEntered:this._onBudgetEntered}),q.DOM.div({className:w},p({color:"white",size:"small"}))));}});e.exports=v;});
__d("BoostedPostComposerWidget",["Arbiter","ArbiterMixin","BoostedPostLogging","Button","DOM","Event","Form","PromotedPostConstants","copyProperties","mixin","tx","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=p(h);for(var t in s)if(s.hasOwnProperty(t))v[t]=s[t];var u=s===null?null:s.prototype;v.prototype=Object.create(u);v.prototype.constructor=v;v.__superConstructor__=s;function v(w,x,y,z,aa,ba){"use strict";this._container=w;this._popover=x;this._popoverButton=y;this._flyout=z;this._pageId=aa;this._promoteButtonLabel=ba;this._loggingData={page_id:this._pageId,placement:'from_composer'};this._hiddenInputs={};this._composerFormDiv=k.find(this._container,'.boostedPostForm');this.initialize();}v.prototype.initialize=function(){"use strict";this._flyout.subscribe(n.SAVE,this._saveButtonListener.bind(this));this._flyout.subscribe(n.CANCEL,this._cancelButtonListener.bind(this));this._popover.subscribe('show',function(){g.inform(n.FLYOUT_SHOW);this._flyout.inform(n.FLYOUT_SHOW);i.log('composer_flyout_open',this._loggingData);}.bind(this));this._popover.subscribe('hide',function(){g.inform(n.FLYOUT_HIDE);}.bind(this));this._firstClickListener=l.listen(this._popoverButton,'click',this._onFirstClick.bind(this));g.subscribe('UIPrivacyWidget/globalPrivacyChanged',function(w,x){this._changeTargetingListener(n.TARGETING_CHANGE,{targeting_spec:x.data,targeting_type:n.PRIVACY_TARGETING});}.bind(this));g.subscribe(n.TARGETING_CHANGE,this._changeTargetingListener.bind(this));g.subscribe('composer/reset',this._resetWidget.bind(this));return this;};v.prototype._onFirstClick=function(){"use strict";if(this._firstClickListener){this._firstClickListener.remove();this._firstClickListener=null;}i.logClickConversionTracking(this._pageId,null);};v.prototype._resetWidget=function(w,x){"use strict";this._resetButtonLabel();k.empty(this._composerFormDiv);};v.prototype._saveButtonListener=function(w,x){"use strict";this._setButtonLabel(x.budgetLabel);this._popover.hideLayer();var y={};o(y,x.formData,this._loggingData);i.log('composer_create_save',y);if(this._hiddenInputs.boosted_post_currency)this._hiddenInputs.boosted_post_currency.value="";k.empty(this._composerFormDiv);m.createHiddenInputs(x.formData,this._composerFormDiv,this._hiddenInputs,false);this._flyout.hideLoadingIndicator();};v.prototype._cancelButtonListener=function(w,x){"use strict";var y=k.scry(this._flyout._flyout,'.'+"_1vb5");if(y.length===0)g.inform(n.SAVE_BUTTON_DISABLE,false);this._resetButtonLabel();this._popover.hideLayer();var z={};o(z,x.formData,this._loggingData);i.log('composer_create_cancel',z);k.empty(this._composerFormDiv);};v.prototype._changeTargetingListener=function(w,x){"use strict";this._flyout.updateBudgetsWithTargeting(x.targeting_spec,x.targeting_type);};v.prototype._setButtonLabel=function(w){"use strict";var x=q._("Boosted for {budget}",{budget:w});j.setLabel(this._popoverButton,x);};v.prototype._setButtonLabelPending=function(){"use strict";j.setLabel(this._popoverButton,"Boost Pending");};v.prototype._resetButtonLabel=function(){"use strict";j.setLabel(this._popoverButton,this._promoteButtonLabel);};o(v.prototype,{_firstClickListener:null});e.exports=v;});
__d("BoostedPostCreateFlyout",["Arbiter","ArbiterMixin","Button","CSS","DOM","Event","PromotedPostConstants","cx","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=o(h);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u,v){"use strict";this._flyout=t;this._module=u;this._disclaimer=v;this._saveButton=k.scry(this._flyout,'.saveButton')[0];this._cancelButton=k.scry(this._flyout,'.cancelButton')[0];this._seeTermsLink=k.scry(this._flyout,'.seeTermsLink')[0];this.init();}s.prototype.init=function(){"use strict";this._module.subscribe(m.CANCEL,function(t,u){this.inform(m.CANCEL,u);}.bind(this));this._module.subscribe(m.SAVE,function(t,u){this.inform(m.SAVE,u);}.bind(this));g.subscribe(m.SAVE_BUTTON_DISABLE,this.updateSaveButton.bind(this));g.subscribe(m.SAVE_BUTTON_CLICK,function(t,u){if(this._flyout.id===u)this._module.saveHandler();}.bind(this));g.subscribe(m.CANCEL_BUTTON_CLICK,function(t,u){if(this._flyout.id===u)this._module.cancelHandler();}.bind(this));this._module.subscribe(m.EXIT_LOADING_STATE,this.hideLoadingIndicator.bind(this));this._module.subscribe(m.SAVE_BUTTON_DISABLE,this.updateSaveButton.bind(this));if(this._saveButton)l.listen(this._saveButton,'click',function(){this._module.saveHandler();}.bind(this));if(this._cancelButton)l.listen(this._cancelButton,'click',function(){this._module.cancelHandler();}.bind(this));if(this._seeTermsLink)l.listen(this._seeTermsLink,'click',function(){this._disclaimer.showDisclaimer();}.bind(this));this.subscribe(m.FLYOUT_SHOW,function(){this._module.inform(m.FLYOUT_SHOW);}.bind(this));};s.prototype.updateSaveButton=function(event,t){"use strict";if(!this._saveButton)return;j.conditionClass(this._saveButton,"_42fr",t);this._saveButton.disabled=t;};s.prototype.setButtonsEnabled=function(t){"use strict";if(!this._saveButton||!this._cancelButton)return;i.setEnabled(this._saveButton,t);i.setEnabled(this._cancelButton,t);};s.prototype.getBoostedPostData=function(){"use strict";return this._module.getBoostedPostData();};s.prototype.updateBudgetsWithTargeting=function(t,u){"use strict";this._module.setFeedTargetingSpec(t,u);};s.prototype.getRoot=function(){"use strict";return this._flyout;};s.prototype.hideLoadingIndicator=function(){"use strict";g.inform(m.EXIT_LOADING_STATE,this._flyout.id);};e.exports=s;});
__d("AdsCurrencySelector.react",["AdsCFBox.react","AdsCurrency","AdsSwapChargeCurrency","AdsTargetingTogglerSafeMixin","BoostedComponentEvents","Link.react","React","XUISelector.react","URI","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=n.Option,r=m.createClass({displayName:'AdsCurrencySelector',mixins:[j],propTypes:{initialCurrency:m.PropTypes.string.isRequired,onDataUpdate:m.PropTypes.func.isRequired},getInitialState:function(){return {selectedValue:this.props.initialCurrency};},_onDataUpdate:function(s){this.setStateSafe({selectedValue:s.value});this.props.onDataUpdate(k.UPDATE_CURRENCY,s.value);},_getSortedCurrencies:function(){return h.currencyMapKeys.map(function(s){return h.currencies[s];}).sort(function(s,t){return s.name.localeCompare(t.name);});},_getWarnbox:function(){if(!i[this.state.selectedValue])return null;return (m.DOM.div({className:"mtm"},g({type:"yellow"},p._("Your payment can't be processed in Brazilian Real (BRL) currency. If you select BRL, your payment will be processed in US Dollars. {link}",[p.param("link",l({href:o('/help/359538037512438/')},"Learn more."))]))));},render:function(){var s=this._getSortedCurrencies(),t=s.length,u=[];for(var v=0;v<t;v++)u.push(q({value:s[v].iso},s[v].name));return (m.DOM.div(null,n({value:this.state.selectedValue,onChange:this._onDataUpdate,maxheight:200},u),this._getWarnbox()));}});e.exports=r;});
__d("BoostedPostSection.react",["React","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'BoostedPostSection',propTypes:{border:g.PropTypes.bool},getDefaultProps:function(){return {border:false};},render:function(){var k=i((("_p2w")+(this.props.border?' '+"_p2x":'')),this.props.className);return (g.DOM.div({className:k},this.props.children));}});e.exports=j;});
__d("AdsTargetingConstants",[],function(a,b,c,d,e,f){var g={AUDIENCE:{Grouper:1,Ncpp:2,Custom:3},DEFAULT_MIN_SELECTABLE_AGE:13,DEFAULT_MAX_SELECTABLE_AGE:65,GENDERS:{All:0,Men:1,Women:2},LOCATION_TYPES:{Countries:1,Regions:2,Cities:3},LOCATION_URIS:{1:'/ajax/typeahead/ads_countries.php',2:'/ajax/typeahead/ads_regions.php',3:'/ajax/typeahead/ads_global_cities.php'},MAX_LOCATION_ENTRIES:25,TARGETING_SPEC_KEYS:{NAME:'name',MIN_AGE:'minimum_age',MAX_AGE:'maximum_age',GENDER:'gender',COUNTRIES:'countries',REGIONS:'regions',CITIES:'cities',RADIUS:'radius',INTERESTS:'interests'},KEYWORD_URI:'/ajax/admarket/typeahead/ad_search.php',PRIVACY_REGIONS_URI:'/ajax/typeahead_regions.php',PRIVACY_CITY_URI:'/ajax/typeahead_networks.php',MAX_KEYWORDS_ENTRIES:8,MAX_KEYWORDS_SUGGESTIONS:5};e.exports=g;});
__d("BoostedPostSpecs",["ArbiterMixin","BoostedPostAudienceConstants","BoostedPostConfig","BoostedPrimedDao","AdsTargetingConstants","BoostedPostCustomTargetingTypes","PromotedPostConstants","SearchableEntry","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=o(g);for(var q in p)if(p.hasOwnProperty(q))s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u,v,w,x,y,z,aa,ba,ca,da){"use strict";this._adAccountID=t;this._audience=u;this._currency=v;this._budgetInfo=w;this._campaignLength=x;this._targetingSpec=y;this._hasSticky=aa;this._feedTargetingSpec=z||{};this._lastAudienceID=ba;this._experiments=ca;this._campaignEndTime=da;}s.prototype.setAdAccountID=function(t){"use strict";this._adAccountID=t;j.setAccountID(t);};s.prototype.setAudience=function(t){"use strict";this._audience=t;};s.prototype.setTargetingSpec=function(t){"use strict";this._targetingSpec=t;};s.prototype.setFeedTargetingSpec=function(t,u){"use strict";if(t===m.FEED_TARGETING&&this._experiments.ignore_feed_targeting)return;if(Object.keys(u).length===0){delete this._feedTargetingSpec[t];}else this._feedTargetingSpec[t]=u;this.inform(m.FEED_TARGETING_CHANGE);};s.prototype.setAudienceAndTargetingSpec=function(t,u){"use strict";this._audience=t;this._targetingSpec=u;};s.prototype.setLocation=function(t){"use strict";this._targetingSpec.locations=t;};s.prototype.setRadius=function(t){"use strict";this._targetingSpec.radius=t;if(!t)delete this._targetingSpec.radius;};s.prototype.setMinAge=function(t){"use strict";if(this._targetingSpec.age_min===t)return;this._targetingSpec.age_min=t;};s.prototype.setMaxAge=function(t){"use strict";if(this._targetingSpec.age_max===t)return;this._targetingSpec.age_max=t;};s.prototype.setGender=function(t){"use strict";this._targetingSpec[l.GENDERS]=[t];if(t==k.GENDERS.All)delete this._targetingSpec[l.GENDERS];};s.prototype.setInterests=function(t){"use strict";this._targetingSpec.interests=[];for(var u in t)this._targetingSpec.interests.push({id:u,name:t[u]});};s.prototype.setCurrency=function(t){"use strict";this._currency=t;};s.prototype.setBudgetInfo=function(t){"use strict";this._budgetInfo=t;};s.prototype.setCampaignLength=function(t){"use strict";this._campaignLength=t;};s.prototype.setLastAudienceID=function(t){"use strict";this._lastAudienceID=t;};s.prototype.setCampaignEndTime=function(t){"use strict";this._campaignEndTime=t;};s.prototype.getAdAccountID=function(){"use strict";return this._adAccountID;};s.prototype.getAudience=function(){"use strict";return this._audience;};s.prototype.getTargetingSpec=function(){"use strict";if(this._audience===h.GROUPER)if(this._experiments.location_targeting&&this._targetingSpec){return ({locations:this._targetingSpec.locations,radius:this.getRadius()});}else return null;return this._targetingSpec;};s.prototype.getTargetingSpecRaw=function(){"use strict";return this._targetingSpec;};s.prototype.getFeedTargetingSpec=function(){"use strict";if(!this.hasFeedTargetingSpec())return null;return (this._feedTargetingSpec[m.PRIVACY_TARGETING]||this._feedTargetingSpec[m.FEED_TARGETING]||this._feedTargetingSpec);};s.prototype.getTargetingLevel=function(){"use strict";var t=this._targetingSpec;if(t.locations)return Object.keys(t.locations).pop();return '';};s.prototype.getTargetingLocations=function(){"use strict";var t=this._targetingSpec;if(t.locations){var u=this.getTargetingLevel();return t.locations[u];}return {};};s.prototype.getRadius=function(){"use strict";return this._targetingSpec.radius;};s.prototype.getAgeRange=function(){"use strict";return {ageMin:this._targetingSpec.age_min,ageMax:this._targetingSpec.age_max};};s.prototype.getGender=function(){"use strict";if(this._targetingSpec&&this._targetingSpec.genders)return parseInt(this._targetingSpec.genders[0],10);return k.GENDERS.All;};s.prototype.getCurrency=function(){"use strict";return this._currency;};s.prototype.getBudget=function(){"use strict";return this._budgetInfo.budget_value;};s.prototype.getBudgetLabel=function(){"use strict";return this._budgetInfo.label;};s.prototype.getLowerReachEstimate=function(){"use strict";return this._budgetInfo.reach_lower;};s.prototype.getUpperReachEstimate=function(){"use strict";return this._budgetInfo.reach_upper;};s.prototype.getCampaignLength=function(){"use strict";return this._campaignLength;};s.prototype.getCampaignLengthInDays=function(){"use strict";return this._campaignLength/86400;};s.prototype.getTokenizedInterests=function(){"use strict";var t=[];if(!this._targetingSpec.interests)return t;var u=this._targetingSpec.interests.length;for(var v=0;v<u;v++)t.push((new n({uniqueID:this._targetingSpec.interests[v].id,title:this._targetingSpec.interests[v].name})));return t;};s.prototype.getConfig=function(){"use strict";var t=new i();t.setAccountID(this._adAccountID);t.setAudienceOption(this._audience);t.setCampaignLength(this._campaignLength);t.setCurrency(this._currency);t.setCustomTargeting(this.getTargetingSpec());t.setFeedTargeting(this.getFeedTargetingSpec());t.setLastAudienceID(this.getLastAudienceID());t.setCampaignEndTime(this._campaignEndTime);return t;};s.prototype.getLastAudienceID=function(){"use strict";return this._lastAudienceID;};s.prototype.getCampaignEndTime=function(){"use strict";return this._campaignEndTime;};s.prototype.hasTargetingSpec=function(){"use strict";return !!this._targetingSpec;};s.prototype.hasFeedTargetingSpec=function(){"use strict";return !!Object.keys(this._feedTargetingSpec).length;};s.prototype.hasSticky=function(){"use strict";return this._hasSticky;};s.prototype.notifyAccountChangeFinished=function(){"use strict";this.inform(m.ACCOUNT_CHANGE_FINISH);};e.exports=s;});
__d("BoostedPostLabeledRow.react",["Grid.react","React","XUIGrayText.react","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k){var l=g.GridItem,m=h.createClass({displayName:'BoostedPostLabeledRow',propTypes:{label:h.PropTypes.string.isRequired,border:h.PropTypes.bool,alignv:h.PropTypes.oneOf(['top','middle','bottom'])},getDefaultProps:function(){return {border:false,alignv:'top'};},render:function(){var n=k((("_5vgm")+(this.props.border?' '+"_5vgn":'')),this.props.className);return (h.DOM.div({className:n},g({cols:2,fixed:true,alignv:this.props.alignv,spacing:"pas"},l({className:"_5vgo"},i({weight:"bold"},this.props.label)),l({className:"_5vgp"},this.props.children))));}});e.exports=m;});
__d("AdsAdAccountSelector.react",["AdsTargetingTogglerSafeMixin","BoostedComponentEvents","React","XUISelector.react","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j.Option,m=i.createClass({displayName:'AdsAdAccountSelector',mixins:[g],propTypes:{initialAccount:i.PropTypes.string.isRequired,accounts:i.PropTypes.object.isRequired,onDataUpdate:i.PropTypes.func.isRequired},getInitialState:function(){return {selectedValue:this.props.initialAccount};},_onDataUpdate:function(n){this.setStateSafe({selectedValue:n.value});this.props.onDataUpdate(h.UPDATE_ACCOUNT,n.value);},_getAccountOptions:function(){var n=[],o=this.props.accounts;for(var p in o)n.push(l({value:p},k._("{account_name} ({account_id}, {account_currency})",[k.param("account_name",o[p].name),k.param("account_id",p),k.param("account_currency",o[p].currency)])));return n;},render:function(){return (j({value:this.state.selectedValue,onChange:this._onDataUpdate,maxheight:200},this._getAccountOptions()));}});e.exports=m;});
__d("AdsDurationSelector.react",["AdsTargetingTogglerSafeMixin","BoostedComponentEvents","React","XUISelector.react","fbt"],function(a,b,c,d,e,f,g,h,i,j,k){var l=j.Option,m=i.createClass({displayName:'AdsDurationSelector',mixins:[g],propTypes:{initialValue:i.PropTypes.number.isRequired,onDataUpdate:i.PropTypes.func.isRequired,maxNumDays:function(n,o,p){var q=n[o];if(!q||q<=1||q<n.initialValue)return new Error('Invalid prop maxNumDays provided');}},getInitialState:function(){return {selectedValue:this.props.initialValue};},_onDataUpdate:function(n){this.setStateSafe({selectedValue:n.value});this.props.onDataUpdate(h.UPDATE_DURATION,n.value);},_getOptions:function(){var n=[l({value:1},"1 day")];for(var o=2;o<=this.props.maxNumDays;o++)n.push(l({value:o},k._("{dayNum} days",[k.param("dayNum",o)])));return n;},render:function(){return (j({className:this.props.className,value:this.state.selectedValue,onChange:this._onDataUpdate,maxheight:200},this._getOptions()));}});e.exports=m;});
__d("AdsPaymentInfo.react",["Link.react","React","URI","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.createClass({displayName:'AdsPaymentInfo',propTypes:{adAccountInfo:h.PropTypes.shape({id:h.PropTypes.string,hasFundingSource:function(m,n,o){k(m[n]);}}).isRequired},getInvoicedAccountMsg:function(){return ("Invoice");},getCorporateAccountMsg:function(){var m=i('/ads/manage/billing.php').addQueryData('act',this.props.adAccountInfo.id);return (g({href:m,target:"_blank"},"Corporate Account"));},getAdCouponFundingSourceMsg:function(){return (j._("Ad Coupon ({balance} left)",[j.param("balance",this.props.adAccountInfo.adCoupon)]));},getFundingSourceString:function(){return this.props.adAccountInfo.fundingSourceString;},getGeneralFundingSourceMsg:function(){return (j._("Primary payment method ({account_id})",[j.param("account_id",this.props.adAccountInfo.id)]));},getPaymentLink:function(){var m=i('/ads/manage/funding.php').addQueryData('act',this.props.adAccountInfo.id);return (g({href:m,target:"_blank"},"Change"));},render:function(){var m=this.props.adAccountInfo,n=null;if(m.hasCredit){n=this.getInvoicedAccountMsg();}else if(m.isCorporateAccount){n=this.getCorporateAccountMsg();}else if(m.adCoupon){n=this.getAdCouponFundingSourceMsg();}else if(m.fundingSourceString){n=this.getFundingSourceString();}else n=this.getGeneralFundingSourceMsg();return (h.DOM.div(null,n,h.DOM.span({className:"mls"},this.getPaymentLink())));}});e.exports=l;});
__d("MoreLink.react",["Image.react","Link.react","React","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=i.createClass({displayName:'MoreLink',propTypes:{allowToggle:i.PropTypes.bool,moreLabel:i.PropTypes.string,lessLabel:i.PropTypes.string,isInitiallyCollapsed:i.PropTypes.bool,onClick:i.PropTypes.func.isRequired},getDefaultProps:function(){var n="More",o="Less";return {allowToggle:false,isInitiallyCollapsed:true,moreLabel:n,lessLabel:o};},getInitialState:function(){return {isCollapsed:this.props.isInitiallyCollapsed};},onClick:function(){var n=this.state.isCollapsed;this.setState({isCollapsed:!n});this.props.onClick(!n);},render:function(){if(!this.props.allowToggle&&!this.state.isCollapsed)return i.DOM.div(null);var n=this.props.moreLabel,o=l('/images/ui/xhp/link/more/down_caret.gif');if(!this.state.isCollapsed){n=this.props.lessLabel;o=l('/images/ui/xhp/link/more/up_caret.gif');}return this.transferPropsTo(h({onClick:this.onClick},i.DOM.span({className:"_554b"},n),g({className:"_554d",src:o})));}});e.exports=m;});
__d("BoostedPostMoreOptions.react",["AdsAdAccountSelector.react","AdsDurationSelector.react","AdsPaymentInfo.react","ApiCreativeTypes","BoostedComponentEvents","BoostedDurationSection.react","BoostedPostDisplaySectionConstants","BoostedPostLabeledRow.react","BoostedPostSection.react","DatePickerRestraints","Image.react","Link.react","MoreLink.react","React","TooltipLink.react","URI","XUICalendar.react","cx","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var aa=7,ba=t.createClass({displayName:'BoostedPostMoreOptions',propTypes:{pageID:t.PropTypes.string.isRequired,postID:t.PropTypes.string,selectedAccountID:t.PropTypes.string.isRequired,adAccounts:t.PropTypes.object.isRequired,duration:t.PropTypes.number.isRequired,onDataUpdate:t.PropTypes.func.isRequired,datePickerConfig:t.PropTypes.shape({enabled:t.PropTypes.bool,endTime:t.PropTypes.number,earliestTime:t.PropTypes.number}),labels:t.PropTypes.object.isRequired},getDefaultProps:function(){return {datePickerConfig:{enabled:false,endTime:Date.now()+86400*aa,earliestTime:Date.now()+86400}};},getInitialState:function(){return {isCollapsed:true};},toggleSection:function(){this.setState({showSection:!this.state.showSection});},getDurationSelector:function(){return (o({border:true},n({label:this.props.labels.durationSection},this.getDurationComponent())));},getDurationComponent:function(){if(this.props.datePickerConfig.enabled){var ca="Boost this post until",da=w.normalizeDate(new Date(this.props.datePickerConfig.earliestTime*1000));return (l({initialTimestamp:this.props.datePickerConfig.endTime,onTimestampUpdate:this.props.onDataUpdate.bind(null,k.UPDATE_END_TIME),datePickerPrependText:ca,dateRestraints:[p.enforceDateIsNoEarlierThan(da)]}));}else return (y._("Boost this post for {duration_dropdown}",[y.param("duration_dropdown",h({className:"mls",initialValue:this.props.duration,maxNumDays:aa,onDataUpdate:this.props.onDataUpdate}))]));},getAccountSelector:function(){if(Object.keys(this.props.adAccounts).length<=1)return null;return (o({border:true},n({label:this.props.labels.accountSection},g({accounts:this.props.adAccounts,initialAccount:this.props.selectedAccountID,onDataUpdate:this.props.onDataUpdate}))));},getPaymentInfoSection:function(){var ca=this.props.adAccounts[this.props.selectedAccountID];if(!ca.paymentInfo.hasFundingSource)return null;return (o({border:true},n({label:this.props.labels.paymentSection},i({adAccountInfo:ca.paymentInfo}))));},getAdvancedCFSection:function(){if(!this.props.displaySections[m.ADVANCED])return null;var ca="Advanced",da="Boost your post with advanced options (opens in a new window)",ea=new v('/ads/create/').addQueryData({fbid:this.props.pageID,storyid:this.props.postID,act:this.props.selectedAccountID,creativeType:j.PAGE_POSTS_V2,ref:'promoted_post'});return (o({border:true},n({label:ca},u({href:ea,target:"_blank",tooltip:da},t.DOM.span({className:"_52m3"},"Use advanced options"),q({className:"mls",src:z('/images/ui/x/glyphs/dark/leave_s.png')})))));},getDebugSection:function(){if(!this.props.displaySections[m.DEBUG]||!this.props.postID)return null;var ca=this.props.pageID+'_'+this.props.postID,da=new v('https://www.intern.facebook.com/intern/roe/post').addQueryData({d:ca});return (o({border:true},n({label:"Debug"},r({href:da,target:"_blank"},ca))));},getMoreOptionsToggler:function(){var ca="More Options",da="Less Options";return (s({className:"_4a7r",moreLabel:ca,lessLabel:da,allowToggle:true,onClick:this.toggleSection}));},getExpandedSection:function(){var ca=((!this.state.showSection?"hidden_elem":''));return (t.DOM.div({className:ca},this.getDurationSelector(),this.getAccountSelector(),this.getPaymentInfoSection(),this.getAdvancedCFSection(),this.getDebugSection()));},render:function(){return (t.DOM.div({className:"mbm"},this.getExpandedSection(),this.getMoreOptionsToggler()));}});e.exports=ba;});
__d("BoostedPostAudienceUtil",["AsyncRequest","fbt"],function(a,b,c,d,e,f,g,h){var i={getCountryNames:function(j,k){new g().setURI('/ads/targeting/country_names/').setHandler(function(l){k(l.payload);}).setData({country_isos:j}).setReadOnly(true).setMethod('GET').send();},getRegionNames:function(j,k){new g().setURI('/ads/targeting/region_info/').setHandler(function(l){k(l.payload);}).setData({region_ids:j}).setReadOnly(true).setMethod('GET').send();},getCityNames:function(j,k){new g().setURI('/ads/targeting/city_names/').setHandler(function(l){k(l.payload);}).setData({city_ids:j}).setReadOnly(true).setMethod('GET').send();},getRegionNamesFromSpecFormat:function(j){return j.map(function(k){return k.name;});},getCityNamesFromSpecFormat:function(j){return j.map(function(k){return (h._("{name}, {region}",[h.param("name",k.name),h.param("region",k.region)]));});}};e.exports=i;});
__d("BoostedPostAudienceDetails.react",["BoostedPostAudienceUtil","XUIText.react","AdsTargetingConstants","React","fbt","getObjectValues","intlList"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=j.createClass({displayName:'BoostedPostAudienceDetails',propTypes:{audience:j.PropTypes.object},getInitialState:function(){return {locationNames:null};},componentWillMount:function(){this._init(this.props);},componentWillReceiveProps:function(o){this._init(o);},_init:function(o){if(o.audience.geo_locations){this._populateLocationNames(o.audience.geo_locations);}else if(o.audience.locations)this._populateLocationNamesFromBoostedSpec(o.audience.locations,o.audience.radius);},_populateLocationNamesFromBoostedSpec:function(o,p){if(o.country){this._populateLocationNamesWithObjectValues(o.country);}else if(o.region){this._populateLocationNamesWithObjectValues(o.region);}else if(o.city)this._populateLocationNamesWithObjectValues(o.city,p);},_populateLocationNames:function(o){var p=null,q=null;if(o.countries){g.getCountryNames(o.countries,this._populateLocationNamesWithObjectValues);}else if(o.regions){p=g.getRegionNamesFromSpecFormat(o.regions);}else if(o.cities){if(o.cities.length)q=o.cities[0].radius;p=g.getCityNamesFromSpecFormat(o.cities);}if(p)this._populateLocationNamesWithList(p,q);},_populateLocationNamesWithList:function(o,p){var q='',r=h({weight:"bold"},"Locations:");if(p)q=k._("Within {radius_in_miles} miles of",[k.param("radius_in_miles",p)]);var s=k._("{location_targeting_label} {radius_for_city_targeting} {location_targeting_list}",[k.param("location_targeting_label",r),k.param("radius_for_city_targeting",q),k.param("location_targeting_list",m(o,m.CONJUNCTIONS.AND))]);this.setState({locationNames:s});},_populateLocationNamesWithObjectValues:function(o,p){this._populateLocationNamesWithList(l(o),p);},_getGenderDetails:function(o){var p=o&&o.length&&o[0],q=null;switch(p){case i.GENDERS.Men:q="Men";break;case i.GENDERS.Women:q="Women";break;default:q="Men or Women";break;}return (j.DOM.div(null,k._("{gender_targeting_label} {gender_targeting_list}",[k.param("gender_targeting_label",h({weight:"bold"},"Gender:")),k.param("gender_targeting_list",q)])));},_getAgeDetails:function(o,p){var q=o?o:i.DEFAULT_MIN_SELECTABLE_AGE,r=p?p:i.DEFAULT_MAX_SELECTABLE_AGE;return (k._("{age_targeting_label} {min_age}-{max_age}",[k.param("age_targeting_label",h({weight:"bold"},"Age:")),k.param("min_age",q),k.param("max_age",r)]));},_getLocationDetails:function(){return this.state.locationNames;},_getInterestDetails:function(o){if(!o)return null;var p=o.map(function(q){return q.name;});return (k._("{interest_targeting_label} {interest_targeting_list}",[k.param("interest_targeting_label",h({weight:"bold"},"Interests:")),k.param("interest_targeting_list",m(p,m.CONJUNCTIONS.AND))]));},render:function(){var o=this.props.audience,p=o.genders?o.genders:null,q=null;if(o)q=(j.DOM.div(null,j.DOM.div(null,this._getGenderDetails(p)),j.DOM.div(null,this._getAgeDetails(o.age_min,o.age_max)),j.DOM.div(null,this._getLocationDetails()),j.DOM.div(null,this._getInterestDetails(o.interests))));return q;}});e.exports=n;});
__d("BoostedPostAudienceManagerConstants",["fbt"],function(a,b,c,d,e,f,g){var h={NEW_AUDIENCE_ID:"new",SPECIAL_AUDIENCES:{LAST_USED:1,GROUPER:2,MANAGE:3,DEFAULT:4},EDITOR_MODES:{CREATE:0,EDIT:1,FREEFORM:2},EDITOR_ACTIONS:{CREATE:1,EDIT:2,DELETE:3},MESSAGES:{AUDIENCE_SAVED:"Audience Saved!",AUDIENCE_UPDATED:"Audience Updated!",AUDIENCE_DELETED:"Audience Deleted!",CREATE_AUDIENCE_ERROR:"Failed to create audience",UPDATE_AUDIENCE_ERROR:"Failed to update audience",DELETE_AUDIENCE_ERROR:"Failed to delete audience",MUST_SPECIFY_LOCATION:"Location must be specified"},LABELS:{AUDIENCE_DETAILS:"Audience Details",AUDIENCE:"Audience",NAME:"Name"},MAX_NAME_LENGTH:40,DEFAULT_NAME_INITIAL_NUMBER:1};e.exports=h;});
__d("AdsTargetingViewConfig",["AdsTargetingSectionsLabels","ImmutableObject","keyMirror"],function(a,b,c,d,e,f,g,h,i){var j=i({OFF:null,STRONG:null,WEAK:null,BROADEN:null,DANGEROUS:null}),k=13,l=65,m=['relationshipSingle','relationshipInA','relationshipMarried','relationshipEngaged','relationshipUnspecified'],n='cities',o='zips',p='regions',q=['collegeNetworks','workNetworks'],r=i({getFeatureEffect:null}),s=i({}),t={INTERESTS:{getFeatureEffect:function(w){var x=(w.keywords&&w.keywords.length)||(w.interests&&w.interests.length);return (x)?j.STRONG:j.OFF;}},CUSTOM_AUDIENCE:{getFeatureEffect:function(w){return (w.customAudiences&&w.customAudiences.length)?j.STRONG:j.OFF;}},CONNECTIONS:{getFeatureEffect:function(w){var x=(w.connections&&w.connections.length)||(w.friendsOfConnections&&w.friendsOfConnections.length);return x?j.STRONG:j.OFF;}},CATEGORIES:{getFeatureEffect:function(w){return (w.userAdclusters&&w.userAdclusters.length)?j.STRONG:j.OFF;}},LOCATION:{getFeatureEffect:function(w){if(w.geoLocations){var x=w.geoLocations,y=x.cities&&x.cities.length,z=x.zips&&x.zips.length,aa=x.regions&&x.regions.length,ba=w.excludedGeoLocations||{},ca=0;Object.keys(ba).forEach(function(fa){ca+=ba[fa].length||0;});if(y||z){return j.STRONG;}else if(aa){return (ca)?j.STRONG:j.WEAK;}else if(x.countries&&x.countries.length>1)return (ca)?j.WEAK:j.BROADEN;return (ca)?j.WEAK:j.OFF;}var da=(w.locTargeting===o)||(w.locTargeting===n),ea=(w.cities&&w.cities.length)||(w.zips&&w.zips.length);if(da&&ea)return j.STRONG;if(w.locTargeting===p&&w.regions&&w.regions.length)return j.WEAK;if(w.countries&&w.countries.length>1)return j.BROADEN;return j.OFF;}},GENDER_AGE:{getFeatureEffect:function(w){if((w.ageMax&&w.ageMax!==l)||(w.ageMin&&w.ageMin!==k)||(w.sex))return j.WEAK;return j.OFF;}},SCHOOL:{getFeatureEffect:function(w){if(!w.educationStatus)return j.OFF;var x=w.educationStatus===2||w.educationStatus===3,y=w.collegeNetworks&&w.collegeNetworks.length,z=w.collegeMajors&&w.collegeMajors.length;if(!x)return j.WEAK;if(y&&z)return j.DANGEROUS;if(y||z)return j.STRONG;return j.WEAK;}},WORK:{getFeatureEffect:function(w){return (w.workNetworks&&w.workNetworks.length)?j.STRONG:j.OFF;}},LANGUAGE:{getFeatureEffect:function(w){return (w.locales&&w.locales.length)?j.WEAK:j.OFF;}},RELATIONSHIP:{getFeatureEffect:function(w){var x=!!w.interestedInSex,y=false,z=true;m.forEach(function(aa){y=y||w[aa];z=z&&w[aa];});if(z||!y)return (x)?j.WEAK:j.OFF;return (x)?j.STRONG:j.WEAK;}},DEVICE:{getFeatureEffect:function(w){var x=0;if(w.wifiOnly)x++;var y=w.mobileDevices||[];if(y.length&&y.length!==3)x++;if(w.minIosVersion||w.minAndroidVersion)x++;if(x>1){return j.STRONG;}else if(x===1)return j.WEAK;return j.OFF;}},ADV_DEMO:{getFeatureEffect:function(w){var x=!!Object.keys(g).filter(function(y){return q.indexOf(y)==-1&&w[y]&&w[y].length;}).length;return x?j.STRONG:j.OFF;}}},u={};Object.keys(t).forEach(function(w){t[w].KEY=w;u[w]=w;});var v={INTERFACE:r,OPTIONAL_INTERFACE:s,EFFECTS:j,FEATURES:u,getViewNames:function(){return Object.keys(t);},getAllViewConfigs:function(){return Object.keys(t).map(function(w){return new h(t[w]);});},getViewConfigByName:function(w){return new h(t[w]);}};e.exports=v;});
__d("AdsTargetingRatingUtils",["AdsTargetingViewConfig","ImmutableObject","keyMirror","merge"],function(a,b,c,d,e,f,g,h,i,j){var k=g.EFFECTS,l=i({TOO_SMALL:null,SMALL:null,GOOD:null,TOO_BROAD:null}),m=i({DANGEROUS:null,VAGUE:null,GOOD:null,GREAT:null,NONE:null}),n=i({BAD_TOO_BROAD:null,BAD_TOO_SMALL:null,VAGUE:null,GOOD:null}),o=1000*1000,p=100*o,q=2500,r=10000,s=3,t=2,u={SIZE_RATINGS:l,FEATURE_RATINGS:m,OVERALL_RATINGS:n,getFeaturesByEffect:function(v){var w=g.getAllViewConfigs(),x={};Object.keys(k).forEach(function(y){x[y]=[];});w.forEach(function(y){var z=y.getFeatureEffect(v);x[z].push(y);});return x;},getConfigsWithFeature:function(v){var w=g.getAllViewConfigs();return w.map(function(x){return new h(j(x,{EFFECT:x.getFeatureEffect(v)}));});},getAudienceSizeRating:function(v){var w=l;if(v<=q){return w.TOO_SMALL;}else if(v<=r){return w.SMALL;}else if(v<p)return w.GOOD;return w.TOO_BROAD;},getFeaturesRating:function(v){var w=m,x=this.getFeaturesByEffect(v);delete x[k.OFF];if(x[k.DANGEROUS].length)return w.DANGEROUS;var y=x[k.STRONG].length,z=x[k.WEAK].length;y+=Math.floor(z/s);if(y>=t){return w.GREAT;}else if(y){return w.GOOD;}else if(z)return w.VAGUE;return w.NONE;},getOverallRating:function(v,w){var x=this.getFeaturesRating(v),y=this.getAudienceSizeRating(w),z=l,aa=m,ba=n;switch(y){case z.TOO_SMALL:return ba.BAD_TOO_SMALL;case z.TOO_BROAD:switch(x){case aa.NONE:case aa.DANGEROUS:return ba.BAD_TOO_BROAD;case aa.VAGUE:case aa.GOOD:return ba.VAGUE;case aa.GREAT:return ba.GOOD;}break;case z.GOOD:switch(x){case aa.DANGEROUS:return ba.GOOD;case aa.NONE:return ba.BAD_TOO_BROAD;case aa.VAGUE:return ba.VAGUE;case aa.GOOD:case aa.GREAT:return ba.GOOD;}break;case z.SMALL:switch(x){case aa.DANGEROUS:return ba.BAD_TOO_SMALL;case aa.NONE:case aa.VAGUE:return ba.VAGUE;case aa.GOOD:case aa.GREAT:return ba.GOOD;}}}};e.exports=u;});
__d("AdsTargetingEstimateFeedbackThrottle.react",["AdsTargetingRatingUtils","AdsOtherConsts","BrowserSupport","Image.react","LeftRight.react","LoadingIndicator.react","NumberFormat","React","cx","fbt","ix","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=n.PropTypes,t=g.OVERALL_RATINGS;function u(w){switch(w){case t.GOOD:return ("Your audience is defined.");case t.VAGUE:return ("Your audience selection is fairly broad.");case t.BAD_TOO_SMALL:return ("Your audience is too specific for your ads to be shown. Try making it broader.");case t.BAD_TOO_BROAD:return ("Your audience selection is broad. This requires a large budget.");}}var v=n.createClass({displayName:'AdsTargetingEstimateFeedbackThrottle',propTypes:{ready:s.bool.isRequired,loading:s.bool.isRequired,rating:s.string.isRequired,users:s.number.isRequired,sentences:s.array,estimateErrors:s.array},getDefaultProps:function(){return {sentences:[],estimateErrors:[]};},render:function(){return (n.DOM.div({className:"_1g9y"},this.renderHeader(),this.renderWarning(),n.DOM.div({className:this._getFeedbackSectionClasses()},this.renderFeedbackSection()),this.renderSentences(),this.renderUsers()));},renderHeader:function(){return (n.DOM.div({className:r('fwb',"_1g9z",this._getRatingIfNotError())},"Audience Definition"));},renderFeedbackSection:function(){if(!this.props.ready)return null;return {throttle:this.renderThrottle(),feedback:this.renderFeedback()};},renderThrottle:function(){if(!this.showNeedle())return null;return (n.DOM.div({className:"_1g9- lfloat"},n.DOM.div({className:"_1g9_"},j({className:r("_1ga0",this.props.rating),src:q('/images/ads/createflow/targeting/needle.png')}),j({className:"_1ga1",src:q('/images/ads/createflow/targeting/meter.png')}),k({className:"_1ga2"},this.renderNeedleLabel("Specific"),this.renderNeedleLabel("Broad")))));},renderNeedleLabel:function(w){return (n.DOM.span({'data-hover':"tooltip",'data-tooltip-alignh':"center",'aria-label':w,className:"_1ga3"},w));},renderFeedback:function(){if(this._isErrorState())return null;return (n.DOM.div({className:(("rfloat")+(' '+"fsm")+(' '+"_1ga4")+(!this.showNeedle()?' '+"noNeedle":''))},u(this.props.rating)));},renderSentence:function(w){if(!w.content)return n.DOM.li({key:w},w);return (n.DOM.li({key:w.content},n.DOM.div(null,w.content),n.DOM.ul({className:"_1ga5 pll"},(w.children||[]).map(function(x,y){return (n.DOM.li({key:x},x));}))));},renderSentences:function(){if(!this.props.sentences.length)return null;var w=this.props.sentences.map(function(x){return this.renderSentence(x);}.bind(this));return (n.DOM.div({className:"_1ga6",'data-testid':"targeting-estimate-feedback"},n.DOM.span({className:"fwb"},"Audience Details:"),n.DOM.ul({className:"_1ga7 pll pts"},w)));},renderUsers:function(){if(!this.props.ready)return null;return (this._isErrorState())?this.renderErrorInfo():n.DOM.div({className:"_1ga8"},this.renderNumUsers());},renderNumUsers:function(){if(this.props.loading)return (n.DOM.div({className:"_1ga9"},l({size:l.SIZES.small,color:l.COLORS.blue})));var w=this.props.users;if(w<=h.REACH_TOO_LOW_NUMBER)return (p._("Potential Reach: Fewer than {users} people",[p.param("users",h.REACH_TOO_LOW_NUMBER)]));return (p._("Potential Reach: {users} people",[p.param("users",m.formatInteger(w))]));},renderWarning:function(){if(!this._isErrorState())if(!this.props.ready)return (n.DOM.div({className:"_1gaa"},"Continue to create your audience while your customer list is being built"));return null;},renderErrorInfo:function(){return (n.DOM.div({className:"_1gaa"},"Accurate information about your audience size isn't available.",this.renderEstimateErrors()));},renderEstimateErrors:function(){if(!this.props.estimateErrors.length)return;var w=this.props.estimateErrors.map(function(x){return this.renderSentence(x);}.bind(this));return (n.DOM.ul({className:"_1ga7 pll pts"},w));},showNeedle:function(){return i.hasCSSTransforms()&&i.hasCSSTransitions();},_getRatingIfNotError:function(){if(!this.props.ready)return '';return (this._isErrorState())?'':this.props.rating;},_isErrorState:function(){return isNaN(this.props.users)||this.props.estimateErrors.length;},_getFeedbackSectionClasses:function(){return r('clearfix',"_1gab",this._getRatingIfNotError(),this._isErrorState()?'ERROR':'');}});e.exports=v;});
__d("AdsTargetingEstimateUtils",["AdsCFAudienceEstimateValidator"],function(a,b,c,d,e,f,g){var h={getEstimateErrorFromTargetingSpec:function(i){var j=g.validateTargetingSpec(i),k=[];for(var l in j){var m=j[l];if(!m.isValid)k.push(m.errorMessage);}return k;}};e.exports=h;});
__d("BoostedPostTargetingController",["AdsTargetingModelAdapter","AdsDaoGraph","BoostedPostAudienceManagerConstants","BoostedPostAppConfig","BoostedPostLogging","BoostedPostEventType","AdsTargetingConstants","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(p,q){"use strict";this.$BoostedPostTargetingController0=h.primedForAccount(p);this.$BoostedPostTargetingController1=q;}o.prototype.getDao=function(){"use strict";return this.$BoostedPostTargetingController0;};o.prototype.getTargetingSpecs=function(p){"use strict";this.$BoostedPostTargetingController0.fetch.audiencesForAccount.one(p,{access_token:j.access_token});};o.prototype.saveTargetingSpec=function(p,q,r,s){"use strict";var t=this.$BoostedPostTargetingController2(p,q);if(!this.$BoostedPostTargetingController3(p,s))return;this.$BoostedPostTargetingController4(p);k.log(l.AM_AUDIENCE_CREATED,{custom_targeting_raw:g.getApiSpec()});this.$BoostedPostTargetingController0.add.createNewSavedTargetSpec.one(function(){this.$BoostedPostTargetingController0.fetch.audiencesForAccount.clearCache();r();}.bind(this),{targeting_spec:g.getApiSpec(),name:t,access_token:j.access_token,handleError:s.bind(null,i.MESSAGES.CREATE_AUDIENCE_ERROR)});};o.prototype.updateTargetingSpec=function(p,q,r,s,t,u){"use strict";var v=this.$BoostedPostTargetingController2(p,r,s);if(!this.$BoostedPostTargetingController3(p,u))return;this.$BoostedPostTargetingController4(p);k.log(l.AM_AUDIENCE_EDITED,{id:q,custom_targeting_raw:g.getApiSpec()});this.$BoostedPostTargetingController0.mutate.savedTargetSpec.one(function(){this.$BoostedPostTargetingController0.fetch.audiencesForAccount.clearCache();t();}.bind(this),{targeting_spec:g.getApiSpec(),name:v,audienceId:q,access_token:j.access_token,handleError:u.bind(null,i.MESSAGES.UPDATE_AUDIENCE_ERROR)});};o.prototype.deleteTargetingSpec=function(p,q,r){"use strict";k.log(l.AM_AUDIENCE_DELETED,{id:p});this.$BoostedPostTargetingController0.remove.audience.one(function(){this.$BoostedPostTargetingController0.fetch.audiencesForAccount.clearCache();q();}.bind(this),{audienceId:p,access_token:j.access_token,handleError:r.bind(null,i.MESSAGES.DELETE_AUDIENCE_ERROR)});};o.prototype.fetchReachEstimates=function(p,q,r){"use strict";this.$BoostedPostTargetingController0.fetch.estimatesForAccount.one(r,{access_token:j.access_token,currency:q,targeting_spec:p});};o.prototype.getTargetingSpecFromAudienceValues=function(p){"use strict";this.$BoostedPostTargetingController4(p);return g.getApiSpec();};o.prototype.$BoostedPostTargetingController3=function(p,q){"use strict";if(this.$BoostedPostTargetingController5(p))if(!(this.$BoostedPostTargetingController1.length)){q(i.MESSAGES.MUST_SPECIFY_LOCATION);return false;}return true;};o.prototype.$BoostedPostTargetingController5=function(p){"use strict";switch(p.getLocationType()){case m.LOCATION_TYPES.Countries:if(!p.getCountries().length)return true;break;case m.LOCATION_TYPES.Regions:if(!p.getRegions().length)return true;break;case m.LOCATION_TYPES.Cities:if(!p.getCities().length)return true;break;default:return true;}return false;};o.prototype.$BoostedPostTargetingController6=function(){"use strict";g.unset('geoLocations');g.unset('ageMin');g.unset('ageMax');g.setGenders([]);g.unset('interests');};o.prototype.$BoostedPostTargetingController4=function(p){"use strict";this.$BoostedPostTargetingController6();if(this.$BoostedPostTargetingController5(p)){g.setGeoLocations({countries:this.$BoostedPostTargetingController1});}else switch(p.getLocationType()){case m.LOCATION_TYPES.Countries:g.setGeoLocations({countries:p.getCountries()});break;case m.LOCATION_TYPES.Regions:var q=p.getRegions().map(function(t){return {key:t};});g.setGeoLocations({regions:q});break;case m.LOCATION_TYPES.Cities:var r=null;if(p.getRadius())r=p.getRadius();var s=p.getCities().map(function(t){return {key:t,radius:r,distance_unit:'mile'};});g.setGeoLocations({cities:s});break;}if(p.getMinAge())g.setAgeMin(p.getMinAge());if(p.getMaxAge())g.setAgeMax(p.getMaxAge());if(p.getGender())g.setGenders([p.getGender()]);if(p.getInterests())g.setInterests(p.getInterests());};o.prototype.$BoostedPostTargetingController2=function(p,q,r){"use strict";var s=p.getName();if(s&&s.length)return s;if(r)return r;var t=i.DEFAULT_NAME_INITIAL_NUMBER;while(1){var u=n._("Audience {audience_number}",[n.param("audience_number",t)]);if(q.indexOf(u)===-1)return u;++t;}};e.exports=o;});
__d("XUIDialogSaveButton.react",["React","XUIDialogButton.react","tx"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'XUIDialogSaveButton',render:function(){return this.transferPropsTo(h({action:"confirm",label:"Save"}));}});e.exports=j;});
__d("XUIDialogCancelButton.react",["React","XUIDialogButton.react","tx"],function(a,b,c,d,e,f,g,h,i){var j=g.createClass({displayName:'XUIDialogCancelButton',render:function(){return this.transferPropsTo(h({action:"cancel",label:"Cancel"}));}});e.exports=j;});
__d("TokenizerToken.react",["CloseButton.react","React","SearchableEntry","cx","tx"],function(a,b,c,d,e,f,g,h,i,j,k){var l=h.createClass({displayName:'TokenizerToken',propTypes:{label:h.PropTypes.string.isRequired,entry:h.PropTypes.instanceOf(i),onRemove:h.PropTypes.func,highlighted:h.PropTypes.bool},render:function(){var m;if(this.props.onRemove)m=g({'aria-label':k._("Remove {item}",{item:this.props.label}),className:"_58zx",size:"small",onClick:this._onClick});var n=(("_58zy")+(this.props.highlighted?' '+"_58zz":''));return this.transferPropsTo(h.DOM.span({className:n,label:null},this.props.label,m));},_onClick:function(m){m.preventDefault();this.props.onRemove(this.props.entry);}});e.exports=l;});
__d("AbstractTokenizer.react",["AbstractTypeahead.react","React","TokenizerToken.react","cx","emptyFunction","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=h.createClass({displayName:'AbstractTokenizer',propTypes:{className:h.PropTypes.string,inputClassName:h.PropTypes.string,tokenClassName:h.PropTypes.string,placeholder:h.PropTypes.string,queryString:h.PropTypes.string,searchSource:h.PropTypes.object.isRequired,searchSourceOptions:h.PropTypes.object,presenter:h.PropTypes.object.isRequired,entries:h.PropTypes.array,onAddEntryAttempt:h.PropTypes.func.isRequired,onRemoveEntryAttempt:h.PropTypes.func.isRequired,onReorderEntryAttempt:h.PropTypes.func,onQueryStringChange:h.PropTypes.func,onInputFocus:h.PropTypes.func,onInputBlur:h.PropTypes.func,onTypeaheadMouseDown:h.PropTypes.func,excludedEntries:h.PropTypes.object,limit:function(n,o,p){var q=n[o];if(typeof q!=='undefined'&&!(typeof q==='number'&&q>0))return new Error('Invalid entries limit provided, must be a positive number.');},selectOnBlur:h.PropTypes.bool,selectOnTab:h.PropTypes.bool,tokenizeQueryString:h.PropTypes.func,tokenizeQueryStringOnBlur:h.PropTypes.func},getDefaultProps:function(){return {onInputBlur:k,selectOnBlur:false,selectOnTab:true,tokenizeQueryString:k.thatReturnsNull,tokenizeQueryStringOnBlur:k.thatReturnsNull};},getInitialState:function(){return {queryString:''};},_getQueryString:function(){return this.props.queryString||this.state.queryString;},_hasReachedEntriesLimit:function(){if(this.props.limit&&this.props.entries)return this.props.entries.length>=this.props.limit;return false;},componentWillReceiveProps:function(n){if(n.queryString==null&&this.props.queryString!=null)this.setState({queryString:this.props.queryString});},render:function(){var n=!!this.props.onReorderEntryAttempt,o=l((("_58-2")+(n?' '+"_5ph3":'')),'clearfix',this.props.className),p,q=this.props.entries,r={},s=q&&q.length>0,t;if(s){p=[];for(var u=0,v=q.length;u<v;u++){var w=q[u];t=w.getUniqueID();p[u]=this._renderToken(w,u);r[t]=true;}}if(this.props.excludedEntries)for(t in this.props.excludedEntries)r[t]=this.props.excludedEntries[t];var x=s?null:this.props.placeholder;return this.transferPropsTo(h.DOM.div({className:o,placeholder:null,onClick:this._focusTypeahead,onMouseDown:this._onTypeaheadMouseDown,onDragOver:this.onBackgroundDragOver,onDrop:this.onBackgroundDrop,'data-testid':this.props['data-testid']},p,g({ref:"typeahead",selectedEntry:null,className:"_58-0",'data-testid':this.props['data-testid'],inputClassName:this.props.inputClassName,showEntriesOnFocus:this.props.showEntriesOnFocus,queryString:this._getQueryString(),placeholder:x,presenter:this.props.presenter,searchSource:this.props.searchSource,searchSourceOptions:this.props.searchSourceOptions,excludedEntries:r,onSelectAttempt:this._onSelectAttempt,onChange:this._onInputChange,onFocus:this.props.onInputFocus,onBlur:this._onInputBlur,onBackspace:this._onBackspace,autoHighlight:true,selectOnBlur:this.props.selectOnBlur,selectOnTab:this.props.selectOnTab,context:this.props.context}),h.DOM.span({ref:"textSizeProxy",className:"_58-3",'aria-hidden':"true"},this._getQueryString()||x)));},componentDidMount:function(){this._syncTimer=setTimeout(this._syncInputWidth,0);},componentDidUpdate:function(){clearTimeout(this._syncTimer);this._syncTimer=setTimeout(this._syncInputWidth,0);},componentWillUnmount:function(){clearTimeout(this._syncTimer);},clearActiveEntries:function(){this.refs.typeahead&&this.refs.typeahead.clearActiveEntries();},focusInput:function(){if(this.refs&&this.refs.typeahead)this.refs.typeahead.focusInput();},_focusTypeahead:function(n){n.preventDefault();this.focusInput();},_onTypeaheadMouseDown:function(){this.props.onTypeaheadMouseDown&&this.props.onTypeaheadMouseDown();},_onInputChange:function(event){if(this._hasReachedEntriesLimit())return;var n=event.target.value,o=this.props.tokenizeQueryString(n);if(o){this._onSelectAttempt(o);}else if(this.props.queryString==null)this.setState({queryString:n});if(this.props.onQueryStringChange)this.props.onQueryStringChange(event);},_onInputBlur:function(){var n=this._getQueryString(),o=this.props.tokenizeQueryStringOnBlur(n);if(o)this._onBlurringSelectAttempt(o);this.props.onInputBlur();},_onSelectAttempt:function(n){this._onAddEntryAttempt(n);setTimeout(this.focusInput,0);},_onBlurringSelectAttempt:function(n){this._onAddEntryAttempt(n);},_onAddEntryAttempt:function(n){if(n){this.props.onAddEntryAttempt(n);if(this.props.queryString==null)this.setState({queryString:''});}},_onRemove:function(n){this.props.onRemoveEntryAttempt(n);},_onBackspace:function(event){var n=this.props.entries;if(n&&!this._getQueryString()&&n.length){var o=n[n.length-1];this.props.onRemoveEntryAttempt(o);event.preventDefault();setTimeout(this.focusInput,0);}},_syncInputWidth:function(){var n=this.refs.textSizeProxy.getDOMNode().offsetWidth;if(n===0)return;this.refs.typeahead.getTextFieldDOM().style.width=n+'px';},onBackgroundDragOver:function(event){event.preventDefault();var n=event.nativeEvent.dataTransfer;if(n)n.dropEffect='move';var o=this.props.entries;this.onTokenDragOver(o[o.length-1],o.length-1,false);},onBackgroundDrop:function(event){this.onTokenDrop(null,this.props.entries.length);},onTokenDragStart:function(n,o){this.setState({draggingIndex:o});},onTokenDragEnd:function(n,o){this.setState({draggingIndex:null});},onTokenDragLeave:function(n,o){if(this.leaveTimer)return;this.leaveTimer=setTimeout(function(){this.leaveTimer=null;if(this.state.dragTargetIndex===null)return;this.setState({dragTargetIndex:null});}.bind(this),100);},onTokenDragOver:function(n,o,p){if(this.leaveTimer){clearTimeout(this.leaveTimer);this.leaveTimer=null;}if(this.state.draggingIndex!==null&&this.state.draggingIndex!==o&&this.props.onReorderEntryAttempt){if(this.state.dragTargetIndex===o&&this.state.draggedOverLeftSideOfElement===p)return;this.setState({dragTargetIndex:o,draggedOverLeftSideOfElement:p});}},onTokenDrop:function(n,o){if(this.state.draggingIndex!==null&&this.props.onReorderEntryAttempt){if(!this.state.draggedOverLeftSideOfElement)o++;if(this.state.draggingIndex!==o)this.props.onReorderEntryAttempt(this.state.draggingIndex,o);}this.setState({draggingIndex:null,dragTargetIndex:null,draggedOverLeftSideOfElement:null});},_renderToken:function(n,o){var p=this.props.presenter.TokenRenderer||i,q=this.state.draggingIndex===o,r=!!this.props.onReorderEntryAttempt,s=this.state.dragTargetIndex===o,t=l((("_2ei6")+(q?' '+"_5ph4":'')+(s?' '+"_5o8i":'')+(s&&this.state.draggedOverLeftSideOfElement?' '+"_5o8j":'')+(s&&!this.state.draggedOverLeftSideOfElement?' '+"_5o8k":'')),this.props.tokenClassName);return (p({className:t,key:n.getUniqueID(),label:n.getTitle(),entry:n,index:o,onRemove:this._onRemove,isDragDropEnabled:r,onTokenDragStart:this.onTokenDragStart,onTokenDragEnd:this.onTokenDragEnd,onTokenDragOver:this.onTokenDragOver,onTokenDragLeave:this.onTokenDragLeave,onTokenDrop:this.onTokenDrop}));}});e.exports=m;});
__d("DraggableTokenMixin.react",["ReactPropTypes","React","Rect","cx"],function(a,b,c,d,e,f,g,h,i,j){var k={lastDragEventPageX:null,propTypes:{isDragDropEnabled:g.bool,index:g.number.isRequired,onTokenDragStart:g.func.isRequired,onTokenDragEnd:g.func.isRequired,onTokenDragLeave:g.func.isRequired,onTokenDragOver:g.func.isRequired,onTokenDrop:g.func.isRequired},onTokenDragStart:function(event){var m=event.nativeEvent.dataTransfer;if(m){m.setData('text','');m.setDragImage(this.refs.draggableToken.getDOMNode(),0,0);}this.props.onTokenDragStart(this.props.entry,this.props.index);},onTokenDragEnd:function(event){this.props.onTokenDragEnd(this.props.entry,this.props.index);},onTokenDragLeave:function(event){this.props.onTokenDragLeave(this.props.entry,this.props.index);},onTokenDragOver:function(event){event.preventDefault();var m=event.nativeEvent.dataTransfer;if(m)m.dropEffect='move';if(event.pageX!==this.lastDragEventPageX){var n=this.getDOMNode(),o=i.getElementBounds(n).getCenter().x,p=event.pageX<o;this.props.onTokenDragOver(this.props.entry,this.props.index,p);}return false;},onTokenDrop:function(event){event.stopPropagation();this.props.onTokenDrop(this.props.entry,this.props.index);},renderDraggableToken:function(m){if(!this.props.isDragDropEnabled)return m;return (h.DOM.a({className:"_5o8l",draggable:true,href:"#",onClick:l,onDragStart:this.onTokenDragStart,onDragEnd:this.onTokenDragEnd,onDragOver:this.onTokenDragOver,onDragLeave:this.onTokenDragLeave,onDrop:this.onTokenDrop,ref:"draggableToken"},m));}};function l(m){m.preventDefault();}e.exports=k;});
__d("XUITokenizerToken.react",["DraggableTokenMixin.react","ReactPropTypes","React","SearchableEntry","XUICloseButton.react","cx","tx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({displayName:'XUITokenizerToken',mixins:[g],propTypes:{label:h.string.isRequired,entry:h.instanceOf(j),onRemove:h.func,highlighted:h.bool},_onRemove:function(o){o.preventDefault();this.props.onRemove(this.props.entry);},render:function(){var o;if(this.props.onRemove)o=k({type:"button",'aria-label':m._("Remove {item}",{item:this.props.label}),className:"_1z6_",size:"small",onClick:this._onRemove});var p=(("_59_o")+(this.props.highlighted?' '+"_59_r":''));return this.renderDraggableToken(this.transferPropsTo(i.DOM.span({className:p,label:null},i.DOM.span({'aria-label':this.props.label,title:this.props.label,className:"_5aab"},this.props.label),o)));}});e.exports=n;});
__d("AdsTargetingTokenizer.react",["AbstractTokenizer.react","React","WebAsyncSearchSource","XUITokenizerToken.react","XUITypeaheadView.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m={ViewRenderer:k,TokenRenderer:j,useLayer:true},n=h.createClass({displayName:'AdsTargetingTokenizer',propTypes:{auxiliaryFields:h.PropTypes.object,initialEntries:h.PropTypes.array,limit:function(o,p,q){var r=o[p];if(typeof r!=='undefined'&&!(typeof r==='number'&&r>0))return new Error('Invalid entries limit provided, must be a positive number.');},onDataUpdate:h.PropTypes.func.isRequired,packageFn:h.PropTypes.func,placeholder:h.PropTypes.string,queryData:h.PropTypes.object,searchSource:h.PropTypes.object,smallInput:h.PropTypes.bool,uri:h.PropTypes.string.isRequired},getDefaultProps:function(){return {queryData:{}};},getInitialState:function(){return {entries:this.props.initialEntries||[]};},componentWillMount:function(){this._createSearchSource(this.props);},componentWillReceiveProps:function(o){if(o.initialEntries)this.setState({entries:o.initialEntries});this._createSearchSource(o);},_createSearchSource:function(o){if(o.searchSource){this._searchSource=o.searchSource;return;}this._searchSource=new i({queryRequests:[{uri:o.uri,data:o.queryData}],auxiliaryFields:this.props.auxiliaryFields,packageFn:this.props.packageFn});},_onAdd:function(o){var p=this.state.entries;p.push(o);this.setState({entries:p});this.props.onDataUpdate(p,o);},_onRemove:function(o){var p=this.state.entries,q=p.indexOf(o);p.splice(q,1);this.setState({entries:p});this.props.onDataUpdate(p,o);},getEntries:function(){return this.state.entries;},render:function(){var o=(("_59_m")+(' '+"_557c")+(this.props.smallInput?' '+"_p63":''));return (h.DOM.div({className:o},g({className:"_59_n",'data-testid':this.props['data-testid'],entries:this.state.entries,onAddEntryAttempt:this._onAdd,onRemoveEntryAttempt:this._onRemove,placeholder:this.props.placeholder,presenter:m,searchSource:this._searchSource,limit:this.props.limit})));}});e.exports=n;});
__d("BoostedPostStrings",["fbt"],function(a,b,c,d,e,f,g){var h={TARGETING_LABELS:{LOCATION:"Location",AGE:"Age",GENDER:"Gender",INTERESTS:"Interests",ADD_REGION_PLACEHOLDER:"Add regions...",ADD_CITY_PLACEHOLDER:"Add cities..."}};e.exports=h;});
__d("AdsTargetingLocationSelector.react",["AdsTargetingTokenizer.react","AdsTargetingTogglerSafeMixin","BoostedComponentEvents","BoostedPostStrings","BoostedRadiusOptions","AdsTargetingConstants","React","XUIGrayText.react","XUISelector.react","cx","fbt","intlList"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=o.Option,t=Object.keys(k).map(function(v){return k[v];}),u=m.createClass({displayName:'AdsTargetingLocationSelector',mixins:[h],propTypes:{onDataUpdate:m.PropTypes.func.isRequired,initialTokenizer:m.PropTypes.number,initialTokens:m.PropTypes.object,initialRadius:m.PropTypes.number,defaultCountries:m.PropTypes.object,smallInput:m.PropTypes.bool,whitelistCountries:m.PropTypes.array,blacklistCountries:m.PropTypes.array},getDefaultProps:function(){return {initialTokenizer:l.LOCATION_TYPES.Countries,initialTokens:{},initialRadius:t[0]};},getInitialState:function(){var v=this.props,w=v.initialTokenizer?v.initialTokenizer:l.LOCATION_TYPES.Countries;return {countryRestriction:this._getCountryRestrictionFromProps(v),tokenizerShown:w,hasTokens:this._hasTokens(w,v.initialTokens),radiusSelected:v.initialRadius};},componentWillReceiveProps:function(v){var w=v.initialTokenizer?v.initialTokenizer:this.state.tokenizerShown;this.setStateSafe({tokenizerShown:w,countryRestriction:this._getCountryRestrictionFromProps(v),hasTokens:this._hasTokens(w,v.initialTokens),radiusSelected:v.initialRadius});},_hasTokens:function(v,w){return Boolean(w[this._getTokenizerString(v)]&&w[this._getTokenizerString(v)].length);},_hasInitialRegions:function(v){return (v.initialTokenizer===l.LOCATION_TYPES.Regions&&v.initialTokens.regions&&v.initialTokens.regions.length);},_getCountryRestrictionFromProps:function(v){if(!this._hasInitialRegions(v))return null;return v.initialTokens.regions[0].getSubtitle();},_getTokenizerString:function(v){switch(v){case l.LOCATION_TYPES.Countries:return 'countries';case l.LOCATION_TYPES.Regions:return 'regions';case l.LOCATION_TYPES.Cities:return 'cities';}},_getEventType:function(v){switch(v){case l.LOCATION_TYPES.Countries:return i.UPDATE_COUNTRIES;case l.LOCATION_TYPES.Regions:return i.UPDATE_REGIONS;case l.LOCATION_TYPES.Cities:return i.UPDATE_CITIES;}},_getLocationEntries:function(v){return this.refs[this._getTokenizerString(v)].getEntries();},_onSelectorChange:function(v){var w=v.value,x=this._getLocationEntries(w);this.setStateSafe({tokenizerShown:w,hasTokens:!!x.length,countryRestriction:null});this.props.onDataUpdate(this._getEventType(w),x);},_onEntriesUpdate:function(v,w){if(this.state.tokenizerShown===l.LOCATION_TYPES.Regions)this._onRegionDataUpdate(v,w);this.setStateSafe({hasTokens:!!v.length});this.props.onDataUpdate(this._getEventType(this.state.tokenizerShown),v);},_onRadiusChange:function(v){this.setStateSafe({radiusSelected:v.value});this.props.onDataUpdate(i.UPDATE_RADIUS,v.value);},_onRegionDataUpdate:function(v,w){if(v.length){this.setStateSafe({countryRestriction:w.getSubtitle()});}else this.setStateSafe({countryRestriction:null});},_getCountryGatingQuery:function(){var v={},w=this.props.whitelistCountries,x=this.props.blacklistCountries;if(w&&w.length)v.whitelist_countries=w;if(x&&x.length)v.blacklist_countries=x;return v;},_getCountriesTokenizer:function(){var v="Add countries...";return (g({'data-testid':"country_token",uri:l.LOCATION_URIS[l.LOCATION_TYPES.Countries],onDataUpdate:this._onEntriesUpdate,queryData:this._getCountryGatingQuery(),initialEntries:this.props.initialTokens.countries,smallInput:this.props.smallInput,placeholder:v,limit:l.MAX_LOCATION_ENTRIES,ref:"countries"}));},_getRegionsTokenizer:function(){var v={};if(this.state.countryRestriction){v.whitelist_countries=this.state.countryRestriction;}else v=this._getCountryGatingQuery();v.version=2;var w=j.TARGETING_LABELS.ADD_REGION_PLACEHOLDER;return (g({'data-testid':"region_token",uri:l.LOCATION_URIS[l.LOCATION_TYPES.Regions],onDataUpdate:this._onEntriesUpdate,queryData:v,initialEntries:this.props.initialTokens.regions,smallInput:this.props.smallInput,placeholder:w,limit:l.MAX_LOCATION_ENTRIES,ref:"regions"}));},_getCitiesTokenizer:function(){return (g({'data-testid':"city_token",uri:l.LOCATION_URIS[l.LOCATION_TYPES.Cities],onDataUpdate:this._onEntriesUpdate,queryData:this._getCountryGatingQuery(),initialEntries:this.props.initialTokens.cities,smallInput:this.props.smallInput,placeholder:j.ADD_CITY_PLACEHOLDER,limit:l.MAX_LOCATION_ENTRIES,ref:"cities"}));},_getCitiesRadiusSelector:function(){if(this.state.tokenizerShown!==l.LOCATION_TYPES.Cities)return null;var v=t.map(function(w){return (s({value:w,'data-testid':"within_"+w+"_miles"},q._("+ {radiusValue} miles",[q.param("radiusValue",w)])));});return (o({maxwidth:150,onChange:this._onRadiusChange,value:this.state.radiusSelected,className:"mls",'data-testid':"radius_selector"},v));},_getDefaultCountriesString:function(){var v=this.props.defaultCountries,w=[];for(var x in v)w.push(v[x]);return r(w,r.CONJUNCTIONS.AND);},_getWarningMessage:function(){if(!this.props.defaultCountries)return null;var v=(("mts")+(this.state.hasTokens?' '+"hidden_elem":''));return (m.DOM.div({className:v},n({'data-testid':"targeting_warning_message"},q._("If left blank, your ad will be delivered to {list_of_countries}.",[q.param("list_of_countries",this._getDefaultCountriesString())]))));},render:function(){var v=this.state,w=((v.tokenizerShown!=l.LOCATION_TYPES.Countries?"hidden_elem":'')),x=((v.tokenizerShown!=l.LOCATION_TYPES.Regions?"hidden_elem":'')),y=((v.tokenizerShown!=l.LOCATION_TYPES.Cities?"hidden_elem":''));return (m.DOM.div(null,m.DOM.div({className:"_5tpn"},o({'data-testid':"location_selector",onChange:this._onSelectorChange,value:v.tokenizerShown},s({'data-testid':"location_selector_country_item",value:l.LOCATION_TYPES.Countries},"Countries"),s({'data-testid':"location_selector_region_item",value:l.LOCATION_TYPES.Regions},"Regions"),s({'data-testid':"location_selector_city_item",value:l.LOCATION_TYPES.Cities},"Cities")),this._getCitiesRadiusSelector()),m.DOM.div({className:"_5tpn"},m.DOM.div({className:w},this._getCountriesTokenizer()),m.DOM.div({className:x},this._getRegionsTokenizer()),m.DOM.div({className:y},this._getCitiesTokenizer())),this._getWarningMessage()));}});e.exports=u;});
__d("AdsTargetingNumberSelector.react",["XUISelector.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=g.Option,k=h.createClass({displayName:'AdsTargetingNumberSelector',propTypes:{minimum:h.PropTypes.number.isRequired,maximum:h.PropTypes.number.isRequired,selectedValue:h.PropTypes.number.isRequired,onDataUpdate:h.PropTypes.func.isRequired,customMaxLabel:h.PropTypes.string},render:function(){var l=this.props,m=[];for(var n=l.minimum;n<=l.maximum;++n){var o=n;if(l.customMaxLabel&&n===l.maximum)o=l.customMaxLabel;m.push(j({key:n,value:n,className:"_1d1y"},o));}return (h.DOM.div({className:"_5tpo"},g({className:"_1d1z",onChange:l.onDataUpdate,value:l.selectedValue,maxheight:200},m)));}});e.exports=k;});
__d("AdsTargetingAgeSelector.react",["AdsTargetingConstants","AdsTargetingNumberSelector.react","AdsTargetingTogglerSafeMixin","BoostedComponentEvents","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=k.createClass({displayName:'AdsTargetingAgeSelector',mixins:[i],propTypes:{minSelectableAge:k.PropTypes.number,maxSelectableAge:k.PropTypes.number,initialMinAge:k.PropTypes.number,initialMaxAge:k.PropTypes.number,onDataUpdate:k.PropTypes.func.isRequired},getDefaultProps:function(){return {minSelectableAge:g.DEFAULT_MIN_SELECTABLE_AGE,maxSelectableAge:g.DEFAULT_MAX_SELECTABLE_AGE};},getInitialState:function(){return this._getInitialAges(this.props);},componentWillReceiveProps:function(o){this.setStateSafe(this._getInitialAges(o));},_getInitialAges:function(o){var p=o.minSelectableAge,q=o.maxSelectableAge,r=o.initialMinAge?o.initialMinAge:p,s=o.initialMaxAge?o.initialMaxAge:q;if(p>r)r=p;if(q<s)s=q;return {minAge:r,maxAge:s};},_onMinAgeUpdate:function(o){var p=o.value,q=p>this.state.maxAge?p:this.state.maxAge;this._updateAges(p,q);},_onMaxAgeUpdate:function(o){var p=o.value,q=p<this.state.minAge?p:this.state.minAge;this._updateAges(q,p);},_updateAges:function(o,p){this.setStateSafe({minAge:o,maxAge:p});this.props.onDataUpdate(j.UPDATE_MIN_AGE,o);this.props.onDataUpdate(j.UPDATE_MAX_AGE,p);},render:function(){var o=this.state,p="--";return (k.DOM.div({className:"_5so_"},h({minimum:this.props.minSelectableAge,maximum:this.props.maxSelectableAge,selectedValue:o.minAge,onDataUpdate:this._onMinAgeUpdate})," - ",h({minimum:this.props.minSelectableAge,maximum:this.props.maxSelectableAge,selectedValue:o.maxAge,onDataUpdate:this._onMaxAgeUpdate,customMaxLabel:p})));}});e.exports=n;});
__d("XUIRadioButtonGroup.react",["React","ReactChildren","XUIButtonGroup.react","cloneWithProps"],function(a,b,c,d,e,f,g,h,i,j){var k=g.createClass({displayName:'XUIRadioButtonGroup',propTypes:{onValueChange:g.PropTypes.func,selectedValue:g.PropTypes.any,selectedUse:g.PropTypes.oneOf(['default','special','confirm']),selectedDepressed:g.PropTypes.bool},render:function(){var l=h.map(this.props.children,function(m){var n=this.props.selectedValue===m.props.value;return j(m,{onClick:this._getClickHandler(m.props.value,m.props.onClick),use:n&&'selectedUse' in this.props?this.props.selectedUse:m.props.use,depressed:n&&'selectedDepressed' in this.props?this.props.selectedDepressed:m.props.depressed});},this);return this.transferPropsTo(i(null,l));},_getClickHandler:function(l,m){var n=this.props;return function(){if(n.onValueChange)n.onValueChange(l);if(m)m.apply(this,arguments);};}});e.exports=k;});
__d("AdsTargetingGenderSelector.react",["BoostedComponentEvents","AdsTargetingConstants","XUIButton.react","XUIRadioButtonGroup.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=k.createClass({displayName:'AdsTargetingGenderSelector',propTypes:{onDataUpdate:k.PropTypes.func.isRequired,initialGender:k.PropTypes.number},getDefaultProps:function(){return {initialGender:h.GENDERS.All};},getInitialState:function(){return {selected:this.props.initialGender};},componentWillReceiveProps:function(o){this.setState({selected:o.initialGender});},_onClick:function(o){this.setState({selected:o});this.props.onDataUpdate(g.UPDATE_GENDER,o);},render:function(){var o=(("_5v_d")),p="All",q="Men",r="Women";return (k.DOM.div({className:o},j({selectedValue:this.state.selected,selectedUse:"confirm",onValueChange:this._onClick},i({label:p,value:h.GENDERS.All}),i({label:q,value:h.GENDERS.Men}),i({label:r,value:h.GENDERS.Women}))));}});e.exports=n;});
__d("AdsTargetingKeywordSuggestions.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.PropTypes,j=g.createClass({displayName:'AdsTargetingKeywordSuggestions',propTypes:{suggestions:i.array.isRequired,onSuggestionClick:i.func},render:function(){var k=this.props.suggestions.map(function(l,m){return (g.DOM.li({className:"_5c5m"},g.DOM.a({href:"#",'data-testid':"interest_suggestion_"+m.toString(),onClick:this.handleClick.bind(null,l)},l.text)));},this);return (g.DOM.ul(null,k));},handleClick:function(k){if(!this.props.onSuggestionClick)return;this.props.onSuggestionClick(k);}});e.exports=j;});
__d("AdsTargetingKeywordTypeahead.react",["AdsTargetingAdmarketKeywordCategory","AdsTargetingTokenizer.react","BoostedComponentEvents","AdsTargetingConstants","React","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=k.createClass({displayName:'AdsTargetingKeywordTypeahead',propTypes:{onDataUpdate:k.PropTypes.func.isRequired,initialEntries:k.PropTypes.array,maxEntries:k.PropTypes.number,smallInput:k.PropTypes.bool},getDefaultProps:function(){return {maxEntries:j.MAX_KEYWORDS_ENTRIES};},_onChange:function(n,o){this.props.onDataUpdate(i.UPDATE_INTERESTS,n);},render:function(){var n={kw_filter:[g.KEYWORD_CATEGORY_WIKI],max_results:this.props.maxEntries,show_coverage:false,kw_as_value:false,no_wiki_hashtag:true,use_unified_interests:true},o="Add 4-10 interests...";return (k.DOM.div(null,h({'data-testid':"interest_token",uri:j.KEYWORD_URI,queryData:n,onDataUpdate:this._onChange,placeholder:o,initialEntries:this.props.initialEntries,smallInput:this.props.smallInput})));}});e.exports=m;});
__d("AdsTargetingKeywordSelector.react",["AdsTargetingConstants","AdsTargetingKeywordSuggestions.react","AdsTargetingKeywordTypeahead.react","BoostedComponentEvents","CurrentLocale","React","SearchableEntry","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=l.createClass({displayName:'AdsTargetingKeywordSelector',_tokenizerEntries:[],propTypes:{onDataUpdate:l.PropTypes.func.isRequired,initialEntries:l.PropTypes.array,maxEntries:l.PropTypes.number,primedDao:l.PropTypes.object,smallInput:l.PropTypes.bool,accessToken:l.PropTypes.string.isRequired},getDefaultProps:function(){return {initialEntries:[]};},getInitialState:function(){return {suggestions:[],entries:this.props.initialEntries};},_initializeSelector:function(p){this._tokenizerEntries=p.initialEntries;this._fetchSuggestions(this._getKeywordTokens(p.initialEntries));},componentWillMount:function(){if(!this.props.initialEntries.length)return;this._initializeSelector(this.props);},componentWillReceiveProps:function(p){this._initializeSelector(p);if(p.initialEntries)this.setState({entries:p.initialEntries});},_updateSuggestions:function(p){this.setState({suggestions:p});},_onDataUpdate:function(p,q){this._fetchSuggestions(this._getKeywordTokens(q));this._tokenizerEntries=q;this.props.onDataUpdate(p,q);},_handleSuggestionClick:function(p){var q=p.id,r=new m({uniqueID:q,title:p.text});this._tokenizerEntries.push(r);this._onDataUpdate(j.UPDATE_INTERESTS,this._tokenizerEntries);},_fetchSuggestions:function(p){this._fetchInterestSuggestions(p);},_fetchKeywordSuggestions:function(p){if(!this.props.primedDao||!p.length){this._updateSuggestions([]);return;}this.props.primedDao.fetch.adKeywordSuggestion.one(this._renderKeywordSuggestions,{keyword_list:p,offset:0,include_algorithm:false,limit:2*g.MAX_KEYWORDS_SUGGESTIONS,access_token:this.props.accessToken});},_fetchInterestSuggestions:function(p){if(!this.props.primedDao||!p.length){this._updateSuggestions([]);return;}this.props.primedDao.fetch.adInterestSuggestion.one(this._renderKeywordSuggestions,{interest_list:p,offset:0,include_algorithm:false,limit:2*g.MAX_KEYWORDS_SUGGESTIONS,locale:k.get(),access_token:this.props.accessToken});},_getKeywordTokens:function(p){var q=[],r=p.length;for(var s=0;s<r;s++)q.push(p[s].getTitle());return q;},_renderKeywordSuggestions:function(p){if(!p||!p.length){p=[];}else p=p.filter(function(q){if(!q.name)return false;q.text=q.uid=q.name;if(q.text.charAt(0)=='#')q.text=q.text.slice(1);return true;}).slice(0,g.MAX_KEYWORDS_SUGGESTIONS);this._updateSuggestions(p);},render:function(){var p=(("mts")+(!this.state.suggestions?' '+"hidden_elem":''));return (l.DOM.div(null,i({onDataUpdate:this._onDataUpdate,initialEntries:this.state.entries,maxEntries:this.props.maxEntries,smallInput:this.props.smallInput}),l.DOM.div({className:p},h({suggestions:this.state.suggestions,onSuggestionClick:this._handleSuggestionClick}))));}});e.exports=o;});
__d("BoostedPostAudienceValues",[],function(a,b,c,d,e,f){var g=5;function h(){"use strict";this.$BoostedPostAudienceValues0=[];this.$BoostedPostAudienceValues1=[];this.$BoostedPostAudienceValues2=[];this.$BoostedPostAudienceValues3=g;}h.prototype.getID=function(){"use strict";return this.$BoostedPostAudienceValues4;};h.prototype.setID=function(i){"use strict";this.$BoostedPostAudienceValues4=i;};h.prototype.getName=function(){"use strict";return this.$BoostedPostAudienceValues5;};h.prototype.setName=function(i){"use strict";this.$BoostedPostAudienceValues5=i;};h.prototype.getMinAge=function(){"use strict";return this.$BoostedPostAudienceValues6;};h.prototype.setMinAge=function(i){"use strict";this.$BoostedPostAudienceValues6=i;};h.prototype.getMaxAge=function(){"use strict";return this.$BoostedPostAudienceValues7;};h.prototype.setMaxAge=function(i){"use strict";this.$BoostedPostAudienceValues7=i;};h.prototype.getGender=function(){"use strict";return this.$BoostedPostAudienceValues8;};h.prototype.setGender=function(i){"use strict";this.$BoostedPostAudienceValues8=i;};h.prototype.getLocationType=function(){"use strict";return this.$BoostedPostAudienceValues9;};h.prototype.setLocationType=function(i){"use strict";this.$BoostedPostAudienceValues9=i;};h.prototype.getCountries=function(){"use strict";return this.$BoostedPostAudienceValues0;};h.prototype.setCountries=function(i){"use strict";this.$BoostedPostAudienceValues0=i;};h.prototype.getRegions=function(){"use strict";return this.$BoostedPostAudienceValues1;};h.prototype.setRegions=function(i){"use strict";this.$BoostedPostAudienceValues1=i;};h.prototype.getCities=function(){"use strict";return this.$BoostedPostAudienceValues2;};h.prototype.setCities=function(i){"use strict";this.$BoostedPostAudienceValues2=i;};h.prototype.getRadius=function(){"use strict";return this.$BoostedPostAudienceValues3;};h.prototype.setRadius=function(i){"use strict";this.$BoostedPostAudienceValues3=i;};h.prototype.getInterests=function(){"use strict";return this.$BoostedPostAudienceValuesa;};h.prototype.setInterests=function(i){"use strict";this.$BoostedPostAudienceValuesa=i;};e.exports=h;});
__d("BoostedPostAudienceSelector.react",["XUISelector.react","XUICloseButton.react","InlineBlock.react","BoostedPostAudienceManagerConstants","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=g.Option,n=k.createClass({displayName:'BoostedPostAudienceSelector',propTypes:{audiences:k.PropTypes.array.isRequired,onAudienceUpdate:k.PropTypes.func.isRequired,onAudienceDelete:k.PropTypes.func.isRequired,selectedValue:k.PropTypes.number},render:function(){var o=this.props,p=o.audiences,q=p.length,r=[],s=o.selectedValue?o.selectedValue:j.NEW_AUDIENCE_ID;r.push(m({value:j.NEW_AUDIENCE_ID},"New Audience"));for(var t=0;t<q;++t){var u=p[t];r.push(m({value:u.audience_id},u.audience_name));}var v=null;if(o.selectedValue)v=k.DOM.div({className:"_5vbi"},i({alignv:"middle"},h({size:"medium",shade:"light",onClick:o.onAudienceDelete.bind(null,o.selectedValue)})));return (k.DOM.div({className:"_5vbm"},g({onChange:o.onAudienceUpdate,value:s,maxheight:200},r),v));}});e.exports=n;});
__d("BoostedPostNameInput.react",["BoostedPostAudienceManagerConstants","BoostedComponentEvents","XUITextInput.react","React","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=j.createClass({displayName:'BoostedPostNameInput',propTypes:{onDataUpdate:j.PropTypes.func.isRequired,initialText:j.PropTypes.string},getDefaultProps:function(){return {initialText:''};},getInitialState:function(){return {text:this.props.initialText};},componentWillReceiveProps:function(n){this.setState({text:n.initialText});},_onChange:function(event){var n=event.target.value;this.setState({text:n});this.props.onDataUpdate(h.UPDATE_NAME,n);},clear:function(){this.setState({text:''});this.props.onDataUpdate("name",'');},render:function(){var n="Add audience name ...";return (j.DOM.div({className:"_5spb"},i({placeholder:n,value:this.state.text,onChange:this._onChange,maxLength:g.MAX_NAME_LENGTH,ref:"input"})));}});e.exports=m;});
__d("BoostedPostAudienceManagerRow.react",["XUIGrayText.react","React","cx"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:'BoostedPostAudienceManagerRow',propTypes:{label:h.PropTypes.string},render:function(){var k=this.props;return (h.DOM.div({className:"_5sp0"},h.DOM.div({className:"_5sp1"},g({size:"small",shade:"light",weight:"bold"},k.label)),h.DOM.div({className:"_5sp2"},k.children)));}});e.exports=j;});
__d("BoostedPostAudienceEditor.react",["AdsTargetingLocationSelector.react","AdsTargetingAgeSelector.react","AdsTargetingGenderSelector.react","AdsTargetingKeywordSelector.react","AdsTargetingTogglerSafeMixin","AdsTargetingConstants","BoostedPostCustomTargetingTypes","BoostedPostAudienceManagerConstants","SearchableEntry","BoostedComponentEvents","BoostedPostAppConfig","BoostedPostAudienceValues","BoostedPostAudienceUtil","BoostedPostStrings","BoostedPostTargetingController","BoostedPostAudienceSelector.react","BoostedPostNameInput.react","BoostedPostAudienceManagerRow.react","emptyFunction","React"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){var aa=t.TARGETING_LABELS,ba=z.createClass({displayName:'BoostedPostAudienceEditor',mixins:[k],propTypes:{adAccountID:z.PropTypes.string.isRequired,setLoading:z.PropTypes.func.isRequired,onPostMutate:z.PropTypes.func.isRequired,mode:z.PropTypes.number.isRequired,audienceToEdit:z.PropTypes.object,otherNames:z.PropTypes.array,onMessageChange:z.PropTypes.func.isRequired,defaultCountries:z.PropTypes.object.isRequired,onTargetingSpecChange:z.PropTypes.func},getDefaultProps:function(){return {otherNames:[],onTargetingSpecChange:y};},getInitialState:function(){return {audiences:[],initialLocations:this._getEmptyInitialLocations()};},componentWillMount:function(){this._ready=true;this._controller=new u(this.props.adAccountID,Object.keys(this.props.defaultCountries));this.resetEditorState(this.props.mode,this.props.audienceToEdit);},resetEditorState:function(ca,da,ea){this._refreshSpecs(null);if(ca===n.EDITOR_MODES.EDIT){this._onAudienceSwitchWithAudience(da,ea);}else if(ca===n.EDITOR_MODES.CREATE)this.clearState(ea);},clearState:function(ca){this._audienceValues=new r();this.props.onTargetingSpecChange(this._controller.getTargetingSpecFromAudienceValues(this._audienceValues));this.setStateSafe({loadedAudience:null,loadedAudienceID:null,initialLocations:this._getEmptyInitialLocations()},ca);},_populateTargetingSpecs:function(ca,da){this._setLoading(false);this.props.onMessageChange(ca);this.setStateSafe({audiences:da,loadedAudience:null,loadedAudienceID:null,initialLocations:this._getEmptyInitialLocations()});},_onDataUpdate:function(ca,da){var ea=this._audienceValues;if(ca===p.UPDATE_COUNTRIES||ca===p.UPDATE_REGIONS||ca===p.UPDATE_CITIES)da=da.map(function(ga){return ga.getUniqueID();});switch(ca){case p.UPDATE_NAME:ea.setName(da);return;case p.UPDATE_MIN_AGE:ea.setMinAge(da);break;case p.UPDATE_MAX_AGE:ea.setMaxAge(da);break;case p.UPDATE_GENDER:ea.setGender(da);break;case p.UPDATE_CITIES:ea.setCities(da);ea.setLocationType(l.LOCATION_TYPES.Cities);break;case p.UPDATE_COUNTRIES:ea.setCountries(da);ea.setLocationType(l.LOCATION_TYPES.Countries);break;case p.UPDATE_REGIONS:ea.setRegions(da);ea.setLocationType(l.LOCATION_TYPES.Regions);break;case p.UPDATE_RADIUS:ea.setRadius(da);break;case p.UPDATE_INTERESTS:var fa=da.map(function(ga){return {id:ga.getUniqueID(),name:ga.getTitle()};});ea.setInterests(fa);break;}this.props.onTargetingSpecChange(this._controller.getTargetingSpecFromAudienceValues(ea));},onSave:function(){this._setLoading(true);var ca=this.state;if(ca.loadedAudienceID&&ca.loadedAudienceID!==n.SPECIAL_AUDIENCES.LAST_USED){var da=this.props.otherNames.slice(),ea=this.props.audienceToEdit.audience_name;for(var fa=0;fa<da.length;++fa)if(da[fa]===ea){da.splice(fa,1);break;}this._controller.updateTargetingSpec(this._audienceValues,ca.loadedAudienceID,da,ca.loadedAudience.audience_name,this._onPostMutate.bind(null,n.MESSAGES.AUDIENCE_UPDATED,n.EDITOR_ACTIONS.EDIT,ca.loadedAudienceID),this._onErrorCallback);}else this._controller.saveTargetingSpec(this._audienceValues,this.props.otherNames,this._onPostMutate.bind(null,n.MESSAGES.AUDIENCE_SAVED,n.EDITOR_ACTIONS.CREATE),this._onErrorCallback);},_onErrorCallback:function(ca,da,ea,fa){this._setLoading(false);this.props.onMessageChange(ca);},_refreshSpecs:function(ca){if(this.props.mode!==n.EDITOR_MODES.FREEFORM)return;this._audienceValues=new r();this._controller.getTargetingSpecs(this._populateTargetingSpecs.bind(null,ca));},_onPostMutate:function(ca,da,ea){this.props.onPostMutate(da,ea);if(this.props.mode===n.EDITOR_MODES.FREEFORM){this._refreshSpecs(ca);}else this._setLoading(false);},_onAudienceSwitchCallback:function(ca){this._onAudienceSwitchWithID(ca.value);},_onAudienceSwitchWithID:function(ca){var da=null;if(ca!==n.NEW_AUDIENCE_ID){da=this._getAudienceFromId(ca);this._onAudienceSwitchWithAudience(da);}else this.clearState();},_onAudienceSwitchWithAudience:function(ca,da){this._initAudienceValuesFromAudience(ca);var ea=this._audienceValues;this.props.onTargetingSpecChange(this._controller.getTargetingSpecFromAudienceValues(ea));var fa=ea.getID(),ga=this._getNamesCallback.bind(null,ca,fa,da);switch(ea.getLocationType()){case l.LOCATION_TYPES.Countries:s.getCountryNames(ea.getCountries(),ga.bind(null,l.TARGETING_SPEC_KEYS.COUNTRIES,null));break;case l.LOCATION_TYPES.Regions:s.getRegionNames(ea.getRegions(),ga.bind(null,l.TARGETING_SPEC_KEYS.REGIONS,'name'));break;case l.LOCATION_TYPES.Cities:s.getCityNames(ea.getCities(),ga.bind(null,l.TARGETING_SPEC_KEYS.CITIES,null));break;}},_getEmptyInitialLocations:function(){return {countries:[],regions:[],cities:[]};},onAudienceDelete:function(ca){this._setLoading(true);this._controller.deleteTargetingSpec(ca,this._onPostMutate.bind(null,n.MESSAGES.AUDIENCE_DELETED,n.EDITOR_ACTIONS.DELETE),this._onErrorCallback);},_getAudienceFromId:function(ca){var da=this.state.audiences,ea=da.length;for(var fa=0;fa<ea;++fa)if(da[fa].audience_id===ca)return da[fa];return null;},_getNamesCallback:function(ca,da,ea,fa,ga,ha){var ia=[];for(var ja in ha){var ka=ha[ja];if(ga)ka=ka[ga];ia.push(new o({uniqueID:ja,title:ka}));}var la=this._getEmptyInitialLocations();la[fa]=ia;this.setStateSafe({loadedAudience:ca,loadedAudienceID:da,initialLocations:la},ea);},_initAudienceValuesFromAudience:function(ca){if(!ca)return;this._audienceValues=new r();var da=this._audienceValues;da.setID(ca.audience_id);da.setName(ca.audience_name);var ea=ca.target_spec;if(!ea)return;da.setMinAge(ea.age_min);da.setMaxAge(ea.age_max);var fa=ea[m.GENDERS];if(fa&&fa.length)da.setGender(fa[0]);var ga=ea.geo_locations,ha=ga.countries,ia=ga.regions,ja=ga.cities;if(ha){da.setCountries(ha);da.setLocationType(l.LOCATION_TYPES.Countries);}else if(ia){da.setRegions(ia.map(function(ka){return ka.key.toString();}));da.setLocationType(l.LOCATION_TYPES.Regions);}else if(ja){if(ja.length)da.setRadius(ja[0].radius);da.setCities(ja.map(function(ka){return ka.key.toString();}));da.setLocationType(l.LOCATION_TYPES.Cities);}da.setInterests(ea.interests);},_setLoading:function(ca){this._ready=!ca;this.props.setLoading(ca);},_getInterestEntries:function(ca){if(!ca)return [];var da=[],ea=ca.length;for(var fa=0;fa<ea;++fa)da.push(new o({uniqueID:ca[fa].id,title:ca[fa].name}));return da;},render:function(){var ca=this._audienceValues,da=null;if(this.props.mode===n.EDITOR_MODES.FREEFORM)da=x({label:n.LABELS.AUDIENCE},v({audiences:this.state.audiences,selectedValue:ca.getID(),onAudienceUpdate:this._onAudienceSwitchCallback,onAudienceDelete:this.onAudienceDelete}));var ea=this._getInterestEntries(ca.getInterests());return (z.DOM.div(null,da,x({label:aa.LOCATION},g({initialTokenizer:ca.getLocationType(),initialTokens:this.state.initialLocations,initialRadius:ca.getRadius(),onDataUpdate:this._onDataUpdate,defaultCountries:this.props.defaultCountries,smallInput:true,ref:"locations"})),x({label:aa.AGE},h({initialMinAge:ca.getMinAge(),initialMaxAge:ca.getMaxAge(),onDataUpdate:this._onDataUpdate})),x({label:aa.GENDER},i({onDataUpdate:this._onDataUpdate,initialGender:ca.getGender()})),x({label:aa.INTERESTS},j({initialEntries:ea,onDataUpdate:this._onDataUpdate,primedDao:this._controller.getDao(),smallInput:true,accessToken:q.access_token})),x({label:n.LABELS.NAME},w({initialText:ca.getName(),onDataUpdate:this._onDataUpdate,ref:"name"}))));}});e.exports=ba;});
__d("AdInterfacesUiLogger",["AsyncRequest"],function(a,b,c,d,e,f,g){var h='/ajax/ads/interfaces/log/';function i(l){new g(h).setData(l).send();}var j='',k='0';e.exports={setAppName:function(l){j=l;},setAccountID:function(l){k=l;},log:function(l,m){if(!j||!k){j=j||'Unknown';k=k||0;}var n={app_name:j,event_name:l,account_id:k,payload:m||{}};i(n);}};});
__d("AdInterfacesAppNames",[],function(a,b,c,d,e,f){e.exports={CREATE_FLOW:"ads-adscreator",AUDIENCE_MANAGER:"ads-customaudiencesmanager",POWER_EDITOR:"ads-powereditor",BOOSTED_POSTS:"ads-boostedposts",CONVERSION_TRACKING:"ads-conversion-tracking",AUDIENCE_INSIGHTS:"audience-insights"};});
__d("BoostedPostAudienceManagerModule",["AdsTargetingEstimateFeedbackThrottle.react","AdsTargetingEstimateUtils","AdsTargetingRatingUtils","AdsTargetingTogglerSafeMixin","BoostedPostAudienceManagerConstants","BoostedPostBasicDialog.react","BoostedPostTargetingController","LayerFadeOnHide","LoadingIndicator.react","XUICard.react","XUIDialog.react","XUIDialogTitle.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogSaveButton.react","XUIDialogCancelButton.react","XUIGrayText.react","XUINotice.react","ReactLayeredComponentMixin","BoostedPostAudienceEditor.react","React","AdInterfacesUiLogger","AdInterfacesAppNames","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){var fa=aa.createClass({displayName:'BoostedPostAudienceManagerModule',mixins:[y,j],propTypes:{adAccountID:aa.PropTypes.string.isRequired,onPostMutate:aa.PropTypes.func.isRequired,showDefault:aa.PropTypes.bool,initialMode:aa.PropTypes.number,initialAudienceToEdit:aa.PropTypes.object,otherNames:aa.PropTypes.array,defaultCountries:aa.PropTypes.object.isRequired,showFeedbackThrottle:aa.PropTypes.bool},getDefaultProps:function(){return {showDefault:true,initialMode:k.EDITOR_MODES.CREATE};},getInitialState:function(){return {dialogShown:false,loading:false,mode:this.props.initialMode,audienceToEdit:this.props.initialAudienceToEdit,estimateThrottleConfig:{ready:true,loading:true,rating:i.OVERALL_RATINGS.BAD_TOO_BROAD,users:0,estimateErrors:[]}};},componentWillMount:function(){this._requestCounter=0;this._controller=new m(this.props.adAccountID,Object.keys(this.props.defaultCountries));ba.setAccountID(this.props.adAccountID);ba.setAppName(ca.BOOSTED_POSTS);},openCreateMode:function(){this.refs.editor.resetEditorState(k.EDITOR_MODES.CREATE,null,function(){this.setState({dialogShown:true,mode:k.EDITOR_MODES.CREATE});}.bind(this));},openEditMode:function(ga){this.refs.editor.resetEditorState(k.EDITOR_MODES.EDIT,ga,function(){this.setState({dialogShown:true,mode:k.EDITOR_MODES.EDIT,audienceToEdit:ga});}.bind(this));},_onToggle:function(ga){this.setStateSafe({dialogShown:ga,message:null});},_onSave:function(){this.refs.editor.onSave();},_onCloseDialog:function(){this.setState({dialogShown:false});},_setLoading:function(ga){this.setState({loading:ga});},_onButtonClick:function(){this.openCreateMode();},_onPostMutate:function(ga,ha){if(this.state.mode!==k.EDITOR_MODES.FREEFORM){this.setState({audienceToEdit:null});this._onCloseDialog();}this.props.onPostMutate(ga,ha);},_onDelete:function(){this.refs.editor.onAudienceDelete(this.state.audienceToEdit.audience_id);},_onMessageChange:function(ga){this.setState({message:ga});},_getDialogTitle:function(){switch(this.state.mode){case k.EDITOR_MODES.CREATE:return ("Create Audience");default:return ("Edit Audience");}},_getDeleteDialog:function(){var ga=aa.DOM.a({href:"#"},w({size:"small"},"Delete")),ha="Delete Audience?",ia="It will be removed from your saved audiences list.",ja="Cancel",ka="Delete";return (l({title:ha,body:ia,width:300,entryComponent:ga,closeButtonText:ja,confirmText:ka,confirmHandler:this._onDelete}));},_getExplanationText:function(){if(this.state.mode===k.EDITOR_MODES.CREATE){return ("Select the location, age, gender and interests of people you want to reach with your ad.");}else return ("Make sure to save your edits once you're done.");},_fetchReachEstimates:function(ga){if(!this.props.showFeedbackThrottle)return;this._requestCounter++;this._controller.fetchReachEstimates(ga,'USD',this._fetchReachEstimatesCallback.bind(this,this._requestCounter,ga));this.state.estimateThrottleConfig.loading=true;this.setStateSafe({estimateThrottleConfig:this.state.estimateThrottleConfig});},_fetchReachEstimatesCallback:function(ga,ha,ia){if(ga!==this._requestCounter)return;this.setStateSafe({estimateThrottleConfig:{ready:ia.estimate_ready,loading:false,rating:i.getOverallRating(ha,ia.users),estimateErrors:h.getEstimateErrorFromTargetingSpec(ha),users:ia.users}});},_renderFeedbackThrottle:function(){if(!this.props.showFeedbackThrottle)return aa.DOM.div(null);var ga=this.state.estimateThrottleConfig;return (p({className:"_38ns"},g({ready:ga.ready,loading:ga.loading,rating:ga.rating,users:ga.users,estimateErrors:ga.estimateErrors})));},_getDialogWidth:function(){if(this.props.showFeedbackThrottle)return 680;return 445;},renderLayers:function(){var ga=this.state.loading,ha=null;if(ga)ha=aa.DOM.span({className:"_5vbk"},o({size:"small",color:"white"}));var ia=null;if(this.state.mode===k.EDITOR_MODES.EDIT&&this.state.audienceToEdit&&this.state.audienceToEdit.audience_id)ia=this._getDeleteDialog();var ja=null;if(this.state.message)ja=aa.DOM.div({className:"_5vbj"},x(null,this.state.message));var ka=((this.props.showFeedbackThrottle?"_38nu":''));return {dialog:q({causalElementRef:"button",shown:this.state.dialogShown,behaviors:{LayerFadeOnHide:n},onToggle:this._onToggle,width:this._getDialogWidth()},r(null,this._getDialogTitle()),s(null,aa.DOM.div({className:"_5csd"},aa.DOM.div({className:"_42w7"},w({size:"small"},this._getExplanationText())),ja,this._renderFeedbackThrottle(),aa.DOM.div({className:ka},z({adAccountID:this.props.adAccountID,setLoading:this._setLoading,onPostMutate:this._onPostMutate,mode:this.state.mode,audienceToEdit:this.state.audienceToEdit,otherNames:this.props.otherNames,onMessageChange:this._onMessageChange,defaultCountries:this.props.defaultCountries,onTargetingSpecChange:this._fetchReachEstimates,ref:"editor"})))),t({leftContent:ia},ha,v(null),u({use:"confirm",disabled:ga,onClick:this._onSave})))};},render:function(){if(!this.props.showDefault)return (aa.DOM.div(null));return (aa.DOM.span({className:"_1r-a"},w(null,"Default Audience")));}});e.exports=fa;});
__d("BoostedPostSelectAudienceSelector.react",["AdsTargetingTogglerSafeMixin","BoostedPostAudienceManagerConstants","BoostedPostAudienceManagerModule","BoostedPostLogging","BoostedPostEventType","BoostedPostTargetingController","LoadingIndicator.react","XUIMenuSeparator.react","XUISelector.react","XUIText.react","Image.react","React","fbt","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=h.SPECIAL_AUDIENCES,v=o.Option,w=r.createClass({displayName:'BoostedPostSelectAudienceSelector',mixins:[g],propTypes:{adAccountID:r.PropTypes.string.isRequired,onAudienceUpdate:r.PropTypes.func.isRequired,lastAudience:r.PropTypes.object,lastAudienceID:r.PropTypes.number,defaultTargetSpec:r.PropTypes.object.isRequired,defaultCountries:r.PropTypes.object.isRequired,showFeedbackThrottle:r.PropTypes.bool},getInitialState:function(){this._specialAudiences=[];return {audiences:[],selected:this._getDefaultSelectedValue([]),firstFetchDone:false};},componentWillMount:function(){this._controller=new l(this.props.adAccountID);this.refreshSpecs();},refreshSpecs:function(x,y){this._controller.getTargetingSpecs(this._getTargetingSpecsCallback.bind(null,x,y));},_lastAudienceExists:function(x){var y=x.filter(function(z){return z.audience_id===this.props.lastAudienceID;},this);return !!y.length;},_getDefaultSelectedValueFromLastAction:function(x,y,z){if(y){return y;}else if(x&&x===h.EDITOR_ACTIONS.CREATE&&z.length)return z[z.length-1].audience_id;return this._getDefaultSelectedValue(z);},_getDefaultSelectedValue:function(x){if(this._lastAudienceExists(x))return this.props.lastAudienceID;var y=this._specialAudiences;return y.length?y[0].audience_id:(x.length?x[0].audience_id:u.DEFAULT);},_getTargetingSpecsCallback:function(x,y,z){this._specialAudiences=this._getSpecialAudiences(z);var aa=this._getDefaultSelectedValueFromLastAction(x,y,z);if(aa){this.setStateSafe({audiences:z,selected:aa,firstFetchDone:true});var ba=this._getAudienceFromID(aa,z);this._onAudienceUpdate(aa,ba);}else this.setStateSafe({audiences:z,firstFetchDone:true});if(!this._loggedAudienceShown){this._loggedAudienceShown=true;var ca={ad_account_id:this.props.adAccountID};if(this.props.lastAudience){j.log(k.AM_LAST_USED_AUDIENCE_SHOWN,ca);}else if(z.length){j.log(k.AM_FIRST_AUDIENCE_SHOWN,ca);}else j.log(k.AM_DEFAULT_AUDIENCE_SHOWN,ca);}},_getSpecialAudiences:function(x){var y=[];if(this.props.lastAudience&&!this._lastAudienceExists(x))y.push({audience_id:u.LAST_USED,audience_name:"Last Used Audience"});return y;},_onAudienceChange:function(x){var y=x.value,z=this._getAudienceFromID(y,this.state.audiences),aa={ad_account_id:this.props.adAccountID,audience_id:y};j.log(k.AM_AUDIENCE_CHANGED,aa);this.setStateSafe({selected:y===u.MANAGE?this.state.selected:y});this._onAudienceUpdate(y,z);},_onAudienceUpdate:function(x,y){switch(x){case u.LAST_USED:this.props.onAudienceUpdate(this.props.lastAudience);return;case u.MANAGE:this.refs.manager.openCreateMode();return;case u.DEFAULT:this.props.onAudienceUpdate(this.props.defaultTargetSpec);return;default:break;}if(y)this.props.onAudienceUpdate(y.target_spec,y.audience_id);},_onAudienceEdit:function(){var x=this.state.selected,y=null;if(x===u.DEFAULT){y={target_spec:this.props.defaultTargetSpec};var z={ad_account_id:this.props.adAccountID};j.log(k.AM_DEFAULT_AUDIENCE_EDITED,z);}else if(x===u.LAST_USED){y={target_spec:this.props.defaultTargetSpec};}else y=this._getAudienceFromID(x,this.state.audiences);if(y)this.refs.manager.openEditMode(y);},_getAudienceFromID:function(x,y){var z=y.length;for(var aa=0;aa<z;++aa)if(y[aa].audience_id===x)return y[aa];return null;},_isSelectedAudienceEditable:function(){switch(this.state.selected){case u.MANAGE:return false;case u.LAST_USED:return true;default:return true;}},_hasAnyAudiences:function(){return (this.state.audiences.length+this._specialAudiences.length>0);},_addSpecialAudienceOptions:function(x){var y=this._specialAudiences,z=y.length;for(var aa=0;aa<z;++aa){var ba=y[aa];x.push(v({value:ba.audience_id},ba.audience_name));}},_addAudienceOptions:function(x){var y=this.state.audiences,z=y.length;for(var aa=0;aa<z;++aa){var ba=y[aa];x.push(v({value:ba.audience_id},ba.audience_name));}},_onPostMutate:function(x,y){this.refreshSpecs(x,y);},_getOtherNames:function(){return this.state.audiences.map(function(x){return x.audience_name;});},render:function(){var x=null,y=null;if(this._hasAnyAudiences()){var z=[],aa=this.state.audiences.length,ba=this._specialAudiences.length;this._addSpecialAudienceOptions(z);if(ba&&aa)z.push(n(null));this._addAudienceOptions(z);if(ba||aa)z.push(n(null));z.push(v({value:u.MANAGE,icon:q({src:t('/images/ui/x/image/gear.png')})},"Create Audience"));x=o({value:this.state.selected,onChange:this._onAudienceChange,maxheight:200,maxwidth:150},z);}else if(!this.state.firstFetchDone)x=m({size:"small",color:"white"});if(this._isSelectedAudienceEditable())y=r.DOM.span({className:"mts mrs rfloat"},r.DOM.a({href:"#",onClick:this._onAudienceEdit},p(null,"Edit")));return (r.DOM.div(null,i({adAccountID:this.props.adAccountID,onPostMutate:this._onPostMutate,showDefault:!this._hasAnyAudiences()&&this.state.firstFetchDone,otherNames:this._getOtherNames(),defaultCountries:this.props.defaultCountries,showFeedbackThrottle:this.props.showFeedbackThrottle,ref:"manager"}),x,y));}});e.exports=w;});
__d("BoostedPostSelectAudienceSection.react",["BoostedPostAudienceDetails.react","BoostedPostSelectAudienceSelector.react","BoostedPostSpecs","AdsTargetingTogglerSafeMixin","PromotedPostConstants","React","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=l.createClass({displayName:'BoostedPostSelectAudienceSection',mixins:[j],propTypes:{adAccountID:l.PropTypes.string.isRequired,specs:l.PropTypes.instanceOf(i).isRequired,lastAudience:l.PropTypes.object,lastAudienceID:l.PropTypes.number,defaultCountries:l.PropTypes.object.isRequired,defaultSpec:l.PropTypes.object.isRequired,showFeedbackThrottle:l.PropTypes.bool,onTargetingChange:l.PropTypes.func.isRequired},getInitialState:function(){return {specs:this.props.specs};},componentWillMount:function(){this.state.specs.subscribe(k.ACCOUNT_CHANGE_FINISH,this._refreshSpecs);},_onAudienceUpdate:function(o,p){this.state.specs.setTargetingSpec(o);if(p)this.state.specs.setLastAudienceID(p);this.setStateSafe({specs:this.state.specs});this.props.onTargetingChange();},_refreshSpecs:function(){this.refs.selector.refreshSpecs();},render:function(){return (l.DOM.div({className:"_3mui"},l.DOM.div({className:"_1obt"},h({adAccountID:this.props.adAccountID,onAudienceUpdate:this._onAudienceUpdate,lastAudience:this.props.lastAudience,lastAudienceID:this.props.lastAudienceID,defaultTargetSpec:this.props.defaultSpec,defaultCountries:this.props.defaultCountries,showFeedbackThrottle:this.props.showFeedbackThrottle,ref:"selector"})),l.DOM.div({className:"_1obt"},g({audience:this.props.specs.getTargetingSpecRaw()}))));}});e.exports=n;});
__d("BoostedPostTargetingAudienceSelector.react",["BoostedComponentEvents","AdsTargetingConstants","InputLabel.react","React","HelpLink.react","XUIRadioInput.react","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=j.createClass({displayName:'BoostedPostTargetingAudienceInfo',propTypes:{selectedAudience:j.PropTypes.oneOf([h.AUDIENCE.Grouper,h.AUDIENCE.Ncpp,h.AUDIENCE.Custom]).isRequired,showCustomAudience:j.PropTypes.bool.isRequired,isAlreadyTargeted:j.PropTypes.bool.isRequired,isInComposer:j.PropTypes.bool.isRequired,onDataUpdate:j.PropTypes.func.isRequired,isDisabled:j.PropTypes.bool},_onValueChange:function(event){if(!this.props.isDisabled)this.props.onDataUpdate(g.UPDATE_AUDIENCE,event.target.value);},_renderGrouperOption:function(){if(this.props.isDisabled)return null;var p=j.DOM.div(null,"Your boosted post will only be visible to people who like your Page and their friends");return (i(null,l({name:"audience",value:h.AUDIENCE.Grouper,checked:this.props.selectedAudience===h.AUDIENCE.Grouper,onChange:this._onValueChange}),j.DOM.label(null,"People who like your Page and their friends",k({tooltip:p}))));},_renderNcppOption:function(){if(this.props.isDisabled)return null;var p=j.DOM.div(null,"Choose the people you want to show your boosted post to based on their location, age, gender and interests");return (i({'data-testid':"ncpp_option"},l({name:"audience",value:h.AUDIENCE.Ncpp,checked:this.props.selectedAudience===h.AUDIENCE.Ncpp,onChange:this._onValueChange}),j.DOM.label(null,"People you choose through targeting",k({tooltip:p}))));},_renderCustomAudienceOption:function(){if(!this.props.showCustomAudience||this.props.isDisabled)return null;var p=j.DOM.div(null,"Your post will be promoted to people in the custom audience you choose below.");return (i(null,l({name:"audience",value:h.AUDIENCE.Custom,checked:this.props.selectedAudience===h.AUDIENCE.Custom,onChange:this._onValueChange}),j.DOM.label(null,"Your custom audience",k({tooltip:p}))));},_renderAlreadyTargeted:function(){if(!this.props.isAlreadyTargeted)return null;if(this.props.isInComposer){var p="Targeting for this post has already been specified.";}else p="Targeting for this post was specified when it was created.";var q=(("_5lq7")+(this.props.isDisabled?' '+"_5c4b":''));return (j.DOM.div({className:q,'data-testid':"already_targeted_message"},p));},render:function(){return (j.DOM.form({className:"_3ni0"},this._renderGrouperOption(),this._renderNcppOption(),this._renderCustomAudienceOption(),this._renderAlreadyTargeted()));}});e.exports=o;});
__d("ProgressBar.react",["React","cx"],function(a,b,c,d,e,f,g,h){var i=g.createClass({displayName:'UIProgressBar',propTypes:{value:g.PropTypes.number.isRequired,label:g.PropTypes.string,min:g.PropTypes.number,max:g.PropTypes.number,size:g.PropTypes.oneOf(['small','large']),typesetting:g.PropTypes.oneOf(['float','inline']),isRounded:g.PropTypes.bool},getDefaultProps:function(){return {min:0,max:100,size:'large',typesetting:'inline',isRounded:false};},_calculatePercentage:function(){var j=this.props,k=Math.min(Math.max((j.value-j.min)/(j.max-j.min)*100,0),100);return k;},_hasLabel:function(){return this.props.label!=null&&this.props.size!=='small';},_isFloatingLabel:function(){return this._hasLabel()&&this.props.typesetting==='float';},_getLabel:function(){if(!this._hasLabel())return null;return this.props.label;},_getSpacer:function(){if(this._isFloatingLabel())return g.DOM.div({className:"_6a"}," ");return null;},_getFillArea:function(){var j=Math.round(this._calculatePercentage()),k=(("_5e4k")+(j===0?' '+"_5e2d":'')+(j===100?' '+"_5e4j":'')),l=this._getLabel();if(l)l=g.DOM.span({className:"_5e2h"},l);var m=g.DOM.div({className:k,style:{width:j+'%'}},this._getSpacer(),l);return m;},_getUnfillArea:function(){var j=this._getLabel();if(!j)return null;j=g.DOM.span({className:"_5e2h _5e2n"},j);if(this._isFloatingLabel()){var k=this._calculatePercentage(),l={left:k+'%',width:k+'%'},m=g.DOM.div({className:"_5e2g",style:l},this._getSpacer(),j);return m;}return j;},render:function(){var j=(("_5e4h")+(!this._isFloatingLabel()?' '+"_5e2k":'')+(this._isFloatingLabel()?' '+"_5e2j":'')+(this.props.size==='small'?' '+"_5e2l":'')+(this.props.isRounded===true?' '+"_5e2m":''));if(this._isFloatingLabel()){var k=g.DOM.div({className:j},g.DOM.div({className:"_5e2k"},this._getUnfillArea(),this._getFillArea()));}else k=g.DOM.div({className:j},this._getUnfillArea(),this._getFillArea());return this.transferPropsTo(k);}});e.exports=i;});
__d("BoostedPostTargetingReachBar.react",["BoostedPostReachConstants","LeftRight.react","ProgressBar.react","React","XUINotice.react","cx","fbt","ads-lib-formatters"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=n.createIntlNumberFormatter(0),p=j.createClass({displayName:'BoostedPostTargetingReachBar',propTypes:{audienceSize:j.PropTypes.number,minReach:j.PropTypes.number,maxReach:j.PropTypes.number},getDefaultProps:function(){return {audienceSize:0,minReach:0,maxReach:0};},_getIsDataValid:function(){return (this.props.minReach>=0&&this.props.maxReach>this.props.minReach&&this.props.audienceSize>=this.props.maxReach);},_isAudienceBroad:function(){var q=this.props.audienceSize>g.AUDIENCE_BROAD;return q;},_getAverageReach:function(){return Math.round((this.props.minReach+this.props.maxReach)/2);},_computeFillWidth:function(){var q=this._getAverageReach();return Math.round(Math.sqrt(q)*Math.log(q));},_getFillWidth:function(){var q=this._computeFillWidth(),r=this._getTargetingBarWidth();if(q<.02*r){return Math.round(.02*r);}else if(q>.98*r)return Math.round(.98*r);return Math.round(q);},_getTargetingBarWidth:function(){return Math.round(Math.sqrt(this.props.audienceSize*Math.log(this.props.audienceSize))+this._computeFillWidth());},_renderInfoMessage:function(){var q=this.props.audienceSize,r=this._getAverageReach(),s=null;if(this._isAudienceBroad()){s="Your targeting is very broad. Narrow your targeted audience if you want your promotion to reach more people that you care about.";}else if(q&&(r/q)<g.MIN_REACH){s="Increase your budget or narrow your audience if you want to reach more people that you care about.";}else s="Your budget and targeting determine how many people your post will reach.";return (j.DOM.div({className:"_5ul1"},s));},_renderErrorMsg:function(){return (k({use:"notify"},"Estimated reach is unavailable."));},_renderHeaderInfo:function(){var q=o(this.props.minReach),r=o(this.props.maxReach),s=o(this.props.audienceSize);return (h(null,j.DOM.div(null,q," - ",r),j.DOM.div({className:"_5ul0"},m._("of {audience_size}",[m.param("audience_size",s)]))));},_renderReachBar:function(){var q=((this._isAudienceBroad()?"_5uk_":''));return (j.DOM.div({className:q},i({value:this._getFillWidth(),max:this._getTargetingBarWidth(),size:"small",isRounded:true})));},render:function(){if(!this._getIsDataValid())return this._renderErrorMsg();return (j.DOM.div(null,j.DOM.div({className:"_5uk-"},this._renderHeaderInfo(),this._renderReachBar()),this._renderInfoMessage()));}});e.exports=p;});
__d("BoostedPostTargetingSection.react",["AdsTargetingAgeSelector.react","AdsTargetingGenderSelector.react","AdsTargetingKeywordSelector.react","AdsTargetingLocationSelector.react","BoostedPostAppConfig","BoostedPostLabeledRow.react","BoostedPostStrings","BoostedPrimedDao","AdsTargetingConstants","React","XUINotice.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=m.TARGETING_LABELS,t=p.createClass({displayName:'BoostedPostTargetingSection',propTypes:{adAccountID:p.PropTypes.string.isRequired,onDataUpdate:p.PropTypes.func.isRequired,audienceSelected:p.PropTypes.number.isRequired,initialData:p.PropTypes.object.isRequired,ageSelectorOptions:p.PropTypes.object.isRequired,locationSelectorOptions:p.PropTypes.object.isRequired,showLocationTargeting:p.PropTypes.bool.isRequired,locationErrorMsg:p.PropTypes.string},_getInitialLocationTokenizer:function(){switch(this.props.initialData.targetingLevel){case 'country':return o.LOCATION_TYPES.Countries;case 'region':return o.LOCATION_TYPES.Regions;case 'city':return o.LOCATION_TYPES.Cities;default:return null;}},getLocationSelector:function(){var u=this.props.locationSelectorOptions;return (l({label:s.LOCATION},j({onDataUpdate:this.props.onDataUpdate,initialTokenizer:this._getInitialLocationTokenizer(),initialTokens:u.targetingLocations,initialRadius:this.props.initialData.radius,defaultCountries:u.defaultCountries,smallInput:true,whitelistCountries:u.whitelistCountries,blacklistCountries:u.blacklistCountries})));},getAgeSelector:function(){var u=this.props.ageSelectorOptions;return (l({label:s.AGE},g({minSelectableAge:u.minSelectableAge,maxSelectableAge:u.maxSelectableAge,initialMinAge:this.props.initialData.age.ageMin,initialMaxAge:this.props.initialData.age.ageMax,onDataUpdate:this.props.onDataUpdate})));},getGenderSelector:function(){return (l({label:s.GENDER},h({onDataUpdate:this.props.onDataUpdate,initialGender:this.props.initialData.gender})));},getKeywordSelector:function(){return (l({label:s.INTERESTS},i({initialEntries:this.props.initialData.keywords,onDataUpdate:this.props.onDataUpdate,primedDao:n.getDaoForCurrentAccount(),smallInput:true,accessToken:k.access_token})));},getLocationErrorMsg:function(){if(!this.props.locationErrorMsg)return null;var u=(("mhm")+(' '+"mvm"));return (q({className:u,use:"warn"},this.props.locationErrorMsg));},render:function(){var u=(("_3ja")+(this.props.audienceSelected===o.AUDIENCE.Grouper&&!this.props.showLocationTargeting?' '+"hidden_elem":'')),v=(("_3ja")+(this.props.audienceSelected===o.AUDIENCE.Grouper&&this.props.showLocationTargeting?' '+"hidden_elem":''));return (p.DOM.div({className:u,'data-testid':"targeting_section"},this.getLocationSelector(),this.getLocationErrorMsg(),p.DOM.div({className:v},this.getAgeSelector(),this.getGenderSelector(),this.getKeywordSelector())));}});e.exports=t;});
__d("BoostedPostFlyoutMixin",["Arbiter","AdsCurrencySelector.react","AdsTargetingTogglerSafeMixin","BoostedComponentEvents","BoostedPostBudgetModes","BoostedPostConstraints","BoostedPostSection.react","BoostedPostDisplaySectionConstants","BoostedComponentGatingStringsUtil","BoostedPostSpecs","BoostedPostLabeledRow.react","AdsTargetingConstants","PromotedPostConstants","React","XUINotice.react","BoostedPostBudgetSelector.react","BoostedPostMoreOptions.react","BoostedPostSelectAudienceSection.react","BoostedPostTargetingAudienceSelector.react","BoostedPostTargetingReachBar.react","BoostedPostTargetingSection.react","BoostedPrimedDao","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){var ea={setStateSafe:i.setStateSafe,propTypes:{pageID:t.PropTypes.string.isRequired,postID:t.PropTypes.string,boostedPostSpecs:t.PropTypes.instanceOf(p).isRequired,boostedPostConstraints:t.PropTypes.instanceOf(l).isRequired,displaySections:t.PropTypes.object.isRequired,accountSelectorOptions:t.PropTypes.object.isRequired,audienceManagerOptions:t.PropTypes.object.isRequired,audienceInfoOptions:t.PropTypes.object.isRequired,locationSelectorOptions:t.PropTypes.object.isRequired,budgetSelectorOptions:t.PropTypes.object.isRequired,experiments:t.PropTypes.object.isRequired,durationSelectorOptions:t.PropTypes.object.isRequired},componentWillMount:function(){ba.setAccountID(this.props.boostedPostSpecs.getAdAccountID());},componentDidMount:function(){this.subscribeGlobalEvents();},getInitialState:function(){return {audienceSelected:this.props.audienceInfoOptions.selectedAudience,isAlreadyTargeted:this.props.audienceInfoOptions.isAlreadyTargeted,displaySections:this.props.displaySections,reachEstimates:{minReach:this.props.boostedPostSpecs.getLowerReachEstimate(),maxReach:this.props.boostedPostSpecs.getUpperReachEstimate(),audienceSize:this.props.budgetSelectorOptions.audienceSize},locationErrorMsg:this._initLocationErrors()};},_initLocationErrors:function(){var fa=this.props.boostedPostConstraints;return o.getGatedCountryConflictString(fa.getWhitelistCountries(),fa.getBlacklistCountries(),fa.getWhitelistConflicts(),fa.getBlacklistConflicts(),fa.getConflictLevel());},updateBoostedPostSpec:function(fa,ga){var ha=k.UPDATE_TARGETING_SPEC;switch(fa){case j.UPDATE_AUDIENCE:var ia=parseInt(ga,10);this.setState({audienceSelected:ia});this.props.boostedPostSpecs.setAudience(ia);break;case j.UPDATE_CITIES:this.props.boostedPostSpecs.setLocation(this._getLocationSpecs('city',ga));break;case j.UPDATE_COUNTRIES:this.props.boostedPostSpecs.setLocation(this._getLocationSpecs('country',ga));break;case j.UPDATE_REGIONS:this.props.boostedPostSpecs.setLocation(this._getLocationSpecs('region',ga));break;case j.UPDATE_RADIUS:this.props.boostedPostSpecs.setRadius(ga);break;case j.UPDATE_MIN_AGE:this.props.boostedPostSpecs.setMinAge(ga);break;case j.UPDATE_MAX_AGE:this.props.boostedPostSpecs.setMaxAge(ga);break;case j.UPDATE_GENDER:this.props.boostedPostSpecs.setGender(ga);break;case j.UPDATE_INTERESTS:this.props.boostedPostSpecs.setInterests(this._getTokens(ga));break;case j.UPDATE_CURRENCY:ha=k.UPDATE_CURRENCY;this.props.boostedPostSpecs.setCurrency(ga);break;case j.UPDATE_DURATION:ha=k.UPDATE_CAMPAIGN_LENGTH;this.props.boostedPostSpecs.setCampaignLength(ga*86400);break;case j.UPDATE_ACCOUNT:ha=k.UPDATE_ACCOUNT;this.props.boostedPostSpecs.setAdAccountID(ga);break;case j.UPDATE_END_TIME:ha=k.UPDATE_CAMPAIGN_LENGTH;this.props.boostedPostSpecs.setCampaignEndTime(ga);break;default:break;}this._triggerBudgetSelectorUpdate(ha);},_triggerBudgetSelectorUpdate:function(fa){this.refs.budgetSelector.fetchNewBudgets(fa,this.props.boostedPostSpecs.getConfig(),this.props.boostedPostSpecs.getBudget());},onUpdateBudget:function(fa,ga){var ha=this.state.reachEstimates;if(ga.selectedBudgetInfo){this.props.boostedPostSpecs.setBudgetInfo(ga.selectedBudgetInfo);ha.minReach=ga.selectedBudgetInfo.reach_lower;ha.maxReach=ga.selectedBudgetInfo.reach_upper;}if(ga.currency)this.props.boostedPostSpecs.setCurrency(ga.currency);if(ga.audienceSize)ha.audienceSize=ga.audienceSize;var ia={errorMsg:ga.errorMsg,reachEstimates:ha,locationErrorMsg:ga.locationErrorMsg};if(ga.displaySections){var ja=this.state.displaySections;for(var ka in ga.displaySections)ja[ka]=ga.displaySections[ka];ia.displaySections=ja;}this.setStateSafe(ia);if(!ga.errorMsg&&!ga.locationErrorMsg)this.disableSaveButton(false);if(ga.mode==='update_account')this.props.boostedPostSpecs.notifyAccountChangeFinished();},_getLocationSpecs:function(fa,ga){var ha={},ia=this._getTokens(ga);if(Object.keys(ia).length===0)return null;ha[fa]=ia;return ha;},_getTokens:function(fa){var ga={},ha=fa.length;for(var ia=0;ia<ha;ia++)ga[fa[ia].getUniqueID()]=fa[ia].getTitle();return ga;},subscribeGlobalEvents:function(){this.props.boostedPostSpecs.subscribe(s.FEED_TARGETING_CHANGE,function(){this._triggerBudgetSelectorUpdate(k.UPDATE_TARGETING_SPEC);this.setState({isAlreadyTargeted:this.props.boostedPostSpecs.hasFeedTargetingSpec()});}.bind(this));},disableSaveButton:function(fa){g.inform(s.SAVE_BUTTON_DISABLE,fa);},getAudienceSelectorRow:function(){if(this.props.experiments.ncpp_new_pages&&(!this.state.isAlreadyTargeted||this.props.audienceManagerOptions.enabled))return null;var fa=this.props.audienceInfoOptions;return (q({label:this.config.labels.audienceSection},y({selectedAudience:this.state.audienceSelected,showCustomAudience:fa.showCustomAudience,isAlreadyTargeted:this.state.isAlreadyTargeted,isInComposer:fa.isInComposer,onDataUpdate:this.updateBoostedPostSpec,isDisabled:this.props.experiments.ncpp_new_pages})));},getTargetingSection:function(){if(this.state.isAlreadyTargeted||this.props.audienceManagerOptions.enabled)return null;var fa=this.props.boostedPostConstraints,ga={targetingLevel:this.props.boostedPostSpecs.getTargetingLevel(),radius:this.props.boostedPostSpecs.getRadius(),age:this.props.boostedPostSpecs.getAgeRange(),gender:this.props.boostedPostSpecs.getGender(),keywords:this.props.boostedPostSpecs.getTokenizedInterests()};return (aa({adAccountID:this.props.boostedPostSpecs.getAdAccountID(),onDataUpdate:this.updateBoostedPostSpec,audienceSelected:this.state.audienceSelected,initialData:ga,ageSelectorOptions:fa.getAgeConstraints(),locationSelectorOptions:this.props.locationSelectorOptions,showLocationTargeting:this.props.experiments.location_targeting,locationErrorMsg:this.state.locationErrorMsg}));},getAudienceManagerSection:function(){var fa=this.props.audienceManagerOptions;if(this.state.isAlreadyTargeted||!fa.enabled)return null;var ga=((this.state.audienceSelected===r.AUDIENCE.Grouper?"hidden_elem":'')+(this.props.experiments.ncpp_new_pages?' '+"_3g4p":'')),ha=this.props.experiments.ncpp_new_pages?this.config.labels.audienceSection:'';return (q({className:ga,label:ha},x({adAccountID:this.props.boostedPostSpecs.getAdAccountID(),specs:this.props.boostedPostSpecs,lastAudience:fa.lastAudience,lastAudienceID:this.props.boostedPostSpecs.getLastAudienceID(),defaultCountries:fa.defaultCountries,defaultSpec:fa.defaultSpec,showFeedbackThrottle:this.props.experiments.feedback_throttle,onTargetingChange:this._triggerBudgetSelectorUpdate.bind(this,k.UPDATE_TARGETING_SPEC)})));},getBudgetSelector:function(){return (q({label:this.config.labels.maxBudgetSection},v({pageID:this.props.pageID,postID:this.props.postID,initialBudgets:this.props.budgetSelectorOptions.initialBudgets,defaultBudget:this.props.budgetSelectorOptions.defaultBudget,constraints:this.props.boostedPostConstraints,currency:this.props.boostedPostSpecs.getCurrency(),campaignLength:this.props.boostedPostSpecs.getCampaignLengthInDays(),boostedPostConfig:this.props.boostedPostSpecs.getConfig(),onDataUpdate:this.onUpdateBudget,disableSaveButton:this.disableSaveButton,ref:"budgetSelector"})));},getTargetingReachBar:function(){if(this.state.errorMsg)return (u({className:"_1vb5",use:"warn"},this.state.errorMsg));var fa="Est. People Reached";return (q({className:"mtm",label:fa},z({minReach:this.state.reachEstimates.minReach,maxReach:this.state.reachEstimates.maxReach,audienceSize:this.state.reachEstimates.audienceSize})));},getCurrencySelector:function(){if(!this.state.displaySections[n.CURRENCY])return null;return (m({border:true},q({label:this.config.labels.currencySection},h({initialCurrency:this.props.boostedPostSpecs.getCurrency(),onDataUpdate:this.updateBoostedPostSpec}))));},getMoreOptions:function(){return this.transferPropsTo(w({selectedAccountID:this.props.boostedPostSpecs.getAdAccountID(),adAccounts:this.props.accountSelectorOptions.accounts,duration:this.props.boostedPostSpecs.getCampaignLengthInDays(),onDataUpdate:this.updateBoostedPostSpec,datePickerConfig:{enabled:this.props.durationSelectorOptions.useDatePicker,endTime:this.props.boostedPostSpecs.getCampaignEndTime(),earliestTime:this.props.durationSelectorOptions.earliestTime},labels:this.config.labels}));},getAudienceManagerLocationErrorMsg:function(){if(this.state.isAlreadyTargeted||!this.props.audienceManagerOptions.enabled||!this.state.locationErrorMsg)return null;var fa=(("mhm")+(' '+"mvm"));return (u({className:fa,use:"warn"},this.state.locationErrorMsg));},render:function(){return (t.DOM.div(null,m(null,this.getAudienceSelectorRow(),this.getTargetingSection(),this.getAudienceManagerSection(),this.getAudienceManagerLocationErrorMsg()),t.DOM.div(null,m({border:true},this.getBudgetSelector(),this.getTargetingReachBar()),this.getCurrencySelector(),this.getMoreOptions())));}};e.exports=ea;});
__d("BoostedPostCreateFlyoutBody.react",["BoostedPostFlyoutMixin","React","fbt"],function(a,b,c,d,e,f,g,h,i){var j=h.createClass({displayName:'BoostedPostCreateFlyoutBody',mixins:[g],config:{labels:{audienceSection:"Audience",maxBudgetSection:"Maximum Budget",currencySection:"Currency",durationSection:"Duration",accountSection:"Account",paymentSection:"Payment"}}});e.exports=j;});
__d("XBoostedPostHideIntroBannerControllerURIBuilder",["XControllerURIBuilder"],function(a,b,c,d,e,f,g){e.exports=g.create("\/ads\/ajax\/boosted_post\/hide_intro_banner\/",{});});
__d("BoostedPostHeader.react",["AsyncRequest","BoostedPostStatus","Link.react","React","XBoostedPostHideIntroBannerControllerURIBuilder","XUINotice.react","XUIText.react","cx","fbt","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=j.createClass({displayName:'BoostedPostHeader',propTypes:{pageID:j.PropTypes.string.isRequired,status:j.PropTypes.string.isRequired,options:j.PropTypes.shape({hideIntroBanner:j.PropTypes.bool,href:j.PropTypes.string})},getInitialState:function(){return {headerShown:true};},_hasHeader:function(){switch(this.props.status){case h.INACTIVE:if(this.props.options.hideIntroBanner)return false;return true;default:return false;}},_getHeaderType:function(){if(this.props.status===h.ERROR)return 'warn';return 'notify';},_getHeaderContent:function(){switch(this.props.status){case h.INACTIVE:return (j.DOM.div(null,m({weight:"bold"},"Boost your post to reach more people."),i({className:"pls",target:"_blank",href:this.props.options.href},"Learn More"),"."));default:p(false);}},_onDismiss:function(){if(this.props.status===h.INACTIVE)new g().setURI(new k().getURI()).setData({page_id:this.props.pageID}).setMethod('POST').send();this.setState({headerShown:false});},render:function(){if(!this._hasHeader())return j.DOM.div(null);var r=(("_3ns")+(' '+"mhm")+(' '+"ptm")+(!this.state.headerShown?' '+"hidden_elem":''));return (j.DOM.div({className:r},l({use:this._getHeaderType(),onDismiss:this._onDismiss},this._getHeaderContent())));}});e.exports=q;});
__d("BoostedPostPaymentInfo",["AsyncRequest","DOM"],function(a,b,c,d,e,f,g,h){var i=[];function j(k,l,m,n,o){"use strict";this._section=k;this._hasPayment=l;this._paymentInfoLoaded=m;this._accountID=n;this._reactCallback=o;this.initialize();}j.prototype.initialize=function(){"use strict";i.push(this);};j.prototype.remove=function(){"use strict";i.splice(i.indexOf(this),1);};j.prototype.setPaymentSection=function(k){"use strict";if(this._reactCallback){this._reactCallback(k);}else if(this._section){h.replace(this._section,k);this._section=k;}};j.prototype.setHasPayment=function(k){"use strict";this._hasPayment=k;};j.prototype.hasPaymentInfo=function(){"use strict";return this._hasPayment;};j.prototype.setPaymentInfoLoaded=function(k){"use strict";this._paymentInfoLoaded=k;};j.prototype.getPaymentInfoLoaded=function(){"use strict";return this._paymentInfoLoaded;};j.prototype.getAccountID=function(){"use strict";return this._accountID;};j.prototype.updateHasPayment=function(k){"use strict";j.setHasPayment(this._accountID,k);};j.prototype.loadPaymentInfo=function(){"use strict";if(!this._paymentInfoLoaded)j.loadPaymentInfo(this._accountID);};j.updatePaymentSection=function(k,l){"use strict";for(var m=0;m<i.length;m++){var n=i[m];if(n.getAccountID()===k)n.setPaymentSection(l.cloneNode(true));}};j.setHasPayment=function(k,l){"use strict";for(var m=0;m<i.length;m++){var n=i[m];if(n.getAccountID()===k)n.setHasPayment(l);}j.loadPaymentInfo(k);};j.loadPaymentInfo=function(k){"use strict";for(var l=0;l<i.length;l++){var m=i[l];if(m.getAccountID()===k)m.setPaymentInfoLoaded(true);}new g('/ads/ajax/boosted/payment_info.php').setData({account_id:k}).send();};j.ADS_PAYMENT_APP_ID=123097351040126;e.exports=j;});
__d("PromotedPostCreate",["AdManagerFunding","Arbiter","ArbiterMixin","AsyncRequest","BoostedPostLogging","BoostedPostPaymentInfo","BoostedPrimedDao","CSS","DOM","Event","PromotedPostConstants","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s={},t=0,u=r(i);for(var v in u)if(u.hasOwnProperty(v))x[v]=u[v];var w=u===null?null:u.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=u;function x(y,z,aa,ba,ca,da,ea,fa){"use strict";this._urlUser=da;this._userHash=ea;this._instanceID=t++;s[this._instanceID]=this;this._component=y;this._promotedObject=aa;this._placement=z;this._pageId=this._promotedObject.page_id;this._postId=this._promotedObject.post_id;this._sawCreateMode=ba;this._boostedPostSpecs=fa;m.setAccountID(this._boostedPostSpecs.getAdAccountID());this.initialize();}x.prototype.initialize=function(){"use strict";h.subscribe(q.FLYOUT_SHOW,function(){new j('/ajax/ads/boosted_posts/saw_create_mode.php').send();this._sawCreateMode=true;}.bind(this));if(this._budgetSelector){var y=o.find(this._component,'.budgetSelectorButton');p.listen(y,'click',function(){var z={page_id:this._pageId,budgets:this._budgetSelector.getBudgets()};if(this._postId)z.post_id=this._postId;k.log('budget_selector_edit_button',z);}.bind(this));}return this;};x.prototype.saveHandler=function(){"use strict";var y={page_id:this._pageId,post_id:this._postId,budget:this._boostedPostSpecs.getBudget()};k.log('create_save_click',y);this._checkForFundingSource();};x.prototype._checkForFundingSource=function(){"use strict";this.inform(q.SAVE_BUTTON_DISABLE,true);new j('/ads/ajax/boosted/check_funding_source.php').setData({ad_account_id:this._boostedPostSpecs.getAdAccountID(),page_id:this._pageId,post_id:this._postId,config:this.getBoostedPostData().formData.boosted_post_config}).setMethod('POST').setHandler(this._actOnFundingSourceResult.bind(this)).setTimeoutHandler(30000,function(){this.inform(q.SAVE_BUTTON_DISABLE,false);}.bind(this)).send();};x.prototype._actOnFundingSourceResult=function(y){"use strict";var z=y.payload;if(z){this._triggerSave();}else this.openAddPaymentDialog();};x.prototype.openAddPaymentDialog=function(){"use strict";g.addCredential('boosted_post',l.ADS_PAYMENT_APP_ID,this._boostedPostSpecs.getAdAccountID(),null,this._addPaymentCallback.bind(this),null,null,null,this._urlUser,this._userHash);this.inform(q.SAVE_BUTTON_DISABLE,false);this.inform(q.EXIT_LOADING_STATE);};x.prototype.cancelHandler=function(){"use strict";this.inform(q.CANCEL,{formData:this._collectBoostedPostData()});};x.prototype._triggerSave=function(){"use strict";this.inform(q.SAVE,this.getBoostedPostData());};x.prototype._addPaymentCallback=function(y){"use strict";var z={page_id:this._pageId,post_id:this._postId,budget:this._boostedPostSpecs.getBudget(),added_payment_method:y.credential_state};k.log('payment_flow_complete',z);if(y.credential_state)this._triggerSave();};x.prototype._collectBoostedPostData=function(){"use strict";var y=this._boostedPostSpecs.getConfig();y.setBudget(this._boostedPostSpecs.getBudget());y.setPlacement(this._placement);y.setLowerReachEstimate(this._boostedPostSpecs.getLowerReachEstimate());y.setUpperReachEstimate(this._boostedPostSpecs.getUpperReachEstimate());return {boosted_post_config:y.getJSONString()};};x.prototype.getBoostedPostData=function(){"use strict";return {budgetLabel:this._boostedPostSpecs.getBudgetLabel(),formData:this._collectBoostedPostData()};};x.prototype.setFeedTargetingSpec=function(y,z){"use strict";if(!z)return;this._boostedPostSpecs.setFeedTargetingSpec(z,y);};x.prototype._disableSaveButton=function(y){"use strict";this.inform(q.SAVE_BUTTON_DISABLE,y);};e.exports=x;});
__d("PromotedPostDisclaimerText",["CSS","DOM","Event"],function(a,b,c,d,e,f,g,h,i){function j(k){"use strict";this._disclaimer=k;this._disclaimerLink=h.find(this._disclaimer,'.disclaimerLink');this._disclaimerShort=h.find(this._disclaimer,'.disclaimerShortText');this._disclaimerLong=h.find(this._disclaimer,'.disclaimerLongText');this.init();}j.prototype.init=function(){"use strict";i.listen(this._disclaimerLink,'click',function(){this.showDisclaimer();}.bind(this));};j.prototype.showDisclaimer=function(){"use strict";g.show(this._disclaimerLong);g.hide(this._disclaimerShort);};e.exports=j;});