/*!CK:2378115929!*//*1400463185,178187597*/

if (self.CavalryLogger) { CavalryLogger.start_js(["LGxJn"]); }

__d("BroadcastRequestTokenizer.react",["BroadcastRequestID","CommentPrelude","Event","React","XUITokenizer.react","$","cx","fbt"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=j.createClass({displayName:'BroadcastRequestTokenizer',propTypes:{active:j.PropTypes.bool,entries:j.PropTypes.array.isRequired,onTokenChange:j.PropTypes.func.isRequired,onTriggerClick:j.PropTypes.func.isRequired,searchSource:j.PropTypes.object.isRequired,sourceID:j.PropTypes.string.isRequired},componentDidMount:function(){this._listener=i.listen(l(g.ADD_SUGGESTION_BUTTON+this.props.sourceID),'click',this._onTriggerClick);},componentWillUnmount:function(){this._listener.remove();},render:function(){var p=(("_3yfm")+(!this.props.active?' '+"_3yfn":''));if(!this.props.active)return (j.DOM.div({className:p,onClick:this.props.onTriggerClick},j.DOM.div({className:"_3yfo"},j.DOM.span({className:"_3yfp"},'\u002b'),"Attach a Recommendation")));var q=("Search for Recommendations");return (k({className:p,entries:this.props.entries,onAddEntryAttempt:this._onAddRecommendationEntryAttempt,onInputBlur:this.props.onBlur,onRemoveEntryAttempt:this._onRemoveRecommendationEntryAttempt,placeholder:q,ref:"tokenizer",searchSource:this.props.searchSource,showEntriesOnFocus:true}));},componentDidUpdate:function(p,q){if(!p.active&&this.props.active)this.refs.tokenizer.focusInput();},_onTriggerClick:function(){h.expand(this.getDOMNode(),false);this.props.onTriggerClick();},_onAddRecommendationEntryAttempt:function(p){var q=this.props.entries,r=q.indexOf(p);if(r===-1){q.push(p);this._onTokenChange(q);}},_onRemoveRecommendationEntryAttempt:function(p){var q=this.props.entries,r=q.indexOf(p);if(r!==-1){q.splice(r,1);this._onTokenChange(q);}},_onTokenChange:function(p){this.props.onTokenChange&&this.props.onTokenChange(p);}});e.exports=o;});